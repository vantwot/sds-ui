"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = require("react");
var util_1 = require("../../util");
function useAsync(fn) {
    var _a = (0, react_1.useState)({
        loading: true,
    }), state = _a[0], set = _a[1];
    var callback = function () {
        fn().then(function (value) {
            set({
                loading: false,
                data: value,
            });
        }, function (error) {
            set({
                loading: false,
            });
            util_1.Log.error(error);
        });
    };
    (0, react_1.useEffect)(function () {
        callback();
    }, [fn]);
    return state;
}
exports.default = useAsync;
