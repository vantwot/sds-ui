{"ast":null,"code":"export function isAsyncLike(obj) {\n  return typeof obj === 'object' && obj.then && typeof obj.then === 'function';\n}\nexport function isAsync(obj) {\n  return obj != null && (obj instanceof Promise || isAsyncLike(obj));\n}\nexport function toAsyncBoolean() {\n  const results = [];\n\n  for (var _len = arguments.length, inputs = new Array(_len), _key = 0; _key < _len; _key++) {\n    inputs[_key] = arguments[_key];\n  }\n\n  inputs.forEach(arg => {\n    if (Array.isArray(arg)) {\n      results.push(...arg);\n    } else {\n      results.push(arg);\n    }\n  });\n  const hasAsync = results.some(res => isAsync(res));\n\n  if (hasAsync) {\n    const deferres = results.map(res => isAsync(res) ? res : Promise.resolve(res !== false));\n    return Promise.all(deferres).then(arr => arr.reduce((memo, item) => item !== false && memo, true));\n  }\n\n  return results.every(res => res !== false);\n}\nexport function toDeferredBoolean() {\n  for (var _len2 = arguments.length, inputs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    inputs[_key2] = arguments[_key2];\n  }\n\n  const ret = toAsyncBoolean(inputs);\n  return typeof ret === 'boolean' ? Promise.resolve(ret) : ret;\n}","map":{"version":3,"sources":["../../../src/util/function/async.ts"],"names":[],"mappings":"AAAA,OAAM,SAAU,WAAV,CAAyB,GAAzB,EAAiC;AACrC,SAAO,OAAO,GAAP,KAAe,QAAf,IAA2B,GAAG,CAAC,IAA/B,IAAuC,OAAO,GAAG,CAAC,IAAX,KAAoB,UAAlE;AACD;AAED,OAAM,SAAU,OAAV,CAAqB,GAArB,EAA6B;AACjC,SAAO,GAAG,IAAI,IAAP,KAAgB,GAAG,YAAY,OAAf,IAA0B,WAAW,CAAC,GAAD,CAArD,CAAP;AACD;AAID,OAAM,SAAU,cAAV,GAAmD;AACvD,QAAM,OAAO,GAAU,EAAvB;;AADuD,oCAAvB,MAAuB;AAAvB,IAAA,MAAuB;AAAA;;AAGvD,EAAA,MAAM,CAAC,OAAP,CAAgB,GAAD,IAAQ;AACrB,QAAI,KAAK,CAAC,OAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,MAAA,OAAO,CAAC,IAAR,CAAa,GAAG,GAAhB;AACD,KAFD,MAEO;AACL,MAAA,OAAO,CAAC,IAAR,CAAa,GAAb;AACD;AACF,GAND;AAQA,QAAM,QAAQ,GAAG,OAAO,CAAC,IAAR,CAAc,GAAD,IAAS,OAAO,CAAC,GAAD,CAA7B,CAAjB;;AACA,MAAI,QAAJ,EAAc;AACZ,UAAM,QAAQ,GAAG,OAAO,CAAC,GAAR,CAAa,GAAD,IAC3B,OAAO,CAAC,GAAD,CAAP,GAAe,GAAf,GAAqB,OAAO,CAAC,OAAR,CAAgB,GAAG,KAAK,KAAxB,CADN,CAAjB;AAIA,WAAO,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,IAAtB,CAA4B,GAAD,IAChC,GAAG,CAAC,MAAJ,CAAoB,CAAC,IAAD,EAAO,IAAP,KAAgB,IAAI,KAAK,KAAT,IAAkB,IAAtD,EAA4D,IAA5D,CADK,CAAP;AAGD;;AAED,SAAO,OAAO,CAAC,KAAR,CAAe,GAAD,IAAS,GAAG,KAAK,KAA/B,CAAP;AACD;AAED,OAAM,SAAU,iBAAV,GAAsD;AAAA,qCAAvB,MAAuB;AAAvB,IAAA,MAAuB;AAAA;;AAC1D,QAAM,GAAG,GAAG,cAAc,CAAC,MAAD,CAA1B;AACA,SAAO,OAAO,GAAP,KAAe,SAAf,GAA2B,OAAO,CAAC,OAAR,CAAgB,GAAhB,CAA3B,GAAkD,GAAzD;AACD","sourceRoot":"","sourcesContent":["export function isAsyncLike(obj) {\n    return typeof obj === 'object' && obj.then && typeof obj.then === 'function';\n}\nexport function isAsync(obj) {\n    return obj != null && (obj instanceof Promise || isAsyncLike(obj));\n}\nexport function toAsyncBoolean(...inputs) {\n    const results = [];\n    inputs.forEach((arg) => {\n        if (Array.isArray(arg)) {\n            results.push(...arg);\n        }\n        else {\n            results.push(arg);\n        }\n    });\n    const hasAsync = results.some((res) => isAsync(res));\n    if (hasAsync) {\n        const deferres = results.map((res) => isAsync(res) ? res : Promise.resolve(res !== false));\n        return Promise.all(deferres).then((arr) => arr.reduce((memo, item) => item !== false && memo, true));\n    }\n    return results.every((res) => res !== false);\n}\nexport function toDeferredBoolean(...inputs) {\n    const ret = toAsyncBoolean(inputs);\n    return typeof ret === 'boolean' ? Promise.resolve(ret) : ret;\n}\n//# sourceMappingURL=async.js.map"]},"metadata":{},"sourceType":"module"}