{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport LRUCache from './lruCache';\n\nvar TileCache = function () {\n  function TileCache() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n    var tileDestroy = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, TileCache);\n\n    _defineProperty(this, \"cache\", void 0);\n\n    this.cache = new LRUCache(limit, tileDestroy);\n  }\n\n  _createClass(TileCache, [{\n    key: \"getTile\",\n    value: function getTile(key) {\n      return this.cache.get(key);\n    }\n  }, {\n    key: \"setTile\",\n    value: function setTile(tile, key) {\n      this.cache.set(key, tile);\n    }\n  }, {\n    key: \"destory\",\n    value: function destory() {\n      this.cache.clear();\n    }\n  }, {\n    key: \"setNeedUpdate\",\n    value: function setNeedUpdate() {\n      var _this = this;\n\n      this.cache.order.forEach(function (key) {\n        var tile = _this.cache.get(key);\n\n        tile.needUpdate = true;\n      });\n    }\n  }]);\n\n  return TileCache;\n}();\n\nexport { TileCache as default };","map":{"version":3,"sources":["../../../src/imagetile/utils/tileCache.ts"],"names":["TileCache","limit","tileDestroy","tile"],"mappings":";;;AAAA,OAAA,QAAA,MAAA,YAAA;;IACqBA,S;AAEnB,WAAA,SAAA,GAA0C;AAAA,QAA9BC,KAA8B,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAtB,EAAsB;AAAA,QAAlBC,WAAkB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,SAAA,CAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,OAAA,EAAA,KAAA,CAAA,CAAA;;AACxC,SAAA,KAAA,GAAa,IAAA,QAAA,CAAA,KAAA,EAAb,WAAa,CAAb;AACD;;;;WAED,SAAA,OAAA,CAAA,GAAA,EAA4B;AAC1B,aAAO,KAAA,KAAA,CAAA,GAAA,CAAP,GAAO,CAAP;AACD;;;WAED,SAAA,OAAA,CAAA,IAAA,EAAA,GAAA,EAAuC;AACrC,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA;AACD;;;WACD,SAAA,OAAA,GAAiB;AACf,WAAA,KAAA,CAAA,KAAA;AACD;;;WACD,SAAA,aAAA,GAAuB;AAAA,UAAA,KAAA,GAAA,IAAA;;AACrB,WAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAyB,UAAA,GAAA,EAAiB;AACxC,YAAMC,IAAI,GAAG,KAAI,CAAJ,KAAA,CAAA,GAAA,CAAb,GAAa,CAAb;;AACAA,QAAAA,IAAI,CAAJA,UAAAA,GAAAA,IAAAA;AAFF,OAAA;AAID;;;;;;SArBkBH,S","sourcesContent":["import LRUCache from './lruCache';\nexport default class TileCache {\n  public cache: any;\n  constructor(limit = 50, tileDestroy: any) {\n    this.cache = new LRUCache(limit, tileDestroy);\n  }\n\n  public getTile(key: string) {\n    return this.cache.get(key);\n  }\n\n  public setTile(tile: any, key: string) {\n    this.cache.set(key, tile);\n  }\n  public destory() {\n    this.cache.clear();\n  }\n  public setNeedUpdate() {\n    this.cache.order.forEach((key: string) => {\n      const tile = this.cache.get(key);\n      tile.needUpdate = true;\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}