{"ast":null,"code":"import { NumberExt } from '../../util';\nimport { Rectangle } from '../../geometry';\nexport function getPointBBox(p) {\n  return new Rectangle(p.x, p.y, 0, 0);\n}\nexport function getPaddingBox() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const sides = NumberExt.normalizeSides(options.padding || 20);\n  return {\n    x: -sides.left,\n    y: -sides.top,\n    width: sides.left + sides.right,\n    height: sides.top + sides.bottom\n  };\n}\nexport function getSourceBBox(view) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return view.sourceBBox.clone().moveAndExpand(getPaddingBox(options));\n}\nexport function getTargetBBox(view) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return view.targetBBox.clone().moveAndExpand(getPaddingBox(options));\n}\nexport function getSourceAnchor(view) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (view.sourceAnchor) {\n    return view.sourceAnchor;\n  }\n\n  const bbox = getSourceBBox(view, options);\n  return bbox.getCenter();\n}\nexport function getTargetAnchor(view) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (view.targetAnchor) {\n    return view.targetAnchor;\n  }\n\n  const bbox = getTargetBBox(view, options);\n  return bbox.getCenter();\n}","map":{"version":3,"sources":["../../../src/registry/router/util.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAgB,SAAhB,QAAiC,gBAAjC;AAOA,OAAM,SAAU,YAAV,CAAuB,CAAvB,EAA+B;AACnC,SAAO,IAAI,SAAJ,CAAc,CAAC,CAAC,CAAhB,EAAmB,CAAC,CAAC,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,CAAP;AACD;AAED,OAAM,SAAU,aAAV,GAAoD;AAAA,MAA5B,OAA4B,uEAAF,EAAE;AACxD,QAAM,KAAK,GAAG,SAAS,CAAC,cAAV,CAAyB,OAAO,CAAC,OAAR,IAAmB,EAA5C,CAAd;AAEA,SAAO;AACL,IAAA,CAAC,EAAE,CAAC,KAAK,CAAC,IADL;AAEL,IAAA,CAAC,EAAE,CAAC,KAAK,CAAC,GAFL;AAGL,IAAA,KAAK,EAAE,KAAK,CAAC,IAAN,GAAa,KAAK,CAAC,KAHrB;AAIL,IAAA,MAAM,EAAE,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC;AAJrB,GAAP;AAMD;AAED,OAAM,SAAU,aAAV,CAAwB,IAAxB,EAAoE;AAAA,MAA5B,OAA4B,uEAAF,EAAE;AACxE,SAAO,IAAI,CAAC,UAAL,CAAgB,KAAhB,GAAwB,aAAxB,CAAsC,aAAa,CAAC,OAAD,CAAnD,CAAP;AACD;AAED,OAAM,SAAU,aAAV,CAAwB,IAAxB,EAAoE;AAAA,MAA5B,OAA4B,uEAAF,EAAE;AACxE,SAAO,IAAI,CAAC,UAAL,CAAgB,KAAhB,GAAwB,aAAxB,CAAsC,aAAa,CAAC,OAAD,CAAnD,CAAP;AACD;AAED,OAAM,SAAU,eAAV,CAA0B,IAA1B,EAAsE;AAAA,MAA5B,OAA4B,uEAAF,EAAE;;AAC1E,MAAI,IAAI,CAAC,YAAT,EAAuB;AACrB,WAAO,IAAI,CAAC,YAAZ;AACD;;AACD,QAAM,IAAI,GAAG,aAAa,CAAC,IAAD,EAAO,OAAP,CAA1B;AACA,SAAO,IAAI,CAAC,SAAL,EAAP;AACD;AAED,OAAM,SAAU,eAAV,CAA0B,IAA1B,EAAsE;AAAA,MAA5B,OAA4B,uEAAF,EAAE;;AAC1E,MAAI,IAAI,CAAC,YAAT,EAAuB;AACrB,WAAO,IAAI,CAAC,YAAZ;AACD;;AAED,QAAM,IAAI,GAAG,aAAa,CAAC,IAAD,EAAO,OAAP,CAA1B;AACA,SAAO,IAAI,CAAC,SAAL,EAAP;AACD","sourceRoot":"","sourcesContent":["import { NumberExt } from '../../util';\nimport { Rectangle } from '../../geometry';\nexport function getPointBBox(p) {\n    return new Rectangle(p.x, p.y, 0, 0);\n}\nexport function getPaddingBox(options = {}) {\n    const sides = NumberExt.normalizeSides(options.padding || 20);\n    return {\n        x: -sides.left,\n        y: -sides.top,\n        width: sides.left + sides.right,\n        height: sides.top + sides.bottom,\n    };\n}\nexport function getSourceBBox(view, options = {}) {\n    return view.sourceBBox.clone().moveAndExpand(getPaddingBox(options));\n}\nexport function getTargetBBox(view, options = {}) {\n    return view.targetBBox.clone().moveAndExpand(getPaddingBox(options));\n}\nexport function getSourceAnchor(view, options = {}) {\n    if (view.sourceAnchor) {\n        return view.sourceAnchor;\n    }\n    const bbox = getSourceBBox(view, options);\n    return bbox.getCenter();\n}\nexport function getTargetAnchor(view, options = {}) {\n    if (view.targetAnchor) {\n        return view.targetAnchor;\n    }\n    const bbox = getTargetBBox(view, options);\n    return bbox.getCenter();\n}\n//# sourceMappingURL=util.js.map"]},"metadata":{},"sourceType":"module"}