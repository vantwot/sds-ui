{"ast":null,"code":"/* eslint-disable @typescript-eslint/lines-between-class-members */\nimport { ReactShape } from '@antv/x6-react-shape';\nimport { Node } from '@antv/x6';\nimport { XFLOW_NODE_SHAPE, NODE_DEFAULT_WIDTH, NODE_DEFAULT_HEIGHT } from '../constants';\nimport { NsGraph, XFlowConstants } from '@antv/xflow-core';\nlet XFlowNode;\nconst {\n  AnchorGroup\n} = NsGraph;\n\nif (Node.registry.exist(XFLOW_NODE_SHAPE)) {\n  XFlowNode = Node.registry.get(XFLOW_NODE_SHAPE);\n} else {\n  XFlowNode = ReactShape.define({\n    width: NODE_DEFAULT_WIDTH,\n    height: NODE_DEFAULT_HEIGHT,\n    shape: XFLOW_NODE_SHAPE,\n    // X6_NODE_PORTAL_NODE_VIEW\n    view: XFlowConstants.X6_NODE_PORTAL_NODE_VIEW,\n    ports: {\n      groups: {\n        top: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.TOP\n          }\n        },\n        bottom: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.BOTTOM\n          }\n        },\n        right: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.RIGHT\n          }\n        },\n        left: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.LEFT\n          }\n        }\n      }\n    },\n    attrs: {\n      body: {\n        magnet: false,\n        fill: 'none',\n        stroke: 'none',\n        refWidth: '100%',\n        refHeight: '100%',\n        zIndex: 1\n      }\n    },\n    portMarkup: [{\n      tagName: 'g',\n      selector: 'xflow-port-group',\n      className: 'xflow-port-group',\n      attrs: {\n        width: 8,\n        height: 8,\n        x: -4,\n        y: -4,\n        zIndex: 10,\n        // magnet决定是否可交互\n        magnet: 'true'\n      },\n      children: [{\n        tagName: 'circle',\n        selector: 'xflow-port',\n        className: 'xflow-port',\n        attrs: {\n          r: 4,\n          fill: '#fff',\n          stroke: '#d9d9d9',\n          zIndex: 12\n        }\n      }, {\n        tagName: 'polygon',\n        selector: 'xflow-port-arrow',\n        className: 'xflow-port-arrow',\n        attrs: {\n          points: '0,0 8,0 4,4 ',\n          fill: '#d9d9d9',\n          stroke: '#d9d9d9',\n          zIndex: 13,\n          transform: 'translate(-4,0)'\n        }\n      }]\n    }]\n  });\n}\n\nexport { XFlowNode, AnchorGroup };","map":{"version":3,"sources":["../../../src/canvas-dag-extension/x6-extension/node.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/* eslint-disable @typescript-eslint/lines-between-class-members */\nimport { ReactShape } from '@antv/x6-react-shape';\nimport { Node } from '@antv/x6';\nimport { XFLOW_NODE_SHAPE, NODE_DEFAULT_WIDTH, NODE_DEFAULT_HEIGHT } from '../constants';\nimport { NsGraph, XFlowConstants } from '@antv/xflow-core';\nlet XFlowNode;\nconst { AnchorGroup } = NsGraph;\nif (Node.registry.exist(XFLOW_NODE_SHAPE)) {\n    XFlowNode = Node.registry.get(XFLOW_NODE_SHAPE);\n}\nelse {\n    XFlowNode = ReactShape.define({\n        width: NODE_DEFAULT_WIDTH,\n        height: NODE_DEFAULT_HEIGHT,\n        shape: XFLOW_NODE_SHAPE,\n        // X6_NODE_PORTAL_NODE_VIEW\n        view: XFlowConstants.X6_NODE_PORTAL_NODE_VIEW,\n        ports: {\n            groups: {\n                top: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.TOP,\n                    },\n                },\n                bottom: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.BOTTOM,\n                    },\n                },\n                right: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.RIGHT,\n                    },\n                },\n                left: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.LEFT,\n                    },\n                },\n            },\n        },\n        attrs: {\n            body: {\n                magnet: false,\n                fill: 'none',\n                stroke: 'none',\n                refWidth: '100%',\n                refHeight: '100%',\n                zIndex: 1,\n            },\n        },\n        portMarkup: [\n            {\n                tagName: 'g',\n                selector: 'xflow-port-group',\n                className: 'xflow-port-group',\n                attrs: {\n                    width: 8,\n                    height: 8,\n                    x: -4,\n                    y: -4,\n                    zIndex: 10,\n                    // magnet决定是否可交互\n                    magnet: 'true',\n                },\n                children: [\n                    {\n                        tagName: 'circle',\n                        selector: 'xflow-port',\n                        className: 'xflow-port',\n                        attrs: {\n                            r: 4,\n                            fill: '#fff',\n                            stroke: '#d9d9d9',\n                            zIndex: 12,\n                        },\n                    },\n                    {\n                        tagName: 'polygon',\n                        selector: 'xflow-port-arrow',\n                        className: 'xflow-port-arrow',\n                        attrs: {\n                            points: '0,0 8,0 4,4 ',\n                            fill: '#d9d9d9',\n                            stroke: '#d9d9d9',\n                            zIndex: 13,\n                            transform: 'translate(-4,0)',\n                        },\n                    },\n                ],\n            },\n        ],\n    });\n}\nexport { XFlowNode, AnchorGroup };\n//# sourceMappingURL=node.js.map"]},"metadata":{},"sourceType":"module"}