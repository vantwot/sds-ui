{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { gl } from '@antv/l7-core';\nimport { dataTypeMap, usageMap } from './constants';\n\nvar ReglElements = function () {\n  function ReglElements(reGl, options) {\n    _classCallCheck(this, ReglElements);\n\n    _defineProperty(this, \"elements\", void 0);\n\n    var data = options.data,\n        usage = options.usage,\n        type = options.type,\n        count = options.count;\n    this.elements = reGl.elements({\n      data: data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE],\n      count: count\n    });\n  }\n\n  _createClass(ReglElements, [{\n    key: \"get\",\n    value: function get() {\n      return this.elements;\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(_ref) {\n      var data = _ref.data;\n      this.elements.subdata(data);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n\n  return ReglElements;\n}();\n\nexport { ReglElements as default };","map":{"version":3,"sources":["../../src/regl/ReglElements.ts"],"names":["ReglElements","data","usage","type","count","options","usageMap","gl","dataTypeMap"],"mappings":";;;AAAA,SAAA,EAAA,QAAA,eAAA;AAEA,SAAA,WAAA,EAAA,QAAA,QAAA,aAAA;;IAKqBA,Y;AAGnB,WAAA,YAAA,CAAA,IAAA,EAAA,OAAA,EAAsE;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,YAAA,CAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA;;AACpE,QAAQC,IAAR,GAAqCI,OAArC,CAAA,IAAA;AAAA,QAAcH,KAAd,GAAqCG,OAArC,CAAA,KAAA;AAAA,QAAqBF,IAArB,GAAqCE,OAArC,CAAA,IAAA;AAAA,QAA2BD,KAA3B,GAAqCC,OAArC,CAAA,KAAA;AAEA,SAAA,QAAA,GAAgB,IAAI,CAAJ,QAAA,CAAc;AAC5BJ,MAAAA,IAAI,EADwB,IAAA;AAE5BC,MAAAA,KAAK,EAAEI,QAAQ,CAACJ,KAAK,IAAIK,EAAE,CAFC,WAEb,CAFa;AAG5BJ,MAAAA,IAAI,EAAEK,WAAW,CAACL,IAAI,IAAII,EAAE,CAHA,aAGX,CAHW;AAO5BH,MAAAA,KAAK,EAALA;AAP4B,KAAd,CAAhB;AASD;;;;WAED,SAAA,GAAA,GAAa;AACX,aAAO,KAAP,QAAA;AACD;;;WAED,SAAA,OAAA,CAAA,IAAA,EAIG;AAAA,UAHDH,IAGC,GAAA,IAAA,CAHDA,IAGC;AACD,WAAA,QAAA,CAAA,OAAA,CAAA,IAAA;AACD;;;WAED,SAAA,OAAA,GAAiB,CAEhB;;;;;;SA/BkBD,Y","sourcesContent":["import { gl, IElements, IElementsInitializationOptions } from '@antv/l7-core';\nimport regl from 'l7regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    // this.elements.destroy();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}