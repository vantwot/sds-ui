{"ast":null,"code":"import { isMini } from '@antv/l7-utils';\nvar containerCounter = 0;\nexport function createRendererContainer(domId) {\n  if (isMini) {\n    return null;\n  }\n\n  var $wrapper = domId;\n\n  if (typeof domId === 'string') {\n    $wrapper = document.getElementById(domId);\n  }\n\n  if ($wrapper) {\n    var $container = document.createElement('div');\n    $container.style.cssText += \"\\n      position: absolute;\\n      z-index:2;\\n      height: 100%;\\n      width: 100%;\\n      pointer-events: none;\\n    \";\n    $container.id = \"l7-scene-\".concat(containerCounter++);\n    $container.classList.add('l7-scene');\n    $wrapper.appendChild($container);\n    return $container;\n  }\n\n  return null;\n}\nexport function isEventCrash(obj) {\n  var _obj$target, _obj$target$path;\n\n  var notCrash = true;\n  obj === null || obj === void 0 ? void 0 : (_obj$target = obj.target) === null || _obj$target === void 0 ? void 0 : (_obj$target$path = _obj$target.path) === null || _obj$target$path === void 0 ? void 0 : _obj$target$path.map(function (p) {\n    if (p !== null && p !== void 0 && p.classList) {\n      var _p$classList;\n\n      p === null || p === void 0 ? void 0 : (_p$classList = p.classList) === null || _p$classList === void 0 ? void 0 : _p$classList.forEach(function (n) {\n        if (n === 'l7-marker' || n === 'l7-popup') {\n          notCrash = false;\n        }\n      });\n    }\n  });\n  return notCrash;\n}","map":{"version":3,"sources":["../../src/utils/dom.ts"],"names":["containerCounter","$wrapper","document","$container","notCrash","obj","p","n"],"mappings":"AAAA,SAAA,MAAA,QAAA,gBAAA;AACA,IAAIA,gBAAgB,GAApB,CAAA;AACA,OAAO,SAAA,uBAAA,CAAA,KAAA,EAEkB;AACvB,MAAA,MAAA,EAAY;AACV,WAAA,IAAA;AACD;;AAED,MAAIC,QAAQ,GAAZ,KAAA;;AACA,MAAI,OAAA,KAAA,KAAJ,QAAA,EAA+B;AAC7BA,IAAAA,QAAQ,GAAGC,QAAQ,CAARA,cAAAA,CAAXD,KAAWC,CAAXD;AACD;;AACD,MAAA,QAAA,EAAc;AACZ,QAAME,UAAU,GAAGD,QAAQ,CAARA,aAAAA,CAAnB,KAAmBA,CAAnB;AACAC,IAAAA,UAAU,CAAVA,KAAAA,CAAAA,OAAAA,IAAAA,2HAAAA;AAOAA,IAAAA,UAAU,CAAVA,EAAAA,GAAAA,YAAAA,MAAAA,CAA4BH,gBAA5BG,EAAAA,CAAAA;AACAA,IAAAA,UAAU,CAAVA,SAAAA,CAAAA,GAAAA,CAAAA,UAAAA;AACAF,IAAAA,QAAQ,CAARA,WAAAA,CAAAA,UAAAA;AACA,WAAA,UAAA;AACD;;AAED,SAAA,IAAA;AACD;AAOD,OAAO,SAAA,YAAA,CAAA,GAAA,EAAgC;AAAA,MAAA,WAAA,EAAA,gBAAA;;AACrC,MAAIG,QAAQ,GAAZ,IAAA;AACAC,EAAAA,GAAG,KAAHA,IAAAA,IAAAA,GAAG,KAAA,KAAHA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,WAAAA,GAAAA,GAAG,CAAHA,MAAAA,MAAAA,IAAAA,IAAAA,WAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,gBAAAA,GAAAA,WAAAA,CAAAA,IAAAA,MAAAA,IAAAA,IAAAA,gBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,gBAAAA,CAAAA,GAAAA,CAAuB,UAAA,CAAA,EAAoB;AACzC,QAAIC,CAAJ,KAAA,IAAIA,IAAAA,CAAJ,KAAA,KAAA,CAAIA,IAAAA,CAAC,CAAL,SAAA,EAAkB;AAAA,UAAA,YAAA;;AAChBA,MAAAA,CAAC,KAADA,IAAAA,IAAAA,CAAC,KAAA,KAADA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,YAAAA,GAAAA,CAAC,CAADA,SAAAA,MAAAA,IAAAA,IAAAA,YAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,YAAAA,CAAAA,OAAAA,CAAsB,UAAA,CAAA,EAAY;AAChC,YAAIC,CAAC,KAADA,WAAAA,IAAqBA,CAAC,KAA1B,UAAA,EAA2C;AACzCH,UAAAA,QAAQ,GAARA,KAAAA;AACD;AAHHE,OAAAA,CAAAA;AAKD;AAPHD,GAAAA,CAAAA;AASA,SAAA,QAAA;AACD","sourcesContent":["import { isMini } from '@antv/l7-utils';\nlet containerCounter = 0;\nexport function createRendererContainer(\n  domId: string | HTMLDivElement,\n): HTMLDivElement | null {\n  if (isMini) {\n    return null;\n  }\n\n  let $wrapper = domId as HTMLDivElement;\n  if (typeof domId === 'string') {\n    $wrapper = document.getElementById(domId) as HTMLDivElement;\n  }\n  if ($wrapper) {\n    const $container = document.createElement('div');\n    $container.style.cssText += `\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    `;\n    $container.id = `l7-scene-${containerCounter++}`;\n    $container.classList.add('l7-scene');\n    $wrapper.appendChild($container);\n    return $container;\n  }\n\n  return null;\n}\n\n/**\n * 检测触发事件是否是在 marker/popup 上发生，若是则会发生冲突（发生冲突时 marker/popup 事件优先）\n * @param obj\n * @returns\n */\nexport function isEventCrash(obj: any) {\n  let notCrash = true;\n  obj?.target?.path?.map((p: HTMLElement) => {\n    if (p?.classList) {\n      p?.classList?.forEach((n: any) => {\n        if (n === 'l7-marker' || n === 'l7-popup') {\n          notCrash = false;\n        }\n      });\n    }\n  });\n  return notCrash;\n}\n"]},"metadata":{},"sourceType":"module"}