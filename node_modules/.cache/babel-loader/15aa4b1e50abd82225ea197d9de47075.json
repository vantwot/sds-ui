{"ast":null,"code":"import _defineProperty from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\nimport clamp from 'clamp';\nimport classNames from 'classnames';\nimport { debounce } from '../util';\nimport { WheelHandler } from '../util/dom/WheelHandler';\nimport { TouchHandler } from '../util/dom/TouchHandler';\nimport { MouseMoveTracker } from '../util/dom/MouseMoveTracker';\nimport { Scrollbar } from '../scrollbar';\nexport var ScrollBox = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ScrollBox, _React$PureComponent);\n\n  var _super = _createSuper(ScrollBox);\n\n  function ScrollBox() {\n    var _this;\n\n    _classCallCheck(this, ScrollBox);\n\n    _this = _super.apply(this, arguments);\n\n    _this.onScroll = function (deltaX, deltaY) {\n      if (!_this.scrolling) {\n        _this.triggerScrollStart();\n      }\n\n      if (Math.abs(deltaY) > Math.abs(deltaX) && _this.state.hasVerticalBar) {\n        _this.scrollVertical(deltaY, true);\n      } else if (deltaX && _this.state.hasHorizontalBar) {\n        _this.scrollHorizontal(deltaX, true);\n      }\n\n      _this.triggerScrollStop();\n    };\n\n    _this.onVerticalScroll = function (scrollY) {\n      if (scrollY === _this.state.scrollTop) {\n        return;\n      }\n\n      if (!_this.scrolling) {\n        _this.triggerScrollStart();\n      }\n\n      _this.scrollVertical(scrollY, false);\n\n      _this.triggerScrollStop();\n    };\n\n    _this.onHorizontalScroll = function (scrollX) {\n      if (scrollX === _this.state.scrollLeft) {\n        return;\n      }\n\n      if (!_this.scrolling) {\n        _this.triggerScrollStart();\n      }\n\n      _this.scrollHorizontal(scrollX, false);\n\n      _this.triggerScrollStop();\n    };\n\n    _this.shouldHandleWheelX = function (delta) {\n      if (!_this.state.hasHorizontalBar || delta === 0) {\n        return false;\n      }\n\n      delta = Math.round(delta); // eslint-disable-line\n\n      if (delta === 0) {\n        return false;\n      }\n\n      return delta < 0 && _this.state.scrollLeft > 0 || delta >= 0 && _this.state.scrollLeft < _this.state.maxScrollLeft;\n    };\n\n    _this.shouldHandleWheelY = function (delta) {\n      if (!_this.state.hasVerticalBar || delta === 0) {\n        return false;\n      }\n\n      delta = Math.round(delta); // eslint-disable-line\n\n      if (delta === 0) {\n        return false;\n      }\n\n      return delta < 0 && _this.state.scrollTop > 0 || delta >= 0 && _this.state.scrollTop < _this.state.maxScrollTop;\n    };\n\n    _this.shouldHandleTouchX = function (delta) {\n      return _this.props.touchable ? _this.shouldHandleWheelX(delta) : false;\n    };\n\n    _this.shouldHandleTouchY = function (delta) {\n      return _this.props.touchable ? _this.shouldHandleWheelY(delta) : false;\n    };\n\n    _this.onMouseDown = function (e) {\n      if (_this.mouseMoveTracker != null) {\n        _this.mouseMoveTracker.capture(e);\n      }\n    };\n\n    _this.onMouseMove = function (deltaX, deltaY) {\n      if (!_this.scrolling) {\n        _this.triggerScrollStart();\n      }\n\n      _this.scrollVertical(deltaY, true);\n\n      _this.scrollHorizontal(deltaX, true);\n    };\n\n    _this.onMouseMoveEnd = function () {\n      if (_this.mouseMoveTracker != null) {\n        _this.mouseMoveTracker.release();\n      }\n\n      _this.triggerScrollStop();\n    };\n\n    _this.refContainer = function (container) {\n      _this.containerElem = container;\n    };\n\n    _this.refContent = function (content) {\n      _this.contentElem = content;\n    };\n\n    _this.onWheel = function (e) {\n      if (_this.wheelHandler != null) {\n        _this.wheelHandler.onWheel(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ScrollBox, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      this.triggerScrollStop = debounce(this.triggerScrollStopSync, 200, this);\n      this.wheelHandler = new WheelHandler({\n        onWheel: this.onScroll,\n        shouldHandleScrollX: this.shouldHandleWheelX,\n        shouldHandleScrollY: this.shouldHandleWheelY,\n        stopPropagation: this.props.stopPropagation\n      });\n\n      if (this.props.touchable) {\n        this.touchHandler = new TouchHandler({\n          onTouchScroll: this.onScroll,\n          shouldHandleScrollX: this.shouldHandleTouchX,\n          shouldHandleScrollY: this.shouldHandleTouchY,\n          stopPropagation: this.props.stopPropagation\n        });\n      }\n\n      if (this.props.dragable) {\n        this.mouseMoveTracker = new MouseMoveTracker({\n          elem: document.documentElement,\n          onMouseMove: this.onMouseMove,\n          onMouseMoveEnd: this.onMouseMoveEnd\n        });\n      }\n\n      this.setState(this.calculateState());\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n      this.setState(this.calculateState());\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setState(this.calculateState(nextProps));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.wheelHandler = null;\n\n      if (this.props.touchable) {\n        this.touchHandler = null;\n      }\n\n      if (this.props.dragable && this.mouseMoveTracker != null) {\n        this.mouseMoveTracker.release();\n        this.mouseMoveTracker = null;\n      }\n\n      var triggerScrollStop = this.triggerScrollStop;\n      triggerScrollStop.reset();\n      this.triggerScrollStopSync();\n    }\n  }, {\n    key: \"calculateState\",\n    value: function calculateState() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var containerWidth = props.containerWidth !== undefined && props.containerWidth !== this.props.containerWidth ? props.containerWidth : this.props.containerWidth !== undefined ? this.props.containerWidth : this.containerElem && this.containerElem.clientWidth || 0;\n      var containerHeight = props.containerHeight !== undefined && props.containerHeight !== this.props.containerHeight ? props.containerHeight : this.props.containerHeight !== undefined ? this.props.containerHeight : this.containerElem && this.containerElem.clientHeight || 0;\n      var contentWidth = props.contentWidth !== undefined && props.contentWidth !== this.props.contentWidth ? props.contentWidth : this.props.contentWidth !== undefined ? this.props.contentWidth : this.contentElem && this.contentElem.scrollWidth || 0;\n      var contentHeight = props.contentHeight !== undefined && props.contentHeight !== this.props.contentHeight ? props.contentHeight : this.props.contentHeight !== undefined ? this.props.contentHeight : this.contentElem && this.contentElem.scrollHeight || 0;\n      var hasVerticalBar = contentHeight > containerHeight;\n      var hasHorizontalBar = contentWidth > containerWidth;\n      var scrollTop = 0;\n      var scrollLeft = 0;\n      var maxScrollTop = 0;\n      var maxScrollLeft = 0;\n      var verticalBarHeight = containerHeight;\n      var horizontalBarWidth = containerWidth;\n\n      if (hasVerticalBar) {\n        if (hasHorizontalBar) {\n          verticalBarHeight -= props.scrollbarSize;\n        }\n\n        maxScrollTop = contentHeight - verticalBarHeight;\n\n        if (props.scrollTop !== this.props.scrollTop) {\n          scrollTop = props.scrollTop;\n        } else {\n          scrollTop = (this.state ? this.state.scrollTop : props.scrollTop) || 0;\n        }\n      }\n\n      if (hasHorizontalBar) {\n        if (hasVerticalBar) {\n          horizontalBarWidth -= props.scrollbarSize;\n        }\n\n        maxScrollLeft = contentWidth - horizontalBarWidth;\n\n        if (props.scrollLeft !== this.props.scrollLeft) {\n          scrollLeft = props.scrollLeft;\n        } else {\n          scrollLeft = (this.state ? this.state.scrollLeft : props.scrollLeft) || 0;\n        }\n      }\n\n      var nextState = {\n        containerWidth: containerWidth,\n        containerHeight: containerHeight,\n        contentWidth: contentWidth,\n        contentHeight: contentHeight,\n        verticalBarHeight: verticalBarHeight,\n        horizontalBarWidth: horizontalBarWidth,\n        hasVerticalBar: hasVerticalBar,\n        hasHorizontalBar: hasHorizontalBar,\n        maxScrollTop: maxScrollTop,\n        maxScrollLeft: maxScrollLeft,\n        scrollTop: clamp(scrollTop, 0, maxScrollTop),\n        scrollLeft: clamp(scrollLeft, 0, maxScrollLeft)\n      };\n      return nextState;\n    }\n  }, {\n    key: \"scrollVertical\",\n    value: function scrollVertical(scrollY, relative) {\n      var scrollTop = clamp(relative ? this.state.scrollTop + scrollY : scrollY, 0, this.state.maxScrollTop);\n\n      if (this.props.onVerticalScroll) {\n        this.props.onVerticalScroll(scrollTop);\n      }\n\n      this.setState({\n        scrollTop: scrollTop\n      });\n    }\n  }, {\n    key: \"scrollHorizontal\",\n    value: function scrollHorizontal(scrollX, relative) {\n      var scrollLeft = clamp(relative ? this.state.scrollLeft + scrollX : scrollX, 0, this.state.maxScrollLeft);\n\n      if (this.props.onHorizontalScroll) {\n        this.props.onHorizontalScroll(scrollLeft);\n      }\n\n      this.setState({\n        scrollLeft: scrollLeft\n      });\n    }\n  }, {\n    key: \"triggerScrollStart\",\n    value: function triggerScrollStart() {\n      if (this.scrolling) {\n        return;\n      }\n\n      this.scrolling = true;\n\n      if (this.props.onScrollStart) {\n        this.props.onScrollStart(this.state.scrollLeft, this.state.scrollTop);\n      }\n    }\n  }, {\n    key: \"triggerScrollStopSync\",\n    value: function triggerScrollStopSync() {\n      if (!this.scrolling) {\n        return;\n      }\n\n      this.scrolling = false;\n\n      if (this.props.onScrollEnd) {\n        this.props.onScrollEnd(this.state.scrollLeft, this.state.scrollTop);\n      }\n    }\n  }, {\n    key: \"getScrollbarProps\",\n    value: function getScrollbarProps() {\n      return {\n        zIndex: this.props.zIndex,\n        miniThumbSize: this.props.miniThumbSize,\n        scrollbarSize: this.props.scrollbarSize,\n        keyboardScrollAmount: this.props.keyboardScrollAmount,\n        stopPropagation: true\n      };\n    }\n  }, {\n    key: \"renderVerticalBar\",\n    value: function renderVerticalBar() {\n      if (this.state.hasVerticalBar) {\n        return React.createElement(Scrollbar, Object.assign({\n          orientation: \"vertical\",\n          scrollPosition: this.state.scrollTop,\n          contentSize: this.state.contentHeight,\n          containerSize: this.state.verticalBarHeight,\n          onScroll: this.onVerticalScroll\n        }, this.getScrollbarProps()));\n      }\n    }\n  }, {\n    key: \"renderHorizontalBar\",\n    value: function renderHorizontalBar() {\n      if (this.state.hasHorizontalBar) {\n        return React.createElement(Scrollbar, Object.assign({\n          orientation: \"horizontal\",\n          scrollPosition: this.state.scrollLeft,\n          contentSize: this.state.contentWidth,\n          containerSize: this.state.horizontalBarWidth,\n          onScroll: this.onHorizontalScroll\n        }, this.getScrollbarProps()));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = {};\n\n      if (this.props.touchable) {\n        props.onTouchStart = this.touchHandler.onTouchStart;\n        props.onTouchEnd = this.touchHandler.onTouchEnd;\n        props.onTouchMove = this.touchHandler.onTouchMove;\n        props.onTouchCancel = this.touchHandler.onTouchCancel;\n      }\n\n      if (this.props.dragable) {\n        props.onMouseDown = this.onMouseDown;\n      }\n\n      var contentStyle = {};\n      var containerStyle = {};\n\n      if (this.props.containerWidth != null || this.mounted) {\n        containerStyle.width = this.state.containerWidth;\n      }\n\n      if (this.props.containerHeight != null || this.mounted) {\n        containerStyle.height = this.state.containerHeight;\n      }\n\n      if (this.props.contentWidth != null || this.mounted) {\n        contentStyle.width = this.state.contentWidth;\n      }\n\n      if (this.props.contentHeight != null || this.mounted) {\n        contentStyle.height = this.state.contentHeight;\n      }\n\n      if (this.mounted) {\n        contentStyle.transform = \"translate(-\".concat(this.state.scrollLeft, \"px, -\").concat(this.state.scrollTop, \"px)\");\n      }\n\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          scrollbarAutoHide = _this$props.scrollbarAutoHide;\n      var baseCls = \"\".concat(prefixCls, \"-scroll-box\");\n      return React.createElement(\"div\", Object.assign({}, props, {\n        style: Object.assign(Object.assign({}, this.props.containerStyle), containerStyle),\n        ref: this.refContainer,\n        onWheel: this.onWheel,\n        className: classNames(baseCls, _defineProperty({}, \"\".concat(baseCls, \"-auto-hide\"), scrollbarAutoHide), this.props.containerClassName)\n      }), React.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, this.props.contentStyle), contentStyle),\n        ref: this.refContent,\n        className: classNames(\"\".concat(baseCls, \"-content\"), this.props.contentClassName)\n      }, this.props.children), this.renderVerticalBar(), this.renderHorizontalBar());\n    }\n  }]);\n\n  return ScrollBox;\n}(React.PureComponent);\n\n(function (ScrollBox) {\n  ScrollBox.defaultProps = {\n    prefixCls: 'x6',\n    scrollTop: 0,\n    scrollLeft: 0,\n    dragable: true,\n    touchable: true,\n    scrollbarAutoHide: true,\n    scrollbarSize: Scrollbar.defaultProps.scrollbarSize,\n    miniThumbSize: Scrollbar.defaultProps.miniThumbSize,\n    keyboardScrollAmount: Scrollbar.defaultProps.keyboardScrollAmount\n  };\n})(ScrollBox || (ScrollBox = {}));","map":{"version":3,"sources":["../../src/scroll-box/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React from 'react';\nimport clamp from 'clamp';\nimport classNames from 'classnames';\nimport { debounce } from '../util';\nimport { WheelHandler } from '../util/dom/WheelHandler';\nimport { TouchHandler } from '../util/dom/TouchHandler';\nimport { MouseMoveTracker } from '../util/dom/MouseMoveTracker';\nimport { Scrollbar } from '../scrollbar';\nexport class ScrollBox extends React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.onScroll = (deltaX, deltaY) => {\n            if (!this.scrolling) {\n                this.triggerScrollStart();\n            }\n            if (Math.abs(deltaY) > Math.abs(deltaX) && this.state.hasVerticalBar) {\n                this.scrollVertical(deltaY, true);\n            }\n            else if (deltaX && this.state.hasHorizontalBar) {\n                this.scrollHorizontal(deltaX, true);\n            }\n            this.triggerScrollStop();\n        };\n        this.onVerticalScroll = (scrollY) => {\n            if (scrollY === this.state.scrollTop) {\n                return;\n            }\n            if (!this.scrolling) {\n                this.triggerScrollStart();\n            }\n            this.scrollVertical(scrollY, false);\n            this.triggerScrollStop();\n        };\n        this.onHorizontalScroll = (scrollX) => {\n            if (scrollX === this.state.scrollLeft) {\n                return;\n            }\n            if (!this.scrolling) {\n                this.triggerScrollStart();\n            }\n            this.scrollHorizontal(scrollX, false);\n            this.triggerScrollStop();\n        };\n        this.shouldHandleWheelX = (delta) => {\n            if (!this.state.hasHorizontalBar || delta === 0) {\n                return false;\n            }\n            delta = Math.round(delta); // eslint-disable-line\n            if (delta === 0) {\n                return false;\n            }\n            return ((delta < 0 && this.state.scrollLeft > 0) ||\n                (delta >= 0 && this.state.scrollLeft < this.state.maxScrollLeft));\n        };\n        this.shouldHandleWheelY = (delta) => {\n            if (!this.state.hasVerticalBar || delta === 0) {\n                return false;\n            }\n            delta = Math.round(delta); // eslint-disable-line\n            if (delta === 0) {\n                return false;\n            }\n            return ((delta < 0 && this.state.scrollTop > 0) ||\n                (delta >= 0 && this.state.scrollTop < this.state.maxScrollTop));\n        };\n        this.shouldHandleTouchX = (delta) => this.props.touchable ? this.shouldHandleWheelX(delta) : false;\n        this.shouldHandleTouchY = (delta) => this.props.touchable ? this.shouldHandleWheelY(delta) : false;\n        this.onMouseDown = (e) => {\n            if (this.mouseMoveTracker != null) {\n                this.mouseMoveTracker.capture(e);\n            }\n        };\n        this.onMouseMove = (deltaX, deltaY) => {\n            if (!this.scrolling) {\n                this.triggerScrollStart();\n            }\n            this.scrollVertical(deltaY, true);\n            this.scrollHorizontal(deltaX, true);\n        };\n        this.onMouseMoveEnd = () => {\n            if (this.mouseMoveTracker != null) {\n                this.mouseMoveTracker.release();\n            }\n            this.triggerScrollStop();\n        };\n        this.refContainer = (container) => {\n            this.containerElem = container;\n        };\n        this.refContent = (content) => {\n            this.contentElem = content;\n        };\n        this.onWheel = (e) => {\n            if (this.wheelHandler != null) {\n                this.wheelHandler.onWheel(e);\n            }\n        };\n    }\n    UNSAFE_componentWillMount() {\n        this.triggerScrollStop = debounce(this.triggerScrollStopSync, 200, this);\n        this.wheelHandler = new WheelHandler({\n            onWheel: this.onScroll,\n            shouldHandleScrollX: this.shouldHandleWheelX,\n            shouldHandleScrollY: this.shouldHandleWheelY,\n            stopPropagation: this.props.stopPropagation,\n        });\n        if (this.props.touchable) {\n            this.touchHandler = new TouchHandler({\n                onTouchScroll: this.onScroll,\n                shouldHandleScrollX: this.shouldHandleTouchX,\n                shouldHandleScrollY: this.shouldHandleTouchY,\n                stopPropagation: this.props.stopPropagation,\n            });\n        }\n        if (this.props.dragable) {\n            this.mouseMoveTracker = new MouseMoveTracker({\n                elem: document.documentElement,\n                onMouseMove: this.onMouseMove,\n                onMouseMoveEnd: this.onMouseMoveEnd,\n            });\n        }\n        this.setState(this.calculateState());\n    }\n    componentDidMount() {\n        this.mounted = true;\n        this.setState(this.calculateState());\n    }\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        this.setState(this.calculateState(nextProps));\n    }\n    componentWillUnmount() {\n        this.wheelHandler = null;\n        if (this.props.touchable) {\n            this.touchHandler = null;\n        }\n        if (this.props.dragable && this.mouseMoveTracker != null) {\n            this.mouseMoveTracker.release();\n            this.mouseMoveTracker = null;\n        }\n        const triggerScrollStop = this.triggerScrollStop;\n        triggerScrollStop.reset();\n        this.triggerScrollStopSync();\n    }\n    calculateState(props = this.props) {\n        const containerWidth = props.containerWidth !== undefined &&\n            props.containerWidth !== this.props.containerWidth\n            ? props.containerWidth\n            : this.props.containerWidth !== undefined\n                ? this.props.containerWidth\n                : (this.containerElem && this.containerElem.clientWidth) || 0;\n        const containerHeight = props.containerHeight !== undefined &&\n            props.containerHeight !== this.props.containerHeight\n            ? props.containerHeight\n            : this.props.containerHeight !== undefined\n                ? this.props.containerHeight\n                : (this.containerElem && this.containerElem.clientHeight) || 0;\n        const contentWidth = props.contentWidth !== undefined &&\n            props.contentWidth !== this.props.contentWidth\n            ? props.contentWidth\n            : this.props.contentWidth !== undefined\n                ? this.props.contentWidth\n                : (this.contentElem && this.contentElem.scrollWidth) || 0;\n        const contentHeight = props.contentHeight !== undefined &&\n            props.contentHeight !== this.props.contentHeight\n            ? props.contentHeight\n            : this.props.contentHeight !== undefined\n                ? this.props.contentHeight\n                : (this.contentElem && this.contentElem.scrollHeight) || 0;\n        const hasVerticalBar = contentHeight > containerHeight;\n        const hasHorizontalBar = contentWidth > containerWidth;\n        let scrollTop = 0;\n        let scrollLeft = 0;\n        let maxScrollTop = 0;\n        let maxScrollLeft = 0;\n        let verticalBarHeight = containerHeight;\n        let horizontalBarWidth = containerWidth;\n        if (hasVerticalBar) {\n            if (hasHorizontalBar) {\n                verticalBarHeight -= props.scrollbarSize;\n            }\n            maxScrollTop = contentHeight - verticalBarHeight;\n            if (props.scrollTop !== this.props.scrollTop) {\n                scrollTop = props.scrollTop;\n            }\n            else {\n                scrollTop = (this.state ? this.state.scrollTop : props.scrollTop) || 0;\n            }\n        }\n        if (hasHorizontalBar) {\n            if (hasVerticalBar) {\n                horizontalBarWidth -= props.scrollbarSize;\n            }\n            maxScrollLeft = contentWidth - horizontalBarWidth;\n            if (props.scrollLeft !== this.props.scrollLeft) {\n                scrollLeft = props.scrollLeft;\n            }\n            else {\n                scrollLeft =\n                    (this.state ? this.state.scrollLeft : props.scrollLeft) || 0;\n            }\n        }\n        const nextState = {\n            containerWidth,\n            containerHeight,\n            contentWidth,\n            contentHeight,\n            verticalBarHeight,\n            horizontalBarWidth,\n            hasVerticalBar,\n            hasHorizontalBar,\n            maxScrollTop,\n            maxScrollLeft,\n            scrollTop: clamp(scrollTop, 0, maxScrollTop),\n            scrollLeft: clamp(scrollLeft, 0, maxScrollLeft),\n        };\n        return nextState;\n    }\n    scrollVertical(scrollY, relative) {\n        const scrollTop = clamp(relative ? this.state.scrollTop + scrollY : scrollY, 0, this.state.maxScrollTop);\n        if (this.props.onVerticalScroll) {\n            this.props.onVerticalScroll(scrollTop);\n        }\n        this.setState({ scrollTop });\n    }\n    scrollHorizontal(scrollX, relative) {\n        const scrollLeft = clamp(relative ? this.state.scrollLeft + scrollX : scrollX, 0, this.state.maxScrollLeft);\n        if (this.props.onHorizontalScroll) {\n            this.props.onHorizontalScroll(scrollLeft);\n        }\n        this.setState({ scrollLeft });\n    }\n    triggerScrollStart() {\n        if (this.scrolling) {\n            return;\n        }\n        this.scrolling = true;\n        if (this.props.onScrollStart) {\n            this.props.onScrollStart(this.state.scrollLeft, this.state.scrollTop);\n        }\n    }\n    triggerScrollStopSync() {\n        if (!this.scrolling) {\n            return;\n        }\n        this.scrolling = false;\n        if (this.props.onScrollEnd) {\n            this.props.onScrollEnd(this.state.scrollLeft, this.state.scrollTop);\n        }\n    }\n    getScrollbarProps() {\n        return {\n            zIndex: this.props.zIndex,\n            miniThumbSize: this.props.miniThumbSize,\n            scrollbarSize: this.props.scrollbarSize,\n            keyboardScrollAmount: this.props.keyboardScrollAmount,\n            stopPropagation: true,\n        };\n    }\n    renderVerticalBar() {\n        if (this.state.hasVerticalBar) {\n            return (React.createElement(Scrollbar, Object.assign({ orientation: \"vertical\", scrollPosition: this.state.scrollTop, contentSize: this.state.contentHeight, containerSize: this.state.verticalBarHeight, onScroll: this.onVerticalScroll }, this.getScrollbarProps())));\n        }\n    }\n    renderHorizontalBar() {\n        if (this.state.hasHorizontalBar) {\n            return (React.createElement(Scrollbar, Object.assign({ orientation: \"horizontal\", scrollPosition: this.state.scrollLeft, contentSize: this.state.contentWidth, containerSize: this.state.horizontalBarWidth, onScroll: this.onHorizontalScroll }, this.getScrollbarProps())));\n        }\n    }\n    render() {\n        const props = {};\n        if (this.props.touchable) {\n            props.onTouchStart = this.touchHandler.onTouchStart;\n            props.onTouchEnd = this.touchHandler.onTouchEnd;\n            props.onTouchMove = this.touchHandler.onTouchMove;\n            props.onTouchCancel = this.touchHandler.onTouchCancel;\n        }\n        if (this.props.dragable) {\n            props.onMouseDown = this.onMouseDown;\n        }\n        const contentStyle = {};\n        const containerStyle = {};\n        if (this.props.containerWidth != null || this.mounted) {\n            containerStyle.width = this.state.containerWidth;\n        }\n        if (this.props.containerHeight != null || this.mounted) {\n            containerStyle.height = this.state.containerHeight;\n        }\n        if (this.props.contentWidth != null || this.mounted) {\n            contentStyle.width = this.state.contentWidth;\n        }\n        if (this.props.contentHeight != null || this.mounted) {\n            contentStyle.height = this.state.contentHeight;\n        }\n        if (this.mounted) {\n            contentStyle.transform = `translate(-${this.state.scrollLeft}px, -${this.state.scrollTop}px)`;\n        }\n        const { prefixCls, scrollbarAutoHide } = this.props;\n        const baseCls = `${prefixCls}-scroll-box`;\n        return (React.createElement(\"div\", Object.assign({}, props, { style: Object.assign(Object.assign({}, this.props.containerStyle), containerStyle), ref: this.refContainer, onWheel: this.onWheel, className: classNames(baseCls, {\n                [`${baseCls}-auto-hide`]: scrollbarAutoHide,\n            }, this.props.containerClassName) }),\n            React.createElement(\"div\", { style: Object.assign(Object.assign({}, this.props.contentStyle), contentStyle), ref: this.refContent, className: classNames(`${baseCls}-content`, this.props.contentClassName) }, this.props.children),\n            this.renderVerticalBar(),\n            this.renderHorizontalBar()));\n    }\n}\n(function (ScrollBox) {\n    ScrollBox.defaultProps = {\n        prefixCls: 'x6',\n        scrollTop: 0,\n        scrollLeft: 0,\n        dragable: true,\n        touchable: true,\n        scrollbarAutoHide: true,\n        scrollbarSize: Scrollbar.defaultProps.scrollbarSize,\n        miniThumbSize: Scrollbar.defaultProps.miniThumbSize,\n        keyboardScrollAmount: Scrollbar.defaultProps.keyboardScrollAmount,\n    };\n})(ScrollBox || (ScrollBox = {}));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}