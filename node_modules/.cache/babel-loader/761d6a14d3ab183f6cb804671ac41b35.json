{"ast":null,"code":"import _slicedToArray from\"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';/* Utilities */import{useHistory}from'react-router';/* UI Components */import{Select,Input}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";var OPTIONS=[{label:'Tema',value:'subjects',key:'subjects'},{label:'Producto',value:'literature',key:'literature'},{label:'Institución',value:'institutions',key:'institutions'},{label:'Grupo',value:'groups',key:'groups'},{label:'Autor',value:'authors',key:'authors'}];var SearchBar=function SearchBar(_ref){var core=_ref.core;var history=useHistory();var _useState=useState(OPTIONS[0]),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];window.addEventListener('popstate',function(){setTimeout(function(){core.setURL(history.location.pathname+history.location.search);},5);});var searchRequest=function searchRequest(input){history.push(\"/app/search?data=\".concat(selected.value).concat(input?\"&keywords=\".concat(input):''));core.setURL(\"/app/search?data=\".concat(selected.value).concat(input?\"&keywords=\".concat(input):''));};return/*#__PURE__*/_jsx(Input.Search,{style:{verticalAlign:'middle',padding:'0 5px'},addonBefore:/*#__PURE__*/_jsx(Select,{options:OPTIONS,labelInValue:\"true\",defaultValue:OPTIONS[0],onSelect:setSelected,dropdownMatchSelectWidth:100}),placeholder:'Búsqueda por palabra clave',onSearch:function onSearch(input){return searchRequest(input);},enterButton:true,size:\"large\"});};export default SearchBar;","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/SearchBar.jsx"],"names":["React","useState","useHistory","Select","Input","OPTIONS","label","value","key","SearchBar","core","history","selected","setSelected","window","addEventListener","setTimeout","setURL","location","pathname","search","searchRequest","input","push","concat","verticalAlign","padding"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,eACA,OAASC,UAAT,KAA2B,cAA3B,CAEA,mBACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,MAA9B,C,2CAEA,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,KAAK,CAAE,MADT,CAEEC,KAAK,CAAE,UAFT,CAGEC,GAAG,CAAE,UAHP,CADc,CAMd,CACEF,KAAK,CAAE,UADT,CAEEC,KAAK,CAAE,YAFT,CAGEC,GAAG,CAAE,YAHP,CANc,CAWd,CACEF,KAAK,CAAE,aADT,CAEEC,KAAK,CAAE,cAFT,CAGEC,GAAG,CAAE,cAHP,CAXc,CAgBd,CACEF,KAAK,CAAE,OADT,CAEEC,KAAK,CAAE,QAFT,CAGEC,GAAG,CAAE,QAHP,CAhBc,CAqBd,CACEF,KAAK,CAAE,OADT,CAEEC,KAAK,CAAE,SAFT,CAGEC,GAAG,CAAE,SAHP,CArBc,CAAhB,CA4BA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAC9B,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,cAAgCD,QAAQ,CAACI,OAAO,CAAC,CAAD,CAAR,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eAEAC,MAAM,CAACC,gBAAP,CAAwB,UAAxB,CAAoC,UAAM,CACxCC,UAAU,CAAC,UAAM,CACfN,IAAI,CAACO,MAAL,CAAYN,OAAO,CAACO,QAAR,CAAiBC,QAAjB,CAA4BR,OAAO,CAACO,QAAR,CAAiBE,MAAzD,EACD,CAFS,CAEP,CAFO,CAAV,CAGD,CAJD,EAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BX,OAAO,CAACY,IAAR,CACE,2BAAoBX,QAAQ,CAACL,KAA7B,EAAqCiB,MAArC,CACEF,KAAK,qBAAgBA,KAAhB,EAA0B,EADjC,CADF,EAKAZ,IAAI,CAACO,MAAL,CACE,2BAAoBL,QAAQ,CAACL,KAA7B,EAAqCiB,MAArC,CACEF,KAAK,qBAAgBA,KAAhB,EAA0B,EADjC,CADF,EAKD,CAXD,CAaA,mBACE,KAAC,KAAD,CAAO,MAAP,EACE,KAAK,CAAE,CAAEG,aAAa,CAAE,QAAjB,CAA2BC,OAAO,CAAE,OAApC,CADT,CAEE,WAAW,cACT,KAAC,MAAD,EACE,OAAO,CAAErB,OADX,CAEE,YAAY,CAAC,MAFf,CAGE,YAAY,CAAEA,OAAO,CAAC,CAAD,CAHvB,CAIE,QAAQ,CAAEQ,WAJZ,CAKE,wBAAwB,CAAE,GAL5B,EAHJ,CAWE,WAAW,CAAE,4BAXf,CAYE,QAAQ,CAAE,kBAACS,KAAD,QAAWD,CAAAA,aAAa,CAACC,KAAD,CAAxB,EAZZ,CAaE,WAAW,KAbb,CAcE,IAAI,CAAC,OAdP,EADF,CAkBD,CAzCD,CA2CA,cAAeb,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\n\n/* Utilities */\nimport { useHistory } from 'react-router';\n\n/* UI Components */\nimport { Select, Input } from 'antd';\n\nconst OPTIONS = [\n  {\n    label: 'Tema',\n    value: 'subjects',\n    key: 'subjects',\n  },\n  {\n    label: 'Producto',\n    value: 'literature',\n    key: 'literature',\n  },\n  {\n    label: 'Institución',\n    value: 'institutions',\n    key: 'institutions',\n  },\n  {\n    label: 'Grupo',\n    value: 'groups',\n    key: 'groups',\n  },\n  {\n    label: 'Autor',\n    value: 'authors',\n    key: 'authors',\n  },\n];\n\nconst SearchBar = ({ core }) => {\n  const history = useHistory();\n  const [selected, setSelected] = useState(OPTIONS[0]);\n\n  window.addEventListener('popstate', () => {\n    setTimeout(() => {\n      core.setURL(history.location.pathname + history.location.search);\n    }, 5);\n  });\n\n  const searchRequest = (input) => {\n    history.push(\n      `/app/search?data=${selected.value}`.concat(\n        input ? `&keywords=${input}` : ''\n      )\n    );\n    core.setURL(\n      `/app/search?data=${selected.value}`.concat(\n        input ? `&keywords=${input}` : ''\n      )\n    );\n  };\n\n  return (\n    <Input.Search\n      style={{ verticalAlign: 'middle', padding: '0 5px' }}\n      addonBefore={\n        <Select\n          options={OPTIONS}\n          labelInValue=\"true\"\n          defaultValue={OPTIONS[0]}\n          onSelect={setSelected}\n          dropdownMatchSelectWidth={100}\n        />\n      }\n      placeholder={'Búsqueda por palabra clave'}\n      onSearch={(input) => searchRequest(input)}\n      enterButton\n      size=\"large\"\n    />\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}