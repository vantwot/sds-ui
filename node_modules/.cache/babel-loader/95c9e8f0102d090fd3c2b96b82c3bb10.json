{"ast":null,"code":"import { offset, getStrokeWidth } from './util';\n/**\n * Places the connection point at the intersection between the edge\n * path end segment and the target node bbox.\n */\n\nexport const bbox = function (line, view, magnet, options) {\n  const bbox = view.getBBoxOfElement(magnet);\n\n  if (options.stroked) {\n    bbox.inflate(getStrokeWidth(magnet) / 2);\n  }\n\n  const intersections = line.intersect(bbox);\n  const p = intersections && intersections.length ? line.start.closest(intersections) : line.end;\n  return offset(p, line.start, options.offset);\n};","map":{"version":3,"sources":["../../../src/registry/connection-point/bbox.ts"],"names":[],"mappings":"AAAA,SAAS,MAAT,EAAiB,cAAjB,QAAuC,QAAvC;AAKA;;;AAGG;;AACH,OAAO,MAAM,IAAI,GAA4C,UAC3D,IAD2D,EAE3D,IAF2D,EAG3D,MAH2D,EAI3D,OAJ2D,EAIpD;AAEP,QAAM,IAAI,GAAG,IAAI,CAAC,gBAAL,CAAsB,MAAtB,CAAb;;AACA,MAAI,OAAO,CAAC,OAAZ,EAAqB;AACnB,IAAA,IAAI,CAAC,OAAL,CAAa,cAAc,CAAC,MAAD,CAAd,GAAyB,CAAtC;AACD;;AACD,QAAM,aAAa,GAAG,IAAI,CAAC,SAAL,CAAe,IAAf,CAAtB;AACA,QAAM,CAAC,GACL,aAAa,IAAI,aAAa,CAAC,MAA/B,GACI,IAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,aAAnB,CADJ,GAEI,IAAI,CAAC,GAHX;AAIA,SAAO,MAAM,CAAC,CAAD,EAAI,IAAI,CAAC,KAAT,EAAgB,OAAO,CAAC,MAAxB,CAAb;AACD,CAhBM","sourceRoot":"","sourcesContent":["import { offset, getStrokeWidth } from './util';\n/**\n * Places the connection point at the intersection between the edge\n * path end segment and the target node bbox.\n */\nexport const bbox = function (line, view, magnet, options) {\n    const bbox = view.getBBoxOfElement(magnet);\n    if (options.stroked) {\n        bbox.inflate(getStrokeWidth(magnet) / 2);\n    }\n    const intersections = line.intersect(bbox);\n    const p = intersections && intersections.length\n        ? line.start.closest(intersections)\n        : line.end;\n    return offset(p, line.start, options.offset);\n};\n//# sourceMappingURL=bbox.js.map"]},"metadata":{},"sourceType":"module"}