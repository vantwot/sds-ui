{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar _dec, _class;\n\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\nvar LayerStylePlugin = (_dec = injectable(), _dec(_class = function () {\n  function LayerStylePlugin() {\n    _classCallCheck(this, LayerStylePlugin);\n  }\n\n  _createClass(LayerStylePlugin, [{\n    key: \"apply\",\n    value: function apply(layer) {\n      layer.hooks.afterInit.tap('LayerStylePlugin', function () {\n        layer.updateLayerConfig({});\n\n        var _layer$getLayerConfig = layer.getLayerConfig(),\n            autoFit = _layer$getLayerConfig.autoFit,\n            fitBoundsOptions = _layer$getLayerConfig.fitBoundsOptions;\n\n        if (autoFit) {\n          setTimeout(function () {\n            layer.fitBounds(fitBoundsOptions);\n          }, 100);\n        }\n      });\n    }\n  }]);\n\n  return LayerStylePlugin;\n}()) || _class);\nexport { LayerStylePlugin as default };","map":{"version":3,"sources":["../../src/plugins/LayerStylePlugin.ts"],"names":["injectable","LayerStylePlugin","layer","autoFit","fitBoundsOptions","setTimeout"],"mappings":";;;;;AACA,SAAA,UAAA,QAAA,WAAA;AACA,OAAA,kBAAA;IAKqBC,gB,WADpBD,UAAU,E;;;;;;;WAET,SAAA,KAAA,CAAA,KAAA,EAA4B;AAC1BE,MAAAA,KAAK,CAALA,KAAAA,CAAAA,SAAAA,CAAAA,GAAAA,CAAAA,kBAAAA,EAA8C,YAAM;AAElDA,QAAAA,KAAK,CAALA,iBAAAA,CAAAA,EAAAA;;AACA,YAAA,qBAAA,GAAsCA,KAAK,CAA3C,cAAsCA,EAAtC;AAAA,YAAQC,OAAR,GAAA,qBAAA,CAAA,OAAA;AAAA,YAAiBC,gBAAjB,GAAA,qBAAA,CAAA,gBAAA;;AACA,YAAA,OAAA,EAAa;AACXC,UAAAA,UAAU,CAAC,YAAM;AACfH,YAAAA,KAAK,CAALA,SAAAA,CAAAA,gBAAAA;AADQ,WAAA,EAAVG,GAAU,CAAVA;AAGD;AARHH,OAAAA;AAUD;;;;;SAZkBD,gB","sourcesContent":["import { ILayer, ILayerPlugin, IMapService, TYPES } from '@antv/l7-core';\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\n/**\n * 更新图层样式，初始图层相关配置\n */\n@injectable()\nexport default class LayerStylePlugin implements ILayerPlugin {\n  public apply(layer: ILayer) {\n    layer.hooks.afterInit.tap('LayerStylePlugin', () => {\n      // 更新图层默认状态\n      layer.updateLayerConfig({});\n      const { autoFit, fitBoundsOptions } = layer.getLayerConfig();\n      if (autoFit) {\n        setTimeout(() => {\n          layer.fitBounds(fitBoundsOptions);\n        }, 100);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}