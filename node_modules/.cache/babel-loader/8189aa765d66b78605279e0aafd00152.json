{"ast":null,"code":"import React from'react';/* Components */import AuthorsHorizontalList from'./AuthorsHorizontalList';import DocumentModal from'./DocumentModal';import OpenAccessStatus from'./OpenAccessStatus';import SortProduction from'./SortProduction';import SubjectsHorizontalList from'./SubjectsHorizontalList';/* UI Library Components */import{Card,List,Modal,Space,Typography}from'antd';/* Icons */import{CitationsIcon}from'../media/icons/citations';import{CalendarOutlined,ReadOutlined}from'@ant-design/icons';/* UI Library Sub-components */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Link=Typography.Link;var DocumentList=function DocumentList(_ref){var data=_ref.data,tools=_ref.tools,_ref$title=_ref.title,title=_ref$title===void 0?'Artículos':_ref$title,core=_ref.core;var onPageChange=function onPageChange(_ref2){var page=_ref2.page,pageSize=_ref2.pageSize;tools.setPagination({page:page,max:pageSize});window.scrollTo(0,745);};var docInfo=function docInfo(title,id,status){Modal.info({width:'1200px',title:[title,' ',status&&/*#__PURE__*/_jsx(OpenAccessStatus,{status:status},\"0\")],closable:true,icon:null,okText:'Cerrar',maskClosable:true,content:/*#__PURE__*/_jsx(DocumentModal,{documentID:id}),onOk:function onOk(){}});};if(data.data.length&&data.data[0].title){return/*#__PURE__*/_jsx(Card,{headStyle:{backgroundColor:'#003e65',color:'white'},size:\"small\",extra:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"white-text\",children:[data.total||data.total_results,' ',data.total||data.total_results>1?'resultados':'resultado']}),/*#__PURE__*/_jsx(SortProduction,{tools:tools},\"1\")]}),title:title,children:/*#__PURE__*/_jsx(\"div\",{id:\"productionListContainer\",children:/*#__PURE__*/_jsx(List,{itemLayout:\"vertical\",size:\"small\",pagination:{size:'small',position:'bottom',total:data.total||data.total_results,onChange:function onChange(page,pageSize){return onPageChange({page:page,pageSize:pageSize});},hideOnSinglePage:true,current:tools.pagination.page,pageSize:tools.pagination.max},dataSource:data.data,renderItem:function renderItem(item){return/*#__PURE__*/_jsxs(List.Item,{actions:[/*#__PURE__*/_jsxs(Space,{style:{fontSize:18},children:[/*#__PURE__*/React.createElement(CalendarOutlined),\"Publicado: \",item.year_published]}),/*#__PURE__*/_jsxs(Space,{style:{fontSize:18},children:[/*#__PURE__*/React.createElement(CitationsIcon),item.citations_count===1?\"\".concat(item.citations_count,\" citaci\\xF3n\"):\"\".concat(item.citations_count,\" citaciones\")]})],children:[/*#__PURE__*/_jsx(List.Item.Meta,{title:[/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return docInfo(item.title,item.id,item.open_access_status);},children:item.title},\"1\"),' ',item.open_access_status&&/*#__PURE__*/_jsx(OpenAccessStatus,{status:item.open_access_status},\"2\")],description:item.source&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ReadOutlined,{}),\" \",item.source.name]})}),\"Autores:\",' ',AuthorsHorizontalList({authorsList:item.authors,core:core}),item.subjects.length?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Temas:\",' ',SubjectsHorizontalList({subjectsList:item.subjects,core:core})]}):'']},item.id);}})})});}else{return/*#__PURE__*/_jsx(Card,{title:'Artículos',size:\"small\",children:/*#__PURE__*/_jsx(List,{})});}};export default DocumentList;","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/DocumentList.jsx"],"names":["React","AuthorsHorizontalList","DocumentModal","OpenAccessStatus","SortProduction","SubjectsHorizontalList","Card","List","Modal","Space","Typography","CitationsIcon","CalendarOutlined","ReadOutlined","Link","DocumentList","data","tools","title","core","onPageChange","page","pageSize","setPagination","max","window","scrollTo","docInfo","id","status","info","width","closable","icon","okText","maskClosable","content","onOk","length","backgroundColor","color","total","total_results","size","position","onChange","hideOnSinglePage","current","pagination","item","fontSize","createElement","year_published","citations_count","open_access_status","source","name","authorsList","authors","subjects","subjectsList"],"mappings":"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","sourcesContent":["import React from 'react';\n\n/* Components */\nimport AuthorsHorizontalList from './AuthorsHorizontalList';\nimport DocumentModal from './DocumentModal';\nimport OpenAccessStatus from './OpenAccessStatus';\nimport SortProduction from './SortProduction';\nimport SubjectsHorizontalList from './SubjectsHorizontalList';\n\n/* UI Library Components */\nimport { Card, List, Modal, Space, Typography } from 'antd';\n\n/* Icons */\nimport { CitationsIcon } from '../media/icons/citations';\nimport { CalendarOutlined, ReadOutlined } from '@ant-design/icons';\n\n/* UI Library Sub-components */\nconst { Link } = Typography;\n\nconst DocumentList = ({ data, tools, title = 'Artículos', core }) => {\n  const onPageChange = ({ page, pageSize }) => {\n    tools.setPagination({ page: page, max: pageSize });\n    window.scrollTo(0, 745);\n  };\n\n  const docInfo = (title, id, status) => {\n    Modal.info({\n      width: '1200px',\n      title: [\n        title,\n        ' ',\n        status && <OpenAccessStatus status={status} key=\"0\" />,\n      ],\n      closable: true,\n      icon: null,\n      okText: 'Cerrar',\n      maskClosable: true,\n      content: <DocumentModal documentID={id} />,\n      onOk() {},\n    });\n  };\n\n  if (data.data.length && data.data[0].title) {\n    return (\n      <Card\n        headStyle={{ backgroundColor: '#003e65', color: 'white' }}\n        size=\"small\"\n        extra={\n          <div>\n            <p className=\"white-text\">\n              {data.total || data.total_results}{' '}\n              {data.total || data.total_results > 1\n                ? 'resultados'\n                : 'resultado'}\n            </p>\n            <SortProduction tools={tools} key=\"1\" />\n          </div>\n        }\n        title={title}\n      >\n        <div id=\"productionListContainer\">\n          <List\n            itemLayout=\"vertical\"\n            size=\"small\"\n            pagination={{\n              size: 'small',\n              position: 'bottom',\n              total: data.total || data.total_results,\n              onChange: (page, pageSize) =>\n                onPageChange({\n                  page,\n                  pageSize,\n                }),\n              hideOnSinglePage: true,\n              current: tools.pagination.page,\n              pageSize: tools.pagination.max,\n            }}\n            dataSource={data.data}\n            renderItem={(item) => (\n              <List.Item\n                key={item.id}\n                actions={[\n                  <Space style={{ fontSize: 18 }}>\n                    {React.createElement(CalendarOutlined)}\n                    Publicado: {item.year_published}\n                  </Space>,\n                  <Space style={{ fontSize: 18 }}>\n                    {React.createElement(CitationsIcon)}\n                    {item.citations_count === 1\n                      ? `${item.citations_count} citación`\n                      : `${item.citations_count} citaciones`}\n                  </Space>,\n                ]}\n              >\n                <List.Item.Meta\n                  title={[\n                    <Link\n                      key=\"1\"\n                      onClick={() =>\n                        docInfo(item.title, item.id, item.open_access_status)\n                      }\n                    >\n                      {item.title}\n                    </Link>,\n                    ' ',\n                    item.open_access_status && (\n                      <OpenAccessStatus\n                        status={item.open_access_status}\n                        key=\"2\"\n                      />\n                    ),\n                  ]}\n                  description={\n                    item.source && (\n                      <div>\n                        <ReadOutlined /> {item.source.name}\n                      </div>\n                    )\n                  }\n                />\n                Autores:{' '}\n                {AuthorsHorizontalList({\n                  authorsList: item.authors,\n                  core: core,\n                })}\n                {item.subjects.length ? (\n                  <>\n                    Temas:{' '}\n                    {SubjectsHorizontalList({\n                      subjectsList: item.subjects,\n                      core: core,\n                    })}\n                  </>\n                ) : (\n                  ''\n                )}\n              </List.Item>\n            )}\n          ></List>\n        </div>\n      </Card>\n    );\n  } else {\n    return (\n      <Card title={'Artículos'} size=\"small\">\n        <List></List>\n      </Card>\n    );\n  }\n};\n\nexport default DocumentList;\n"]},"metadata":{},"sourceType":"module"}