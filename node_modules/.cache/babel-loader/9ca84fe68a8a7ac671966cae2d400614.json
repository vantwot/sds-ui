{"ast":null,"code":"import _regeneratorRuntime from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar Disposable;\n\n(function (Disposable) {\n  function is(arg) {\n    return !!arg && _typeof(arg) === 'object' && 'dispose' in arg && typeof arg.dispose === 'function';\n  }\n\n  Disposable.is = is;\n\n  function create(func) {\n    return {\n      dispose: func\n    };\n  }\n\n  Disposable.create = create;\n  Disposable.NONE = create(function () {});\n})(Disposable || (Disposable = {}));\n\nvar _Symbol$iterator;\n\nvar Event;\n\n(function (Event) {\n  Event.None = function () {\n    return Disposable.NONE;\n  };\n\n  function map(event, mapFunc) {\n    return function (listener, context) {\n      return event(function (i) {\n        return listener.call(context, mapFunc(i));\n      }, undefined);\n    };\n  }\n\n  Event.map = map;\n})(Event || (Event = {}));\n\n_Symbol$iterator = Symbol.iterator;\n\nvar CallbackList = /*#__PURE__*/function (_Symbol$iterator2) {\n  function CallbackList() {\n    var mono = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, CallbackList);\n\n    this.mono = void 0;\n    this._callbacks = void 0;\n    this.mono = mono;\n  }\n\n  _createClass(CallbackList, [{\n    key: \"callbacks\",\n    get: function get() {\n      if (!this._callbacks) {\n        this._callbacks = [];\n      }\n\n      return this._callbacks;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.callbacks.length;\n    }\n  }, {\n    key: \"add\",\n    value: function add(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      this.callbacks.push([callback, context]);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      if (this.isEmpty()) return;\n      var foundCallbackWithDifferentContext = false;\n\n      for (var i = 0; i < this.length; i += 1) {\n        if (this.callbacks[i][0] === callback) {\n          if (this.callbacks[i][1] === context) {\n            // remove when callback & context match\n            this.callbacks.splice(i, 1);\n            return;\n          }\n\n          foundCallbackWithDifferentContext = true;\n        }\n      }\n\n      if (foundCallbackWithDifferentContext) {\n        throw new Error('You should remove it with the same context you add it');\n      }\n    }\n  }, {\n    key: _Symbol$iterator2,\n    value: function value() {\n      if (this.isEmpty()) {\n        return [][Symbol.iterator]();\n      }\n\n      var callbacks = this.callbacks.slice(0);\n      return callbacks.map(function (callback) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return callback[0].apply(callback[1], args);\n        };\n      })[Symbol.iterator]();\n    }\n  }, {\n    key: \"invoke\",\n    value: function invoke() {\n      var ret = [];\n\n      var _iterator = _createForOfIteratorHelper(this),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var callback = _step.value;\n\n          try {\n            ret.push(callback.apply(void 0, arguments));\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.callbacks.length === 0;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._callbacks = undefined;\n    }\n  }]);\n\n  return CallbackList;\n}(_Symbol$iterator);\n\nvar Emitter = /*#__PURE__*/function () {\n  function Emitter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Emitter);\n\n    this.options = void 0;\n    this._event = void 0;\n    this._callbacks = void 0;\n    this.disposed = false;\n    this.options = options;\n  }\n\n  _createClass(Emitter, [{\n    key: \"callbacks\",\n    get: function get() {\n      if (!this._callbacks) {\n        this._callbacks = new CallbackList();\n      }\n\n      return this._callbacks;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n  }, {\n    key: \"event\",\n    get: function get() {\n      var _this = this;\n\n      if (!this._event) {\n        this._event = function (listener, thisArgs) {\n          if (_this.options.onFirstListenerAdd && _this.callbacks.isEmpty()) {\n            _this.options.onFirstListenerAdd(_this);\n          }\n\n          _this.callbacks.add(listener, thisArgs);\n\n          var result = {\n            dispose: function dispose() {\n              result.dispose = Emitter.noop;\n\n              if (!_this.disposed) {\n                _this.callbacks.remove(listener, thisArgs);\n\n                result.dispose = Emitter.noop;\n\n                if (_this.options.onLastListenerRemove && _this.callbacks.isEmpty()) {\n                  _this.options.onLastListenerRemove(_this);\n                }\n              }\n            }\n          };\n          return result;\n        };\n      }\n\n      return this._event;\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(event) {\n      if (!this._callbacks) {\n        return;\n      }\n\n      this.callbacks.invoke(event);\n    }\n    /**\r\n     * Process each listener one by one.\r\n     * Return `false` to stop iterating over the listeners, `true` to continue.\r\n     */\n\n  }, {\n    key: \"sequence\",\n    value: function () {\n      var _sequence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(processor) {\n        var _iterator2, _step2, listener, result;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _iterator2 = _createForOfIteratorHelper(this.callbacks);\n                _context.prev = 1;\n\n                _iterator2.s();\n\n              case 3:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context.next = 12;\n                  break;\n                }\n\n                listener = _step2.value;\n                _context.next = 7;\n                return processor(listener);\n\n              case 7:\n                result = _context.sent;\n\n                if (result) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 12);\n\n              case 10:\n                _context.next = 3;\n                break;\n\n              case 12:\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](1);\n\n                _iterator2.e(_context.t0);\n\n              case 17:\n                _context.prev = 17;\n\n                _iterator2.f();\n\n                return _context.finish(17);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 14, 17, 20]]);\n      }));\n\n      function sequence(_x) {\n        return _sequence.apply(this, arguments);\n      }\n\n      return sequence;\n    }()\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._callbacks) {\n        this._callbacks.dispose();\n\n        this._callbacks = undefined;\n      }\n\n      this.disposed = true;\n    }\n  }]);\n\n  return Emitter;\n}();\n\nEmitter.noop = function () {};\n\nvar shortcutEvent = Object.freeze(Object.assign(function (callback, context) {\n  var handle = setTimeout(callback.bind(context), 0);\n  return {\n    dispose: function dispose() {\n      clearTimeout(handle);\n    }\n  };\n}, {\n  maxListeners: 0\n}));\nvar CancellationToken;\n\n(function (CancellationToken) {\n  CancellationToken.None = Object.freeze({\n    isCancellationRequested: false,\n    onCancellationRequested: Event.None\n  });\n  CancellationToken.Cancelled = Object.freeze({\n    isCancellationRequested: true,\n    onCancellationRequested: shortcutEvent\n  });\n})(CancellationToken || (CancellationToken = {}));\n\nvar MutableToken = /*#__PURE__*/function () {\n  function MutableToken() {\n    _classCallCheck(this, MutableToken);\n\n    this._isCancelled = false;\n    this._emitter = void 0;\n  }\n\n  _createClass(MutableToken, [{\n    key: \"cancel\",\n    value: function cancel() {\n      if (!this._isCancelled) {\n        this._isCancelled = true;\n\n        if (this._emitter) {\n          this._emitter.fire(undefined);\n\n          this._emitter = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"isCancellationRequested\",\n    get: function get() {\n      return this._isCancelled;\n    }\n  }, {\n    key: \"onCancellationRequested\",\n    get: function get() {\n      if (this._isCancelled) {\n        return shortcutEvent;\n      }\n\n      if (!this._emitter) {\n        this._emitter = new Emitter();\n      }\n\n      return this._emitter.event;\n    }\n  }]);\n\n  return MutableToken;\n}();\n\nvar CancellationTokenSource = /*#__PURE__*/function () {\n  function CancellationTokenSource() {\n    _classCallCheck(this, CancellationTokenSource);\n\n    this._token = void 0;\n  }\n\n  _createClass(CancellationTokenSource, [{\n    key: \"token\",\n    get: function get() {\n      if (!this._token) {\n        // be lazy and create the token only when\n        // actually needed\n        this._token = new MutableToken();\n      }\n\n      return this._token;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (!this._token) {\n        // save an object by returning the default\n        // cancelled token when cancellation happens\n        // before someone asks for the token\n        this._token = CancellationToken.Cancelled;\n      } else if (this._token !== CancellationToken.Cancelled) {\n        this._token.cancel();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.cancel();\n    }\n  }]);\n\n  return CancellationTokenSource;\n}();\n\nvar cancelledMessage = 'Cancelled';\n\nfunction cancelled() {\n  return new Error(cancelledMessage);\n}\n\nfunction isCancelled(err) {\n  return !!err && err.message === cancelledMessage;\n}\n\nfunction checkCancelled(token) {\n  if (!!token && token.isCancellationRequested) {\n    throw cancelled();\n  }\n}\n\nvar DisposableCollection = /*#__PURE__*/function () {\n  function DisposableCollection() {\n    _classCallCheck(this, DisposableCollection);\n\n    this.disposables = [];\n    this.onDisposeEmitter = new Emitter();\n    this.disposingElements = false;\n\n    for (var _len = arguments.length, toDispose = new Array(_len), _key = 0; _key < _len; _key++) {\n      toDispose[_key] = arguments[_key];\n    }\n\n    this.pushAll(toDispose);\n  }\n\n  _createClass(DisposableCollection, [{\n    key: \"disposed\",\n    get: function get() {\n      return this.disposables.length === 0;\n    }\n  }, {\n    key: \"onDispose\",\n    get: function get() {\n      return this.onDisposeEmitter.event;\n    }\n  }, {\n    key: \"checkDisposed\",\n    value: function checkDisposed() {\n      if (this.disposed && !this.disposingElements) {\n        this.onDisposeEmitter.fire(undefined);\n        this.onDisposeEmitter.dispose();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.disposed || this.disposingElements) {\n        return;\n      }\n\n      this.disposingElements = true;\n\n      while (!this.disposed) {\n        try {\n          this.disposables.pop().dispose();\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      this.disposingElements = false;\n      this.checkDisposed();\n    }\n  }, {\n    key: \"push\",\n    value: function push(disposable) {\n      var _this = this;\n\n      var disposables = this.disposables;\n      disposables.push(disposable);\n      var originalDispose = disposable.dispose.bind(disposable);\n      var toRemove = Disposable.create(function () {\n        var index = disposables.indexOf(disposable);\n\n        if (index !== -1) {\n          disposables.splice(index, 1);\n        }\n\n        _this.checkDisposed();\n      });\n\n      disposable.dispose = function () {\n        toRemove.dispose();\n        originalDispose();\n      };\n\n      return toRemove;\n    }\n  }, {\n    key: \"pushAll\",\n    value: function pushAll(disposables) {\n      var _this2 = this;\n\n      return disposables.map(function (disposable) {\n        return _this2.push(disposable);\n      });\n    }\n  }]);\n\n  return DisposableCollection;\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar noop = function noop() {};\n\nvar Deferred = function Deferred() {\n  var _this = this;\n\n  _classCallCheck(this, Deferred);\n\n  this.resolve = noop;\n  this.reject = noop;\n  this.promise = void 0;\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n};\n/**\r\n * @returns resolves after a specified number of milliseconds\r\n * @throws cancelled if a given token is cancelled before a specified number of milliseconds\r\n */\n\n\nfunction timeout(ms) {\n  var token = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CancellationToken.None;\n  var deferred = new Deferred();\n  var handle = setTimeout(function () {\n    return deferred.resolve();\n  }, ms);\n  token.onCancellationRequested(function () {\n    clearTimeout(handle);\n    deferred.reject(cancelled());\n  });\n  return deferred.promise;\n}\n\nfunction retry(_x, _x2, _x3) {\n  return _retry.apply(this, arguments);\n}\n\nfunction _retry() {\n  _retry = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(task, delay, retries) {\n    var lastError, i;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            i = 0;\n\n          case 1:\n            if (!(i < retries)) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.prev = 2;\n            _context.next = 5;\n            return task();\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            lastError = _context.t0; // eslint-disable-next-line no-await-in-loop\n\n            _context.next = 13;\n            return timeout(delay);\n\n          case 13:\n            i += 1;\n            _context.next = 1;\n            break;\n\n          case 16:\n            throw lastError;\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return _retry.apply(this, arguments);\n}\n\nexport { CancellationToken, CancellationTokenSource, Deferred, Disposable, DisposableCollection, Emitter, Event, cancelled, checkCancelled, isCancelled, retry, timeout };","map":{"version":3,"sources":["/home/manolo/sds-ui/node_modules/mana-common/dist/index.esm.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","_unsupportedIterableToArray","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","Array","from","test","arr","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","isArray","F","s","e","f","normalCompletion","didErr","step","next","return","Disposable","is","dispose","create","func","NONE","_Symbol$iterator","Event","None","map","event","mapFunc","listener","context","CallbackList","_Symbol$iterator2","mono","_callbacks","get","callbacks","add","callback","push","remove","isEmpty","foundCallbackWithDifferentContext","splice","Error","_len","_key","invoke","ret","_iterator","_step","console","Emitter","options","_event","disposed","_this","thisArgs","onFirstListenerAdd","result","noop","onLastListenerRemove","fire","_sequence","mark","_callee","processor","_iterator2","_step2","wrap","_callee$","_context","prev","sent","abrupt","t0","finish","stop","sequence","_x","shortcutEvent","freeze","assign","handle","setTimeout","bind","clearTimeout","maxListeners","CancellationToken","isCancellationRequested","onCancellationRequested","Cancelled","MutableToken","_isCancelled","_emitter","cancel","CancellationTokenSource","_token","cancelledMessage","cancelled","isCancelled","message","checkCancelled","token","DisposableCollection","disposables","onDisposeEmitter","disposingElements","toDispose","pushAll","checkDisposed","pop","disposable","originalDispose","toRemove","index","indexOf","_this2","Deferred","promise","timeout","ms","deferred","retry","_x2","_x3","_retry","task","delay","retries","lastError"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar Disposable;\n\n(function (Disposable) {\n  function is(arg) {\n    return !!arg && _typeof(arg) === 'object' && 'dispose' in arg && typeof arg.dispose === 'function';\n  }\n\n  Disposable.is = is;\n\n  function create(func) {\n    return {\n      dispose: func\n    };\n  }\n\n  Disposable.create = create;\n  Disposable.NONE = create(function () {});\n})(Disposable || (Disposable = {}));\n\nvar _Symbol$iterator;\nvar Event;\n\n(function (Event) {\n  Event.None = function () {\n    return Disposable.NONE;\n  };\n\n  function map(event, mapFunc) {\n    return function (listener, context) {\n      return event(function (i) {\n        return listener.call(context, mapFunc(i));\n      }, undefined);\n    };\n  }\n\n  Event.map = map;\n})(Event || (Event = {}));\n\n_Symbol$iterator = Symbol.iterator;\n\nvar CallbackList = /*#__PURE__*/function (_Symbol$iterator2) {\n  function CallbackList() {\n    var mono = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, CallbackList);\n\n    this.mono = void 0;\n    this._callbacks = void 0;\n    this.mono = mono;\n  }\n\n  _createClass(CallbackList, [{\n    key: \"callbacks\",\n    get: function get() {\n      if (!this._callbacks) {\n        this._callbacks = [];\n      }\n\n      return this._callbacks;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.callbacks.length;\n    }\n  }, {\n    key: \"add\",\n    value: function add(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      this.callbacks.push([callback, context]);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      if (this.isEmpty()) return;\n      var foundCallbackWithDifferentContext = false;\n\n      for (var i = 0; i < this.length; i += 1) {\n        if (this.callbacks[i][0] === callback) {\n          if (this.callbacks[i][1] === context) {\n            // remove when callback & context match\n            this.callbacks.splice(i, 1);\n            return;\n          }\n\n          foundCallbackWithDifferentContext = true;\n        }\n      }\n\n      if (foundCallbackWithDifferentContext) {\n        throw new Error('You should remove it with the same context you add it');\n      }\n    }\n  }, {\n    key: _Symbol$iterator2,\n    value: function value() {\n      if (this.isEmpty()) {\n        return [][Symbol.iterator]();\n      }\n\n      var callbacks = this.callbacks.slice(0);\n      return callbacks.map(function (callback) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return callback[0].apply(callback[1], args);\n        };\n      })[Symbol.iterator]();\n    }\n  }, {\n    key: \"invoke\",\n    value: function invoke() {\n      var ret = [];\n\n      var _iterator = _createForOfIteratorHelper(this),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var callback = _step.value;\n\n          try {\n            ret.push(callback.apply(void 0, arguments));\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.callbacks.length === 0;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._callbacks = undefined;\n    }\n  }]);\n\n  return CallbackList;\n}(_Symbol$iterator);\n\nvar Emitter = /*#__PURE__*/function () {\n  function Emitter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Emitter);\n\n    this.options = void 0;\n    this._event = void 0;\n    this._callbacks = void 0;\n    this.disposed = false;\n    this.options = options;\n  }\n\n  _createClass(Emitter, [{\n    key: \"callbacks\",\n    get: function get() {\n      if (!this._callbacks) {\n        this._callbacks = new CallbackList();\n      }\n\n      return this._callbacks;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n  }, {\n    key: \"event\",\n    get: function get() {\n      var _this = this;\n\n      if (!this._event) {\n        this._event = function (listener, thisArgs) {\n          if (_this.options.onFirstListenerAdd && _this.callbacks.isEmpty()) {\n            _this.options.onFirstListenerAdd(_this);\n          }\n\n          _this.callbacks.add(listener, thisArgs);\n\n          var result = {\n            dispose: function dispose() {\n              result.dispose = Emitter.noop;\n\n              if (!_this.disposed) {\n                _this.callbacks.remove(listener, thisArgs);\n\n                result.dispose = Emitter.noop;\n\n                if (_this.options.onLastListenerRemove && _this.callbacks.isEmpty()) {\n                  _this.options.onLastListenerRemove(_this);\n                }\n              }\n            }\n          };\n          return result;\n        };\n      }\n\n      return this._event;\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(event) {\n      if (!this._callbacks) {\n        return;\n      }\n\n      this.callbacks.invoke(event);\n    }\n    /**\r\n     * Process each listener one by one.\r\n     * Return `false` to stop iterating over the listeners, `true` to continue.\r\n     */\n\n  }, {\n    key: \"sequence\",\n    value: function () {\n      var _sequence = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(processor) {\n        var _iterator2, _step2, listener, result;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _iterator2 = _createForOfIteratorHelper(this.callbacks);\n                _context.prev = 1;\n\n                _iterator2.s();\n\n              case 3:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context.next = 12;\n                  break;\n                }\n\n                listener = _step2.value;\n                _context.next = 7;\n                return processor(listener);\n\n              case 7:\n                result = _context.sent;\n\n                if (result) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 12);\n\n              case 10:\n                _context.next = 3;\n                break;\n\n              case 12:\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](1);\n\n                _iterator2.e(_context.t0);\n\n              case 17:\n                _context.prev = 17;\n\n                _iterator2.f();\n\n                return _context.finish(17);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 14, 17, 20]]);\n      }));\n\n      function sequence(_x) {\n        return _sequence.apply(this, arguments);\n      }\n\n      return sequence;\n    }()\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._callbacks) {\n        this._callbacks.dispose();\n\n        this._callbacks = undefined;\n      }\n\n      this.disposed = true;\n    }\n  }]);\n\n  return Emitter;\n}();\n\nEmitter.noop = function () {};\n\nvar shortcutEvent = Object.freeze(Object.assign(function (callback, context) {\n  var handle = setTimeout(callback.bind(context), 0);\n  return {\n    dispose: function dispose() {\n      clearTimeout(handle);\n    }\n  };\n}, {\n  maxListeners: 0\n}));\nvar CancellationToken;\n\n(function (CancellationToken) {\n  CancellationToken.None = Object.freeze({\n    isCancellationRequested: false,\n    onCancellationRequested: Event.None\n  });\n  CancellationToken.Cancelled = Object.freeze({\n    isCancellationRequested: true,\n    onCancellationRequested: shortcutEvent\n  });\n})(CancellationToken || (CancellationToken = {}));\n\nvar MutableToken = /*#__PURE__*/function () {\n  function MutableToken() {\n    _classCallCheck(this, MutableToken);\n\n    this._isCancelled = false;\n    this._emitter = void 0;\n  }\n\n  _createClass(MutableToken, [{\n    key: \"cancel\",\n    value: function cancel() {\n      if (!this._isCancelled) {\n        this._isCancelled = true;\n\n        if (this._emitter) {\n          this._emitter.fire(undefined);\n\n          this._emitter = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"isCancellationRequested\",\n    get: function get() {\n      return this._isCancelled;\n    }\n  }, {\n    key: \"onCancellationRequested\",\n    get: function get() {\n      if (this._isCancelled) {\n        return shortcutEvent;\n      }\n\n      if (!this._emitter) {\n        this._emitter = new Emitter();\n      }\n\n      return this._emitter.event;\n    }\n  }]);\n\n  return MutableToken;\n}();\n\nvar CancellationTokenSource = /*#__PURE__*/function () {\n  function CancellationTokenSource() {\n    _classCallCheck(this, CancellationTokenSource);\n\n    this._token = void 0;\n  }\n\n  _createClass(CancellationTokenSource, [{\n    key: \"token\",\n    get: function get() {\n      if (!this._token) {\n        // be lazy and create the token only when\n        // actually needed\n        this._token = new MutableToken();\n      }\n\n      return this._token;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (!this._token) {\n        // save an object by returning the default\n        // cancelled token when cancellation happens\n        // before someone asks for the token\n        this._token = CancellationToken.Cancelled;\n      } else if (this._token !== CancellationToken.Cancelled) {\n        this._token.cancel();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.cancel();\n    }\n  }]);\n\n  return CancellationTokenSource;\n}();\nvar cancelledMessage = 'Cancelled';\nfunction cancelled() {\n  return new Error(cancelledMessage);\n}\nfunction isCancelled(err) {\n  return !!err && err.message === cancelledMessage;\n}\nfunction checkCancelled(token) {\n  if (!!token && token.isCancellationRequested) {\n    throw cancelled();\n  }\n}\n\nvar DisposableCollection = /*#__PURE__*/function () {\n  function DisposableCollection() {\n    _classCallCheck(this, DisposableCollection);\n\n    this.disposables = [];\n    this.onDisposeEmitter = new Emitter();\n    this.disposingElements = false;\n\n    for (var _len = arguments.length, toDispose = new Array(_len), _key = 0; _key < _len; _key++) {\n      toDispose[_key] = arguments[_key];\n    }\n\n    this.pushAll(toDispose);\n  }\n\n  _createClass(DisposableCollection, [{\n    key: \"disposed\",\n    get: function get() {\n      return this.disposables.length === 0;\n    }\n  }, {\n    key: \"onDispose\",\n    get: function get() {\n      return this.onDisposeEmitter.event;\n    }\n  }, {\n    key: \"checkDisposed\",\n    value: function checkDisposed() {\n      if (this.disposed && !this.disposingElements) {\n        this.onDisposeEmitter.fire(undefined);\n        this.onDisposeEmitter.dispose();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.disposed || this.disposingElements) {\n        return;\n      }\n\n      this.disposingElements = true;\n\n      while (!this.disposed) {\n        try {\n          this.disposables.pop().dispose();\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      this.disposingElements = false;\n      this.checkDisposed();\n    }\n  }, {\n    key: \"push\",\n    value: function push(disposable) {\n      var _this = this;\n\n      var disposables = this.disposables;\n      disposables.push(disposable);\n      var originalDispose = disposable.dispose.bind(disposable);\n      var toRemove = Disposable.create(function () {\n        var index = disposables.indexOf(disposable);\n\n        if (index !== -1) {\n          disposables.splice(index, 1);\n        }\n\n        _this.checkDisposed();\n      });\n\n      disposable.dispose = function () {\n        toRemove.dispose();\n        originalDispose();\n      };\n\n      return toRemove;\n    }\n  }, {\n    key: \"pushAll\",\n    value: function pushAll(disposables) {\n      var _this2 = this;\n\n      return disposables.map(function (disposable) {\n        return _this2.push(disposable);\n      });\n    }\n  }]);\n\n  return DisposableCollection;\n}();\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar noop = function noop() {};\n\nvar Deferred = function Deferred() {\n  var _this = this;\n\n  _classCallCheck(this, Deferred);\n\n  this.resolve = noop;\n  this.reject = noop;\n  this.promise = void 0;\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n};\n\n/**\r\n * @returns resolves after a specified number of milliseconds\r\n * @throws cancelled if a given token is cancelled before a specified number of milliseconds\r\n */\n\nfunction timeout(ms) {\n  var token = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CancellationToken.None;\n  var deferred = new Deferred();\n  var handle = setTimeout(function () {\n    return deferred.resolve();\n  }, ms);\n  token.onCancellationRequested(function () {\n    clearTimeout(handle);\n    deferred.reject(cancelled());\n  });\n  return deferred.promise;\n}\nfunction retry(_x, _x2, _x3) {\n  return _retry.apply(this, arguments);\n}\n\nfunction _retry() {\n  _retry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(task, delay, retries) {\n    var lastError, i;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            i = 0;\n\n          case 1:\n            if (!(i < retries)) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.prev = 2;\n            _context.next = 5;\n            return task();\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            lastError = _context.t0; // eslint-disable-next-line no-await-in-loop\n\n            _context.next = 13;\n            return timeout(delay);\n\n          case 13:\n            i += 1;\n            _context.next = 1;\n            break;\n\n          case 16:\n            throw lastError;\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return _retry.apply(this, arguments);\n}\n\nexport { CancellationToken, CancellationTokenSource, Deferred, Disposable, DisposableCollection, Emitter, Event, cancelled, checkCancelled, isCancelled, retry, timeout };\n"]},"metadata":{},"sourceType":"module"}