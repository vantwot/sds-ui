{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getColorLegendItems = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar isLegendItemI = function (legendItems) {\n  return typeof legendItems[0].value === 'number';\n};\n\nvar getColorLegendItems = function (legendItems) {\n  var items = [];\n\n  if (isLegendItemI(legendItems)) {\n    if (legendItems.length === 1) return [];\n    var cache = new Map();\n\n    for (var index = 0; index < legendItems.length; index++) {\n      var _a = legendItems[index],\n          color = _a.color,\n          value = _a.value;\n\n      if (cache.has(color)) {\n        var data = cache.get(color);\n\n        if (Array.isArray(data)) {\n          data.push(value);\n        }\n      } else {\n        cache.set(color, [value]);\n      }\n    }\n\n    var preValue_1;\n    cache.forEach(function (value, color) {\n      var min = value[0];\n      var max = value[value.length - 1];\n      var range = [preValue_1 ? preValue_1 : min, max];\n      preValue_1 = max;\n      items.push({\n        color: color,\n        value: range\n      });\n    });\n  } else {\n    items = legendItems.map(function (item) {\n      return (0, tslib_1.__assign)((0, tslib_1.__assign)({}, item), {\n        value: [Math.ceil(item.value[0]), Math.ceil(item.value[1])]\n      });\n    });\n  }\n\n  return items;\n};\n\nexports.getColorLegendItems = getColorLegendItems;","map":{"version":3,"sources":["../../../../src/layers/dot-layer/helper.ts"],"names":[],"mappings":";;;;;;;;;AAGA,IAAM,aAAa,GAAG,UAAC,WAAD,EAAmD;AACvE,SAAO,OAAO,WAAW,CAAC,CAAD,CAAX,CAAe,KAAtB,KAAgC,QAAvC;AACD,CAFD;;AAIO,IAAM,mBAAmB,GAAG,UAAC,WAAD,EAAmD;AACpF,MAAI,KAAK,GAAuB,EAAhC;;AAEA,MAAI,aAAa,CAAC,WAAD,CAAjB,EAAgC;AAC9B,QAAI,WAAW,CAAC,MAAZ,KAAuB,CAA3B,EAA8B,OAAO,EAAP;AAC9B,QAAM,KAAK,GAAG,IAAI,GAAJ,EAAd;;AAEA,SAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,WAAW,CAAC,MAAxC,EAAgD,KAAK,EAArD,EAAyD;AACjD,UAAA,EAAA,GAAmB,WAAW,CAAC,KAAD,CAA9B;AAAA,UAAE,KAAK,GAAA,EAAA,CAAA,KAAP;AAAA,UAAS,KAAK,GAAA,EAAA,CAAA,KAAd;;AACN,UAAI,KAAK,CAAC,GAAN,CAAU,KAAV,CAAJ,EAAsB;AACpB,YAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,KAAV,CAAb;;AACA,YAAI,KAAK,CAAC,OAAN,CAAc,IAAd,CAAJ,EAAyB;AACvB,UAAA,IAAI,CAAC,IAAL,CAAU,KAAV;AACD;AACF,OALD,MAKO;AACL,QAAA,KAAK,CAAC,GAAN,CAAU,KAAV,EAAiB,CAAC,KAAD,CAAjB;AACD;AACF;;AAED,QAAI,UAAJ;AACA,IAAA,KAAK,CAAC,OAAN,CAAc,UAAC,KAAD,EAAQ,KAAR,EAAa;AACzB,UAAM,GAAG,GAAG,KAAK,CAAC,CAAD,CAAjB;AACA,UAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,MAAN,GAAe,CAAhB,CAAjB;AACA,UAAM,KAAK,GAAqB,CAAC,UAAQ,GAAG,UAAH,GAAc,GAAvB,EAA4B,GAA5B,CAAhC;AACA,MAAA,UAAQ,GAAG,GAAX;AACA,MAAA,KAAK,CAAC,IAAN,CAAW;AAAE,QAAA,KAAK,EAAA,KAAP;AAAS,QAAA,KAAK,EAAE;AAAhB,OAAX;AACD,KAND;AAOD,GAxBD,MAwBO;AACL,IAAA,KAAK,GAAG,WAAW,CAAC,GAAZ,CAAgB,UAAC,IAAD,EAAK;AAAK,aAAA,CAAA,GAAA,OAAA,CAAA,QAAA,EAAA,CAAA,GAAA,OAAA,CAAA,QAAA,EAAA,EAAA,EAC7B,IAD6B,CAAA,EACzB;AACP,QAAA,KAAK,EAAE,CAAC,IAAI,CAAC,IAAL,CAAU,IAAI,CAAC,KAAL,CAAW,CAAX,CAAV,CAAD,EAA2B,IAAI,CAAC,IAAL,CAAU,IAAI,CAAC,KAAL,CAFZ,CAEY,CAAV,CAA3B;AADA,OADyB,CAAA;AAGhC,KAHM,CAAR;AAID;;AAED,SAAO,KAAP;AACD,CAnCM;;AAAM,OAAA,CAAA,mBAAA,GAAmB,mBAAnB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getColorLegendItems = void 0;\nvar tslib_1 = require(\"tslib\");\nvar isLegendItemI = function (legendItems) {\n    return typeof legendItems[0].value === 'number';\n};\nvar getColorLegendItems = function (legendItems) {\n    var items = [];\n    if (isLegendItemI(legendItems)) {\n        if (legendItems.length === 1)\n            return [];\n        var cache = new Map();\n        for (var index = 0; index < legendItems.length; index++) {\n            var _a = legendItems[index], color = _a.color, value = _a.value;\n            if (cache.has(color)) {\n                var data = cache.get(color);\n                if (Array.isArray(data)) {\n                    data.push(value);\n                }\n            }\n            else {\n                cache.set(color, [value]);\n            }\n        }\n        var preValue_1;\n        cache.forEach(function (value, color) {\n            var min = value[0];\n            var max = value[value.length - 1];\n            var range = [preValue_1 ? preValue_1 : min, max];\n            preValue_1 = max;\n            items.push({ color: color, value: range });\n        });\n    }\n    else {\n        items = legendItems.map(function (item) { return ((0, tslib_1.__assign)((0, tslib_1.__assign)({}, item), { value: [Math.ceil(item.value[0]), Math.ceil(item.value[1])] })); });\n    }\n    return items;\n};\nexports.getColorLegendItems = getColorLegendItems;\n//# sourceMappingURL=helper.js.map"]},"metadata":{},"sourceType":"script"}