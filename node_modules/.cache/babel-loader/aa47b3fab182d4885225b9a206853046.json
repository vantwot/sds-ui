{"ast":null,"code":"import { NumberExt } from '../../util';\nexport const center = createBBoxAnchor('center');\nexport const top = createBBoxAnchor('topCenter');\nexport const bottom = createBBoxAnchor('bottomCenter');\nexport const left = createBBoxAnchor('leftMiddle');\nexport const right = createBBoxAnchor('rightMiddle');\nexport const topLeft = createBBoxAnchor('topLeft');\nexport const topRight = createBBoxAnchor('topRight');\nexport const bottomLeft = createBBoxAnchor('bottomLeft');\nexport const bottomRight = createBBoxAnchor('bottomRight');\n\nfunction createBBoxAnchor(method) {\n  return function (view, magnet, ref) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const bbox = options.rotate ? view.getUnrotatedBBoxOfElement(magnet) : view.getBBoxOfElement(magnet);\n    const result = bbox[method];\n    result.x += NumberExt.normalizePercentage(options.dx, bbox.width);\n    result.y += NumberExt.normalizePercentage(options.dy, bbox.height);\n    const cell = view.cell;\n    return options.rotate ? result.rotate(-cell.getAngle(), cell.getBBox().getCenter()) : result;\n  };\n}","map":{"version":3,"sources":["../../../src/registry/node-anchor/bbox.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA0B,YAA1B;AAcA,OAAO,MAAM,MAAM,GAAG,gBAAgB,CAAC,QAAD,CAA/B;AACP,OAAO,MAAM,GAAG,GAAG,gBAAgB,CAAC,WAAD,CAA5B;AACP,OAAO,MAAM,MAAM,GAAG,gBAAgB,CAAC,cAAD,CAA/B;AACP,OAAO,MAAM,IAAI,GAAG,gBAAgB,CAAC,YAAD,CAA7B;AACP,OAAO,MAAM,KAAK,GAAG,gBAAgB,CAAC,aAAD,CAA9B;AACP,OAAO,MAAM,OAAO,GAAG,gBAAgB,CAAC,SAAD,CAAhC;AACP,OAAO,MAAM,QAAQ,GAAG,gBAAgB,CAAC,UAAD,CAAjC;AACP,OAAO,MAAM,UAAU,GAAG,gBAAgB,CAAC,YAAD,CAAnC;AACP,OAAO,MAAM,WAAW,GAAG,gBAAgB,CAAC,aAAD,CAApC;;AAEP,SAAS,gBAAT,CACE,MADF,EAUmB;AAEjB,SAAO,UAAU,IAAV,EAAgB,MAAhB,EAAwB,GAAxB,EAA8D;AAAA,QAAjC,OAAiC,uEAAF,EAAE;AACnE,UAAM,IAAI,GAAG,OAAO,CAAC,MAAR,GACT,IAAI,CAAC,yBAAL,CAA+B,MAA/B,CADS,GAET,IAAI,CAAC,gBAAL,CAAsB,MAAtB,CAFJ;AAGA,UAAM,MAAM,GAAG,IAAI,CAAC,MAAD,CAAnB;AAEA,IAAA,MAAM,CAAC,CAAP,IAAY,SAAS,CAAC,mBAAV,CAA8B,OAAO,CAAC,EAAtC,EAA0C,IAAI,CAAC,KAA/C,CAAZ;AACA,IAAA,MAAM,CAAC,CAAP,IAAY,SAAS,CAAC,mBAAV,CAA8B,OAAO,CAAC,EAAtC,EAA0C,IAAI,CAAC,MAA/C,CAAZ;AAEA,UAAM,IAAI,GAAG,IAAI,CAAC,IAAlB;AACA,WAAO,OAAO,CAAC,MAAR,GACH,MAAM,CAAC,MAAP,CAAc,CAAC,IAAI,CAAC,QAAL,EAAf,EAAgC,IAAI,CAAC,OAAL,GAAe,SAAf,EAAhC,CADG,GAEH,MAFJ;AAGD,GAbD;AAcD","sourceRoot":"","sourcesContent":["import { NumberExt } from '../../util';\nexport const center = createBBoxAnchor('center');\nexport const top = createBBoxAnchor('topCenter');\nexport const bottom = createBBoxAnchor('bottomCenter');\nexport const left = createBBoxAnchor('leftMiddle');\nexport const right = createBBoxAnchor('rightMiddle');\nexport const topLeft = createBBoxAnchor('topLeft');\nexport const topRight = createBBoxAnchor('topRight');\nexport const bottomLeft = createBBoxAnchor('bottomLeft');\nexport const bottomRight = createBBoxAnchor('bottomRight');\nfunction createBBoxAnchor(method) {\n    return function (view, magnet, ref, options = {}) {\n        const bbox = options.rotate\n            ? view.getUnrotatedBBoxOfElement(magnet)\n            : view.getBBoxOfElement(magnet);\n        const result = bbox[method];\n        result.x += NumberExt.normalizePercentage(options.dx, bbox.width);\n        result.y += NumberExt.normalizePercentage(options.dy, bbox.height);\n        const cell = view.cell;\n        return options.rotate\n            ? result.rotate(-cell.getAngle(), cell.getBBox().getCenter())\n            : result;\n    };\n}\n//# sourceMappingURL=bbox.js.map"]},"metadata":{},"sourceType":"module"}