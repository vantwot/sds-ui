{"ast":null,"code":"import _classCallCheck from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/* eslint-disable no-underscore-dangle */\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable() {\n    _classCallCheck(this, Disposable);\n  }\n\n  _createClass(Disposable, [{\n    key: \"disposed\",\n    get: function get() {\n      return this._disposed === true;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._disposed = true;\n    }\n  }]);\n\n  return Disposable;\n}();\n\n(function (Disposable) {\n  function dispose() {\n    return function (target, methodName, descriptor) {\n      var raw = descriptor.value;\n      var proto = target.__proto__; // eslint-disable-line\n\n      descriptor.value = function () {\n        if (this.disposed) {\n          return;\n        }\n\n        raw.call(this);\n        proto.dispose.call(this);\n      };\n    };\n  }\n\n  Disposable.dispose = dispose;\n})(Disposable || (Disposable = {}));\n/**\n * A disposable object which delegates to a callback function.\n */\n\n\nexport var DisposableDelegate = /*#__PURE__*/function () {\n  /**\n   * Construct a new disposable delegate.\n   *\n   * @param callback - The callback function to invoke on dispose.\n   */\n  function DisposableDelegate(callback) {\n    _classCallCheck(this, DisposableDelegate);\n\n    this.callback = callback;\n  }\n  /**\n   * Test whether the delegate has been disposed.\n   */\n\n\n  _createClass(DisposableDelegate, [{\n    key: \"disposed\",\n    get: function get() {\n      return !this.callback;\n    }\n    /**\n     * Dispose of the delegate and invoke the callback function.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.callback) {\n        return;\n      }\n\n      var callback = this.callback;\n      this.callback = null;\n      callback();\n    }\n  }]);\n\n  return DisposableDelegate;\n}();\n/**\n * An object which manages a collection of disposable items.\n */\n\nexport var DisposableSet = /*#__PURE__*/function () {\n  function DisposableSet() {\n    _classCallCheck(this, DisposableSet);\n\n    this.isDisposed = false; // eslint-disable-line:variable-name\n\n    this.items = new Set();\n  }\n  /**\n   * Test whether the set has been disposed.\n   */\n\n\n  _createClass(DisposableSet, [{\n    key: \"disposed\",\n    get: function get() {\n      return this.isDisposed;\n    }\n    /**\n     * Dispose of the set and the items it contains.\n     *\n     * #### Notes\n     * Items are disposed in the order they are added to the set.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.isDisposed) {\n        return;\n      }\n\n      this.isDisposed = true;\n      this.items.forEach(function (item) {\n        item.dispose();\n      });\n      this.items.clear();\n    }\n    /**\n     * Test whether the set contains a specific item.\n     *\n     * @param item - The item of interest.\n     *\n     * @returns `true` if the set contains the item, `false` otherwise.\n     */\n\n  }, {\n    key: \"contains\",\n    value: function contains(item) {\n      return this.items.has(item);\n    }\n    /**\n     * Add a disposable item to the set.\n     *\n     * @param item - The item to add to the set.\n     *\n     * #### Notes\n     * If the item is already contained in the set, this is a no-op.\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(item) {\n      this.items.add(item);\n    }\n    /**\n     * Remove a disposable item from the set.\n     *\n     * @param item - The item to remove from the set.\n     *\n     * #### Notes\n     * If the item is not contained in the set, this is a no-op.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      this.items.delete(item);\n    }\n    /**\n     * Remove all items from the set.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.items.clear();\n    }\n  }]);\n\n  return DisposableSet;\n}();\n\n(function (DisposableSet) {\n  /**\n   * Create a disposable set from an iterable of items.\n   *\n   * @param items - The iterable or array-like object of interest.\n   *\n   * @returns A new disposable initialized with the given items.\n   */\n  function from(items) {\n    var set = new DisposableSet();\n    items.forEach(function (item) {\n      set.add(item);\n    });\n    return set;\n  }\n\n  DisposableSet.from = from;\n})(DisposableSet || (DisposableSet = {}));","map":{"version":3,"sources":["../../src/common/disposable.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/* eslint-disable no-underscore-dangle */\nexport class Disposable {\n    get disposed() {\n        return this._disposed === true;\n    }\n    dispose() {\n        this._disposed = true;\n    }\n}\n(function (Disposable) {\n    function dispose() {\n        return (target, methodName, descriptor) => {\n            const raw = descriptor.value;\n            const proto = target.__proto__; // eslint-disable-line\n            descriptor.value = function () {\n                if (this.disposed) {\n                    return;\n                }\n                raw.call(this);\n                proto.dispose.call(this);\n            };\n        };\n    }\n    Disposable.dispose = dispose;\n})(Disposable || (Disposable = {}));\n/**\n * A disposable object which delegates to a callback function.\n */\nexport class DisposableDelegate {\n    /**\n     * Construct a new disposable delegate.\n     *\n     * @param callback - The callback function to invoke on dispose.\n     */\n    constructor(callback) {\n        this.callback = callback;\n    }\n    /**\n     * Test whether the delegate has been disposed.\n     */\n    get disposed() {\n        return !this.callback;\n    }\n    /**\n     * Dispose of the delegate and invoke the callback function.\n     */\n    dispose() {\n        if (!this.callback) {\n            return;\n        }\n        const callback = this.callback;\n        this.callback = null;\n        callback();\n    }\n}\n/**\n * An object which manages a collection of disposable items.\n */\nexport class DisposableSet {\n    constructor() {\n        this.isDisposed = false; // eslint-disable-line:variable-name\n        this.items = new Set();\n    }\n    /**\n     * Test whether the set has been disposed.\n     */\n    get disposed() {\n        return this.isDisposed;\n    }\n    /**\n     * Dispose of the set and the items it contains.\n     *\n     * #### Notes\n     * Items are disposed in the order they are added to the set.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this.items.forEach((item) => {\n            item.dispose();\n        });\n        this.items.clear();\n    }\n    /**\n     * Test whether the set contains a specific item.\n     *\n     * @param item - The item of interest.\n     *\n     * @returns `true` if the set contains the item, `false` otherwise.\n     */\n    contains(item) {\n        return this.items.has(item);\n    }\n    /**\n     * Add a disposable item to the set.\n     *\n     * @param item - The item to add to the set.\n     *\n     * #### Notes\n     * If the item is already contained in the set, this is a no-op.\n     */\n    add(item) {\n        this.items.add(item);\n    }\n    /**\n     * Remove a disposable item from the set.\n     *\n     * @param item - The item to remove from the set.\n     *\n     * #### Notes\n     * If the item is not contained in the set, this is a no-op.\n     */\n    remove(item) {\n        this.items.delete(item);\n    }\n    /**\n     * Remove all items from the set.\n     */\n    clear() {\n        this.items.clear();\n    }\n}\n(function (DisposableSet) {\n    /**\n     * Create a disposable set from an iterable of items.\n     *\n     * @param items - The iterable or array-like object of interest.\n     *\n     * @returns A new disposable initialized with the given items.\n     */\n    function from(items) {\n        const set = new DisposableSet();\n        items.forEach((item) => {\n            set.add(item);\n        });\n        return set;\n    }\n    DisposableSet.from = from;\n})(DisposableSet || (DisposableSet = {}));\n//# sourceMappingURL=disposable.js.map"]},"metadata":{},"sourceType":"module"}