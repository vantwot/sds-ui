{"ast":null,"code":"import _isNumber from \"lodash/isNumber\";\nexport function calculateCentroid(coord) {\n  if (_isNumber(coord[0])) {\n    return coord;\n  } else if (_isNumber(coord[0][0])) {\n    throw new Error('当前数据不支持标注');\n  } else if (_isNumber(coord[0][0][0])) {\n    var coords = coord;\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coords.forEach(function (coor) {\n      coor.forEach(function (pos) {\n        xSum += pos[0];\n        ySum += pos[1];\n        len++;\n      });\n    });\n    return [xSum / len, ySum / len, 0];\n  } else {\n    throw new Error('当前数据不支持标注');\n  }\n}","map":{"version":3,"sources":["../../src/utils/geo.ts"],"names":["coord","coords","xSum","ySum","len","coor","pos"],"mappings":";AAEA,OAAO,SAAA,iBAAA,CAAA,KAAA,EAEK;AAEV,MAAI,SAAA,CAASA,KAAK,CAAlB,CAAkB,CAAd,CAAJ,EAAwB;AACtB,WAAA,KAAA;AADF,GAAA,MAEO,IAAI,SAAA,CAASA,KAAK,CAALA,CAAK,CAALA,CAAb,CAAaA,CAAT,CAAJ,EAA2B;AAChC,UAAM,IAAA,KAAA,CAAN,WAAM,CAAN;AADK,GAAA,MAEA,IAAI,SAAA,CAASA,KAAK,CAALA,CAAK,CAALA,CAAAA,CAAAA,EAAb,CAAaA,CAAT,CAAJ,EAA8B;AACnC,QAAMC,MAAM,GAAZ,KAAA;AACA,QAAIC,IAAI,GAAR,CAAA;AACA,QAAIC,IAAI,GAAR,CAAA;AACA,QAAIC,GAAG,GAAP,CAAA;AACAH,IAAAA,MAAM,CAANA,OAAAA,CAAe,UAAA,IAAA,EAAsB;AACnCI,MAAAA,IAAI,CAAJA,OAAAA,CAAa,UAAA,GAAA,EAAS;AACpBH,QAAAA,IAAI,IAAII,GAAG,CAAXJ,CAAW,CAAXA;AACAC,QAAAA,IAAI,IAAIG,GAAG,CAAXH,CAAW,CAAXA;AACAC,QAAAA,GAAG;AAHLC,OAAAA;AADFJ,KAAAA;AAOA,WAAO,CAACC,IAAI,GAAL,GAAA,EAAaC,IAAI,GAAjB,GAAA,EAAP,CAAO,CAAP;AAZK,GAAA,MAaA;AACL,UAAM,IAAA,KAAA,CAAN,WAAM,CAAN;AACD;AACF","sourcesContent":["type Position = number[];\nimport { isNumber } from 'lodash';\nexport function calculateCentroid(\n  coord: Position | Position[] | Position[][],\n): Position {\n  // let pos = coord as Position;\n  if (isNumber(coord[0])) {\n    return coord as Position;\n  } else if (isNumber(coord[0][0])) {\n    throw new Error('当前数据不支持标注');\n  } else if (isNumber(coord[0][0][0])) {\n    const coords = coord as Position[][];\n    let xSum = 0;\n    let ySum = 0;\n    let len = 0;\n    coords.forEach((coor: Position[]) => {\n      coor.forEach((pos) => {\n        xSum += pos[0];\n        ySum += pos[1];\n        len++;\n      });\n    });\n    return [xSum / len, ySum / len, 0];\n  } else {\n    throw new Error('当前数据不支持标注');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}