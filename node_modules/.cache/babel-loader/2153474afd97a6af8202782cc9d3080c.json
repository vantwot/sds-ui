{"ast":null,"code":"export { isFunction, once, noop, debounce, defer } from 'lodash-es';\nexport function apply(fn, ctx, args) {\n  if (args) {\n    switch (args.length) {\n      case 0:\n        return fn.call(ctx);\n\n      case 1:\n        return fn.call(ctx, args[0]);\n\n      case 2:\n        return fn.call(ctx, args[0], args[1]);\n\n      case 3:\n        return fn.call(ctx, args[0], args[1], args[2]);\n\n      case 4:\n        return fn.call(ctx, args[0], args[1], args[2], args[3]);\n\n      case 5:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4]);\n\n      case 6:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4], args[5]);\n\n      default:\n        return fn.apply(ctx, args);\n    }\n  }\n\n  return fn.call(ctx);\n}\nexport function call(fn, ctx) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return apply(fn, ctx, args);\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i += 1) {\n    if (array[i] === item) {\n      return array.push(array.splice(i, 1)[0]);\n    }\n  }\n}\n\nexport function cacher(fn, ctx, postProcessor) {\n  var keys = [];\n  var cache = {};\n\n  var f = function f() {\n    var hasCache = false;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var key = args.join(\"\\u2400\");\n\n    if (key in cache) {\n      hasCache = true;\n      repush(keys, key);\n    } else {\n      if (keys.length >= 1000) {\n        delete cache[keys.shift()];\n      }\n\n      keys.push(key);\n      cache[key] = apply(fn, ctx || null, args);\n    }\n\n    return postProcessor ? postProcessor(cache[key], hasCache) : cache[key];\n  };\n\n  return f;\n}","map":{"version":3,"sources":["../../../src/util/function/function.ts"],"names":[],"mappings":"AAAA,SAAS,UAAT,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,QAAjC,EAA2C,KAA3C,QAAwD,WAAxD;AAIA,OAAM,SAAU,KAAV,CACJ,EADI,EAEJ,GAFI,EAGJ,IAHI,EAGgB;AAEpB,MAAI,IAAJ,EAAU;AACR,YAAQ,IAAI,CAAC,MAAb;AACE,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,EAAa,IAAI,CAAC,CAAD,CAAjB,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,EAAa,IAAI,CAAC,CAAD,CAAjB,EAAsB,IAAI,CAAC,CAAD,CAA1B,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,EAAa,IAAI,CAAC,CAAD,CAAjB,EAAsB,IAAI,CAAC,CAAD,CAA1B,EAA+B,IAAI,CAAC,CAAD,CAAnC,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,EAAa,IAAI,CAAC,CAAD,CAAjB,EAAsB,IAAI,CAAC,CAAD,CAA1B,EAA+B,IAAI,CAAC,CAAD,CAAnC,EAAwC,IAAI,CAAC,CAAD,CAA5C,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,EAAa,IAAI,CAAC,CAAD,CAAjB,EAAsB,IAAI,CAAC,CAAD,CAA1B,EAA+B,IAAI,CAAC,CAAD,CAAnC,EAAwC,IAAI,CAAC,CAAD,CAA5C,EAAiD,IAAI,CAAC,CAAD,CAArD,CAAP;;AACF,WAAK,CAAL;AACE,eAAO,EAAE,CAAC,IAAH,CACL,GADK,EAEL,IAAI,CAAC,CAAD,CAFC,EAGL,IAAI,CAAC,CAAD,CAHC,EAIL,IAAI,CAAC,CAAD,CAJC,EAKL,IAAI,CAAC,CAAD,CALC,EAML,IAAI,CAAC,CAAD,CANC,EAOL,IAAI,CAAC,CAAD,CAPC,CAAP;;AASF;AACE,eAAO,EAAE,CAAC,KAAH,CAAS,GAAT,EAAc,IAAd,CAAP;AAxBJ;AA0BD;;AAED,SAAO,EAAE,CAAC,IAAH,CAAQ,GAAR,CAAP;AACD;AAED,OAAM,SAAU,IAAV,CACJ,EADI,EAEJ,GAFI,EAGkB;AAAA,oCAAnB,IAAmB;AAAnB,IAAA,IAAmB;AAAA;;AAEtB,SAAO,KAAK,CAAC,EAAD,EAAK,GAAL,EAAU,IAAV,CAAZ;AACD;;AAED,SAAS,MAAT,CAAmB,KAAnB,EAA+B,IAA/B,EAAsC;AACpC,OAAK,IAAI,CAAC,GAAG,CAAR,EAAW,EAAE,GAAG,KAAK,CAAC,MAA3B,EAAmC,CAAC,GAAG,EAAvC,EAA2C,CAAC,IAAI,CAAhD,EAAmD;AACjD,QAAI,KAAK,CAAC,CAAD,CAAL,KAAa,IAAjB,EAAuB;AACrB,aAAO,KAAK,CAAC,IAAN,CAAW,KAAK,CAAC,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAX,CAAP;AACD;AACF;AACF;;AAED,OAAM,SAAU,MAAV,CACJ,EADI,EAEJ,GAFI,EAGJ,aAHI,EAG+C;AAEnD,MAAM,IAAI,GAAa,EAAvB;AACA,MAAM,KAAK,GAA2B,EAAtC;;AACA,MAAM,CAAC,GAAG,SAAJ,CAAI,GAA2B;AACnC,QAAI,QAAQ,GAAG,KAAf;;AADmC,uCAAvB,IAAuB;AAAvB,MAAA,IAAuB;AAAA;;AAEnC,QAAM,GAAG,GAAG,IAAI,CAAC,IAAL,CAAU,QAAV,CAAZ;;AACA,QAAI,GAAG,IAAI,KAAX,EAAkB;AAChB,MAAA,QAAQ,GAAG,IAAX;AACA,MAAA,MAAM,CAAC,IAAD,EAAO,GAAP,CAAN;AACD,KAHD,MAGO;AACL,UAAI,IAAI,CAAC,MAAL,IAAe,IAAnB,EAAyB;AACvB,eAAO,KAAK,CAAC,IAAI,CAAC,KAAL,EAAD,CAAZ;AACD;;AACD,MAAA,IAAI,CAAC,IAAL,CAAU,GAAV;AACA,MAAA,KAAK,CAAC,GAAD,CAAL,GAAa,KAAK,CAAC,EAAD,EAAK,GAAG,IAAK,IAAb,EAA4C,IAA5C,CAAlB;AACD;;AAED,WAAO,aAAa,GAAG,aAAa,CAAC,KAAK,CAAC,GAAD,CAAN,EAAa,QAAb,CAAhB,GAAyC,KAAK,CAAC,GAAD,CAAlE;AACD,GAfD;;AAiBA,SAAO,CAAP;AACD","sourceRoot":"","sourcesContent":["export { isFunction, once, noop, debounce, defer } from 'lodash-es';\nexport function apply(fn, ctx, args) {\n    if (args) {\n        switch (args.length) {\n            case 0:\n                return fn.call(ctx);\n            case 1:\n                return fn.call(ctx, args[0]);\n            case 2:\n                return fn.call(ctx, args[0], args[1]);\n            case 3:\n                return fn.call(ctx, args[0], args[1], args[2]);\n            case 4:\n                return fn.call(ctx, args[0], args[1], args[2], args[3]);\n            case 5:\n                return fn.call(ctx, args[0], args[1], args[2], args[3], args[4]);\n            case 6:\n                return fn.call(ctx, args[0], args[1], args[2], args[3], args[4], args[5]);\n            default:\n                return fn.apply(ctx, args);\n        }\n    }\n    return fn.call(ctx);\n}\nexport function call(fn, ctx, ...args) {\n    return apply(fn, ctx, args);\n}\nfunction repush(array, item) {\n    for (let i = 0, ii = array.length; i < ii; i += 1) {\n        if (array[i] === item) {\n            return array.push(array.splice(i, 1)[0]);\n        }\n    }\n}\nexport function cacher(fn, ctx, postProcessor) {\n    const keys = [];\n    const cache = {};\n    const f = (...args) => {\n        let hasCache = false;\n        const key = args.join('\\u2400');\n        if (key in cache) {\n            hasCache = true;\n            repush(keys, key);\n        }\n        else {\n            if (keys.length >= 1000) {\n                delete cache[keys.shift()];\n            }\n            keys.push(key);\n            cache[key] = apply(fn, ctx || null, args);\n        }\n        return postProcessor ? postProcessor(cache[key], hasCache) : cache[key];\n    };\n    return f;\n}\n//# sourceMappingURL=function.js.map"]},"metadata":{},"sourceType":"module"}