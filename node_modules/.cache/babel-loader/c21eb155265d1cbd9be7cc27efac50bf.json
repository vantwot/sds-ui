{"ast":null,"code":"/**\n * @upsetjs/react\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\n */\nimport React, { useRef, useState, useLayoutEffect, useMemo, useCallback } from 'react';\nimport { toKey, toDump, isElemQuery, isSetQuery, isSetLike as isSetLike$1, toStaticDump, setElemOverlapFactory, setOverlapFactory, generateCombinations, generateOverlapFunction, bandScale as bandScale$1, linearScale, logScale, queryOverlap, queryElemOverlap, generateDistinctOverlapFunction, isSet, isSetCombination, isGenerateSetCombinationOptions, isUpSetQuery } from '@upsetjs/model';\nexport * from '@upsetjs/model';\nimport LZString from 'lz-string';\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction extractStyleId(node) {\n  return Array.from(node.classList).find(d => d.startsWith('root-')).slice('root-'.length);\n}\n\nfunction extractTitle(node, styleId) {\n  var _a, _b;\n\n  return (_b = (_a = node.querySelector(`titleTextStyle-${styleId}`)) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : 'UpSetJS';\n}\n\nfunction extractDescription(node, styleId) {\n  var _a, _b;\n\n  return (_b = (_a = node.querySelector(`descTextStyle-${styleId}`)) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : '';\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY = [];\nconst DEFAULT_FONT_SIZES = {\n  setLabel: '16px',\n  axisTick: '10px',\n  chartLabel: '16px',\n  barLabel: '10px',\n  legend: '10px',\n  description: '16px',\n  title: '24px',\n  valueLabel: '12px',\n  exportLabel: '10px'\n};\nconst DEFAULT_WIDTH_RATIO = [0.18, 0.12, 0.7];\nconst DEFAULT_HEIGHT_RATIO = [0.6, 0.4];\nconst DEFAULT_COMBINATIONS = {\n  type: 'intersection',\n  order: ['cardinality:desc', 'name:asc']\n};\nconst FONT_SIZES_KEYS = /* #__PURE__ */Object.keys(DEFAULT_FONT_SIZES);\nconst MULTI_STYLE_KEYS = ['axisTick', 'bar', 'barLabel', 'chartLabel', 'dot', 'legend', 'title', 'description', 'setLabel', 'set', 'valueLabel'];\nconst EXPORT_OPTION_KEYS = ['dump', 'png', 'share', 'svg', 'vega'];\nconst OVERFLOW_OPACITY_FACTOR = [0.7, 0.4];\nconst OVERFLOW_PADDING_FACTOR = [0.15, 0.3];\nvar sets = [];\nvar intersections = [];\nvar bb = {\n  x: 0,\n  y: 0,\n  width: 10,\n  height: 10\n};\nvar venn0 = {\n  sets: sets,\n  intersections: intersections,\n  bb: bb\n};\nvar sets$1 = [{\n  cx: 0,\n  cy: 0,\n  r: 5,\n  text: {\n    x: 3.5,\n    y: -4\n  },\n  align: \"start\",\n  verticalAlign: \"bottom\"\n}];\nvar intersections$1 = [{\n  sets: [0],\n  x1: 0,\n  y1: 5,\n  arcs: [{\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: -5,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: 5,\n    sweep: false,\n    large: false\n  }],\n  text: {\n    x: 0,\n    y: 0\n  }\n}];\nvar bb$1 = {\n  x: -5,\n  y: -5,\n  width: 10,\n  height: 10\n};\nvar venn1 = {\n  sets: sets$1,\n  intersections: intersections$1,\n  bb: bb$1\n};\nvar sets$2 = [{\n  cx: -4,\n  cy: 0,\n  r: 5,\n  text: {\n    x: -7.5,\n    y: 4\n  },\n  align: \"end\",\n  verticalAlign: \"top\"\n}, {\n  cx: 4,\n  cy: 0,\n  r: 5,\n  text: {\n    x: 7.5,\n    y: -4\n  },\n  align: \"start\",\n  verticalAlign: \"bottom\"\n}];\nvar intersections$2 = [{\n  sets: [0],\n  x1: 0,\n  y1: -3,\n  arcs: [{\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: 3,\n    sweep: false,\n    large: true\n  }, {\n    mode: \"o\",\n    ref: 1,\n    x2: 0,\n    y2: -3,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: -4,\n    y: 0\n  }\n}, {\n  sets: [1],\n  x1: 0,\n  y1: 3,\n  arcs: [{\n    mode: \"i\",\n    ref: 1,\n    x2: 0,\n    y2: -3,\n    sweep: false,\n    large: true\n  }, {\n    mode: \"o\",\n    ref: 0,\n    x2: 0,\n    y2: 3,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: 4,\n    y: 0\n  }\n}, {\n  sets: [0, 1],\n  x1: 0,\n  y1: 3,\n  arcs: [{\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: -3,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 1,\n    x2: 0,\n    y2: 3,\n    sweep: false,\n    large: false\n  }],\n  text: {\n    x: 0,\n    y: 0\n  }\n}];\nvar bb$2 = {\n  x: -9,\n  y: -5,\n  width: 18,\n  height: 10\n};\nvar venn2 = {\n  sets: sets$2,\n  intersections: intersections$2,\n  bb: bb$2\n};\nvar sets$3 = [{\n  cx: -3.464,\n  cy: -2,\n  r: 5,\n  text: {\n    x: -7,\n    y: -6\n  },\n  align: \"end\"\n}, {\n  cx: 3.464,\n  cy: -2,\n  r: 5,\n  text: {\n    x: 7,\n    y: -6\n  },\n  align: \"start\"\n}, {\n  cx: 0,\n  cy: 4,\n  r: 5,\n  text: {\n    x: 4,\n    y: 7.5\n  },\n  align: \"start\",\n  verticalAlign: \"top\"\n}];\nvar intersections$3 = [{\n  sets: [0],\n  x1: -4.855,\n  y1: 2.803,\n  arcs: [{\n    mode: \"o\",\n    ref: 2,\n    x2: -1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 1,\n    x2: 0,\n    y2: -5.606,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 0,\n    x2: -4.855,\n    y2: 2.803,\n    sweep: false,\n    large: true\n  }],\n  text: {\n    x: -4.216,\n    y: -2.434\n  }\n}, {\n  sets: [1],\n  x1: 0,\n  y1: -5.606,\n  arcs: [{\n    mode: \"o\",\n    ref: 0,\n    x2: 1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 2,\n    x2: 4.855,\n    y2: 2.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 1,\n    x2: 0,\n    y2: -5.606,\n    sweep: false,\n    large: true\n  }],\n  text: {\n    x: 4.216,\n    y: -2.434\n  }\n}, {\n  sets: [2],\n  x1: -4.855,\n  y1: 2.803,\n  arcs: [{\n    mode: \"o\",\n    ref: 0,\n    x2: 0,\n    y2: 1.606,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 1,\n    x2: 4.855,\n    y2: 2.803,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 2,\n    x2: -4.855,\n    y2: 2.803,\n    sweep: true,\n    large: true\n  }],\n  text: {\n    x: 0,\n    y: 4.869\n  }\n}, {\n  sets: [0, 1],\n  x1: 0,\n  y1: -5.606,\n  arcs: [{\n    mode: \"i\",\n    ref: 1,\n    x2: -1.39,\n    y2: -0.803,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 2,\n    x2: 1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: -5.606,\n    sweep: false,\n    large: false\n  }],\n  text: {\n    x: 0,\n    y: -2.404\n  }\n}, {\n  sets: [0, 2],\n  x1: -4.855,\n  y1: 2.803,\n  arcs: [{\n    mode: \"i\",\n    ref: 2,\n    x2: -1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 1,\n    x2: 0,\n    y2: 1.606,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 0,\n    x2: -4.855,\n    y2: 2.803,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: -2.082,\n    y: 1.202\n  }\n}, {\n  sets: [1, 2],\n  x1: 4.855,\n  y1: 2.803,\n  arcs: [{\n    mode: \"i\",\n    ref: 2,\n    x2: 1.39,\n    y2: -0.803,\n    sweep: false,\n    large: false\n  }, {\n    mode: \"o\",\n    ref: 0,\n    x2: 0,\n    y2: 1.606,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 1,\n    x2: 4.855,\n    y2: 2.803,\n    sweep: false,\n    large: false\n  }],\n  text: {\n    x: 2.082,\n    y: 1.202\n  }\n}, {\n  sets: [0, 1, 2],\n  x1: 1.39,\n  y1: -0.803,\n  arcs: [{\n    mode: \"i\",\n    ref: 0,\n    x2: 0,\n    y2: 1.606,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 1,\n    x2: -1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }, {\n    mode: \"i\",\n    ref: 2,\n    x2: 1.39,\n    y2: -0.803,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: 0,\n    y: 0\n  }\n}];\nvar bb$3 = {\n  x: -8.464,\n  y: -7,\n  width: 16.928,\n  height: 16\n};\nvar venn3 = {\n  sets: sets$3,\n  intersections: intersections$3,\n  bb: bb$3\n};\nvar sets$4 = [{\n  cx: 0.439,\n  cy: -1.061,\n  rx: 2.5,\n  ry: 5,\n  rotation: 45,\n  text: {\n    x: 4.5,\n    y: -4.5\n  },\n  align: \"start\",\n  verticalAlign: \"bottom\"\n}, {\n  cx: 2.561,\n  cy: 1.061,\n  rx: 2.5,\n  ry: 5,\n  rotation: 45,\n  text: {\n    x: 4,\n    y: 3.75\n  },\n  align: \"start\",\n  verticalAlign: \"top\"\n}, {\n  cx: -2.561,\n  cy: 1.061,\n  rx: 2.5,\n  ry: 5,\n  rotation: -45,\n  text: {\n    x: -4,\n    y: 3.7\n  },\n  align: \"end\",\n  verticalAlign: \"top\"\n}, {\n  cx: -0.439,\n  cy: -1.061,\n  rx: 2.5,\n  ry: 5,\n  rotation: -45,\n  text: {\n    x: -4.5,\n    y: -4.5\n  },\n  align: \"end\",\n  verticalAlign: \"bottom\"\n}];\nvar intersections$4 = [{\n  sets: [0],\n  x1: 0,\n  y1: -3.94,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: 4.328,\n    y2: -2.828,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 2.179,\n    y2: -1.858,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 0,\n    y2: -3.94,\n    large: false\n  }],\n  text: {\n    x: 2.914,\n    y: -3.536\n  }\n}, {\n  sets: [1],\n  x1: 4.328,\n  y1: -2.828,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: 0,\n    y2: 5.006,\n    sweep: true,\n    large: true\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 1.328,\n    y2: 2.828\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 3.108,\n    y2: -0.328\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 4.328,\n    y2: -2.828\n  }],\n  text: {\n    x: 5.036,\n    y: -1.414\n  }\n}, {\n  sets: [2],\n  x1: 0,\n  y1: 5.006,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: -4.328,\n    y2: -2.828,\n    sweep: true,\n    large: true\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -3.108,\n    y2: -0.328\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -1.328,\n    y2: 2.828\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 0,\n    y2: 5.006\n  }],\n  text: {\n    x: -5.036,\n    y: -1.414\n  }\n}, {\n  sets: [3],\n  x1: -4.328,\n  y1: -2.828,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 0,\n    y2: -3.94,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -2.179,\n    y2: -1.858,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -4.328,\n    y2: -2.828,\n    large: false\n  }],\n  text: {\n    x: -2.914,\n    y: -3.536\n  }\n}, {\n  sets: [0, 1],\n  x1: 4.328,\n  y1: -2.828,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: 3.108,\n    y2: -0.328,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 2.179,\n    y2: -1.858,\n    sweep: false,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 4.328,\n    y2: -2.828,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: 3.205,\n    y: -1.672\n  }\n}, {\n  sets: [0, 2],\n  x1: -1.328,\n  y1: 2.828,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: -3.108,\n    y2: -0.328,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -0.969,\n    y2: 1.755,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -1.328,\n    y2: 2.828,\n    large: false\n  }],\n  text: {\n    x: -2.212,\n    y: 1.591\n  }\n}, {\n  sets: [0, 3],\n  x1: 0,\n  y1: -3.94,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 2.179,\n    y2: -1.858,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 0,\n    y2: 0.188,\n    sweep: false,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -2.179,\n    y2: -1.858,\n    sweep: false,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 0,\n    y2: -3.94,\n    sweep: true\n  }],\n  text: {\n    x: 0,\n    y: -1.87\n  }\n}, {\n  sets: [1, 2],\n  x1: 1.328,\n  y1: 2.828,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 0,\n    y2: 5.006,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -1.328,\n    y2: 2.828,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 0,\n    y2: 2.346,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 1.328,\n    y2: 2.828\n  }],\n  text: {\n    x: 0,\n    y: 3.393\n  }\n}, {\n  sets: [1, 3],\n  x1: 3.108,\n  y1: -0.328,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 1.328,\n    y2: 2.828,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 0.969,\n    y2: 1.755,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 3.108,\n    y2: -0.328,\n    large: false\n  }],\n  text: {\n    x: 2.212,\n    y: 1.591\n  }\n}, {\n  sets: [2, 3],\n  x1: -3.108,\n  y1: -0.328,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -4.328,\n    y2: -2.828,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: -2.179,\n    y2: -1.858,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -3.108,\n    y2: -0.328,\n    large: false\n  }],\n  text: {\n    x: -3.205,\n    y: -1.672\n  }\n}, {\n  sets: [0, 1, 2],\n  x1: 0,\n  y1: 2.346,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: -1.328,\n    y2: 2.828,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -0.969,\n    y2: 1.755,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 0,\n    y2: 2.346,\n    large: false\n  }],\n  text: {\n    x: -0.766,\n    y: 2.31\n  }\n}, {\n  sets: [0, 1, 3],\n  x1: 2.179,\n  y1: -1.858,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 3.108,\n    y2: -0.328,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 0.969,\n    y2: 1.755,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 0,\n    y2: 0.188,\n    sweep: false,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 2.179,\n    y2: -1.858,\n    sweep: true\n  }],\n  text: {\n    x: 1.558,\n    y: -0.056\n  }\n}, {\n  sets: [0, 2, 3],\n  x1: -0.969,\n  y1: 1.755,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -3.108,\n    y2: -0.328,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -2.179,\n    y2: -1.858,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: 0,\n    y2: 0.188,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -0.969,\n    y2: 1.755\n  }],\n  text: {\n    x: -1.558,\n    y: -0.056\n  }\n}, {\n  sets: [1, 2, 3],\n  x1: 1.328,\n  y1: 2.828,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 0,\n    y2: 2.346,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 0.969,\n    y2: 1.755,\n    sweep: false,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: 1.328,\n    y2: 2.828,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: 0.766,\n    y: 2.31\n  }\n}, {\n  sets: [0, 1, 2, 3],\n  x1: 0,\n  y1: 0.188,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 0.969,\n    y2: 1.755,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 0,\n    y2: 2.346,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: -0.969,\n    y2: 1.755,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 0,\n    y2: 0.188,\n    sweep: true\n  }],\n  text: {\n    x: 0,\n    y: 1.43\n  }\n}];\nvar bb$4 = {\n  x: -6.5,\n  y: -5,\n  width: 13,\n  height: 10\n};\nvar venn4 = {\n  sets: sets$4,\n  intersections: intersections$4,\n  bb: bb$4\n};\nvar sets$5 = [{\n  cx: 0.5,\n  cy: -1,\n  rx: 2.5,\n  ry: 5,\n  rotation: 0,\n  text: {\n    x: 2.25,\n    y: -5\n  },\n  align: \"start\",\n  verticalAlign: \"bottom\"\n}, {\n  cx: 1.106,\n  cy: 0.167,\n  rx: 2.5,\n  ry: 5,\n  rotation: 72,\n  text: {\n    x: 4.5,\n    y: 1.5\n  },\n  align: \"start\",\n  verticalAlign: \"top\"\n}, {\n  cx: 0.183,\n  cy: 1.103,\n  rx: 2.5,\n  ry: 5,\n  rotation: 144,\n  text: {\n    x: 4,\n    y: 4\n  },\n  align: \"start\",\n  verticalAlign: \"bottom\"\n}, {\n  cx: -0.992,\n  cy: 0.515,\n  rx: 2.5,\n  ry: 5,\n  rotation: 216,\n  text: {\n    x: -4.7,\n    y: 2\n  },\n  align: \"end\",\n  verticalAlign: \"bottom\"\n}, {\n  cx: -0.797,\n  cy: -0.785,\n  rx: 2.5,\n  ry: 5,\n  rotation: 288,\n  text: {\n    x: -4,\n    y: -3.6\n  },\n  align: \"end\",\n  verticalAlign: \"bottom\"\n}];\nvar intersections$5 = [{\n  sets: [0],\n  x1: -1.653,\n  y1: -3.541,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: 2.857,\n    y2: -2.666,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 2.5,\n    y2: -2.648,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -0.495,\n    y2: -3.303,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: -1.653,\n    y2: -3.541\n  }],\n  text: {\n    x: 0.5,\n    y: -5\n  }\n}, {\n  sets: [1],\n  x1: 2.857,\n  y1: -2.666,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: 3.419,\n    y2: 1.893,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 3.291,\n    y2: 1.559,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 2.988,\n    y2: -1.492,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 2.857,\n    y2: -2.666\n  }],\n  text: {\n    x: 4.91,\n    y: -1.07\n  }\n}, {\n  sets: [2],\n  x1: 3.419,\n  y1: 1.893,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: -0.744,\n    y2: 3.837,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -0.466,\n    y2: 3.612,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 2.342,\n    y2: 2.381,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 3.419,\n    y2: 1.893\n  }],\n  text: {\n    x: 2.534,\n    y: 4.339\n  }\n}, {\n  sets: [3],\n  x1: -0.744,\n  y1: 3.837,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -3.879,\n    y2: 0.478,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: -3.579,\n    y2: 0.673,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -1.54,\n    y2: 2.963,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -0.744,\n    y2: 3.837\n  }],\n  text: {\n    x: -3.343,\n    y: 3.751\n  }\n}, {\n  sets: [4],\n  x1: -3.879,\n  y1: 0.478,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: -1.653,\n    y2: -3.541,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -1.746,\n    y2: -3.196,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -3.294,\n    y2: -0.549,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -3.879,\n    y2: 0.478\n  }],\n  text: {\n    x: -4.601,\n    y: -2.021\n  }\n}, {\n  sets: [0, 1],\n  x1: 2.5,\n  y1: -2.648,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: 2.857,\n    y2: -2.666,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 2.988,\n    y2: -1.492,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 2.572,\n    y2: -1.839,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 2.5,\n    y2: -2.648\n  }],\n  text: {\n    x: 2.741,\n    y: -2.152\n  }\n}, {\n  sets: [0, 2],\n  x1: 2.342,\n  y1: 2.381,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: -0.466,\n    y2: 3.612,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 0.257,\n    y2: 2.922,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 2.342,\n    y2: 2.381,\n    large: false\n  }],\n  text: {\n    x: 0.5,\n    y: 3.5\n  }\n}, {\n  sets: [0, 3],\n  x1: -0.495,\n  y1: -3.303,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 2.5,\n    y2: -2.648,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 1.51,\n    y2: -2.515,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: -0.495,\n    y2: -3.303,\n    large: false\n  }],\n  text: {\n    x: 1.653,\n    y: -3.125\n  }\n}, {\n  sets: [0, 4],\n  x1: -1.653,\n  y1: -3.541,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: -0.495,\n    y2: -3.303,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -0.954,\n    y2: -3.015,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -1.746,\n    y2: -3.196,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -1.653,\n    y2: -3.541\n  }],\n  text: {\n    x: -1.199,\n    y: -3.272\n  }\n}, {\n  sets: [1, 2],\n  x1: 3.291,\n  y1: 1.559,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 3.419,\n    y2: 1.893,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 2.342,\n    y2: 2.381,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 2.544,\n    y2: 1.878,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 3.291,\n    y2: 1.559\n  }],\n  text: {\n    x: 2.894,\n    y: 1.942\n  }\n}, {\n  sets: [1, 3],\n  x1: -1.54,\n  y1: 2.963,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: -3.579,\n    y2: 0.673,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: -2.7,\n    y2: 1.147,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -1.54,\n    y2: 2.963,\n    large: false\n  }],\n  text: {\n    x: -3.174,\n    y: 1.557\n  }\n}, {\n  sets: [1, 4],\n  x1: 2.988,\n  y1: -1.492,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: 3.291,\n    y2: 1.559,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 2.858,\n    y2: 0.659,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 2.988,\n    y2: -1.492,\n    large: false\n  }],\n  text: {\n    x: 3.483,\n    y: 0.606\n  }\n}, {\n  sets: [2, 3],\n  x1: -0.466,\n  y1: 3.612,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -0.744,\n    y2: 3.837,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: -1.54,\n    y2: 2.963,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -1,\n    y2: 3,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -0.466,\n    y2: 3.612\n  }],\n  text: {\n    x: -0.953,\n    y: 3.352\n  }\n}, {\n  sets: [2, 4],\n  x1: -3.294,\n  y1: -0.549,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: -1.746,\n    y2: -3.196,\n    sweep: true\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -1.925,\n    y2: -2.213\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -3.294,\n    y2: -0.549\n  }],\n  text: {\n    x: -2.462,\n    y: -2.538\n  }\n}, {\n  sets: [3, 4],\n  x1: -3.579,\n  y1: 0.673,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: -3.879,\n    y2: 0.478,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: -3.294,\n    y2: -0.549,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -3.162,\n    y2: -0.024,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -3.579,\n    y2: 0.673\n  }],\n  text: {\n    x: -3.483,\n    y: 0.13\n  }\n}, {\n  sets: [0, 1, 2],\n  x1: 2.544,\n  y1: 1.878,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: 2.342,\n    y2: 2.381,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 0.257,\n    y2: 2.922,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 0.983,\n    y2: 2.049,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 2.544,\n    y2: 1.878\n  }],\n  text: {\n    x: 1.457,\n    y: 2.331\n  }\n}, {\n  sets: [0, 1, 3],\n  x1: 1.51,\n  y1: -2.515,\n  arcs: [{\n    ref: 1,\n    mode: \"i\",\n    x2: 2.5,\n    y2: -2.648,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: 2.572,\n    y2: -1.839,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 1.51,\n    y2: -2.515,\n    large: false\n  }],\n  text: {\n    x: 2.194,\n    y: -2.334\n  }\n}, {\n  sets: [0, 1, 4],\n  x1: 2.572,\n  y1: -1.839,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: 2.988,\n    y2: -1.492,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 2.858,\n    y2: 0.659,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 2.253,\n    y2: -0.302,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 2.572,\n    y2: -1.839\n  }],\n  text: {\n    x: 2.667,\n    y: -0.665\n  }\n}, {\n  sets: [0, 2, 3],\n  x1: 0.257,\n  y1: 2.922,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -0.466,\n    y2: 3.612,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -1,\n    y2: 3,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 0.257,\n    y2: 2.922,\n    large: false\n  }],\n  text: {\n    x: -0.403,\n    y: 3.178\n  }\n}, {\n  sets: [0, 2, 4],\n  x1: -1.746,\n  y1: -3.196,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: -0.954,\n    y2: -3.015,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: -1.925,\n    y2: -2.213,\n    sweep: false,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -1.746,\n    y2: -3.196,\n    sweep: true,\n    large: false\n  }],\n  text: {\n    x: -1.542,\n    y: -2.808\n  }\n}, {\n  sets: [0, 3, 4],\n  x1: -0.495,\n  y1: -3.303,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: 1.51,\n    y2: -2.515,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: 0.409,\n    y2: -2.236,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -0.954,\n    y2: -3.015,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: -0.495,\n    y2: -3.303\n  }],\n  text: {\n    x: 0.192,\n    y: -2.742\n  }\n}, {\n  sets: [1, 2, 3],\n  x1: -1.54,\n  y1: 2.963,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: -2.7,\n    y2: 1.147,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: -1.645,\n    y2: 1.568,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -1,\n    y2: 3,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -1.54,\n    y2: 2.963\n  }],\n  text: {\n    x: -1.767,\n    y: 2.106\n  }\n}, {\n  sets: [1, 2, 4],\n  x1: 2.858,\n  y1: 0.659,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 3.291,\n    y2: 1.559,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"i\",\n    x2: 2.544,\n    y2: 1.878,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: 2.858,\n    y2: 0.659,\n    large: false\n  }],\n  text: {\n    x: 2.898,\n    y: 1.365\n  }\n}, {\n  sets: [1, 3, 4],\n  x1: -2.7,\n  y1: 1.147,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: -3.579,\n    y2: 0.673,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -3.162,\n    y2: -0.024,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: -2.7,\n    y2: 1.147,\n    large: false\n  }],\n  text: {\n    x: -3.147,\n    y: 0.599\n  }\n}, {\n  sets: [2, 3, 4],\n  x1: -3.294,\n  y1: -0.549,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: -1.925,\n    y2: -2.213,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -2,\n    y2: -1.08,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -3.162,\n    y2: -0.024,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: -3.294,\n    y2: -0.549\n  }],\n  text: {\n    x: -2.548,\n    y: -1.029\n  }\n}, {\n  sets: [0, 1, 2, 3],\n  x1: 0.983,\n  y1: 2.049,\n  arcs: [{\n    ref: 3,\n    mode: \"i\",\n    x2: 0.257,\n    y2: 2.922,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -1,\n    y2: 3,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -1.645,\n    y2: 1.568,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"o\",\n    x2: 0.983,\n    y2: 2.049\n  }],\n  text: {\n    x: -0.407,\n    y: 2.31\n  }\n}, {\n  sets: [0, 1, 2, 4],\n  x1: 2.253,\n  y1: -0.302,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 2.858,\n    y2: 0.659,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: 2.544,\n    y2: 1.878,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"i\",\n    x2: 0.983,\n    y2: 2.049,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"o\",\n    x2: 2.253,\n    y2: -0.302\n  }],\n  text: {\n    x: 2.071,\n    y: 1.101\n  }\n}, {\n  sets: [0, 1, 3, 4],\n  x1: 1.51,\n  y1: -2.515,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: 2.572,\n    y2: -1.839,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: 2.253,\n    y2: -0.302,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"o\",\n    x2: 0.409,\n    y2: -2.236,\n    sweep: false,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 1.51,\n    y2: -2.515,\n    sweep: true\n  }],\n  text: {\n    x: 1.687,\n    y: -1.63\n  }\n}, {\n  sets: [0, 2, 3, 4],\n  x1: -2,\n  y1: -1.08,\n  arcs: [{\n    ref: 0,\n    mode: \"i\",\n    x2: -1.925,\n    y2: -2.213,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: -0.954,\n    y2: -3.015,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: 0.409,\n    y2: -2.236,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"o\",\n    x2: -2,\n    y2: -1.08\n  }],\n  text: {\n    x: -1.028,\n    y: -2.108\n  }\n}, {\n  sets: [1, 2, 3, 4],\n  x1: -1.645,\n  y1: 1.568,\n  arcs: [{\n    ref: 4,\n    mode: \"i\",\n    x2: -2.7,\n    y2: 1.147,\n    sweep: true,\n    large: false\n  }, {\n    ref: 2,\n    mode: \"i\",\n    x2: -3.162,\n    y2: -0.024,\n    sweep: true,\n    large: false\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: -2,\n    y2: -1.08,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"o\",\n    x2: -1.645,\n    y2: 1.568\n  }],\n  text: {\n    x: -2.323,\n    y: 0.327\n  }\n}, {\n  sets: [0, 1, 2, 3, 4],\n  x1: 0.409,\n  y1: -2.236,\n  arcs: [{\n    ref: 2,\n    mode: \"i\",\n    x2: 2.253,\n    y2: -0.302,\n    sweep: true,\n    large: false\n  }, {\n    ref: 3,\n    mode: \"i\",\n    x2: 0.983,\n    y2: 2.049,\n    sweep: true,\n    large: false\n  }, {\n    ref: 4,\n    mode: \"i\",\n    x2: -1.645,\n    y2: 1.568,\n    sweep: true,\n    large: false\n  }, {\n    ref: 0,\n    mode: \"i\",\n    x2: -2,\n    y2: -1.08,\n    sweep: true\n  }, {\n    ref: 1,\n    mode: \"i\",\n    x2: 0.409,\n    y2: -2.236,\n    sweep: true\n  }],\n  text: {\n    x: 0,\n    y: 0\n  }\n}];\nvar bb$5 = {\n  x: -5.5,\n  y: -6,\n  width: 11.6,\n  height: 11.8\n};\nvar venn5 = {\n  sets: sets$5,\n  intersections: intersections$5,\n  bb: bb$5\n};\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction isEllipse(d) {\n  return typeof d.rx === 'number';\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst vennDiagramLayout = {\n  maxSets: 5,\n\n  compute(sets, _combinations, width, height) {\n    return layoutImpl(sets.length, width, height);\n  }\n\n};\n\nfunction layoutImpl(sets, width, height) {\n  const lookup = [venn0, venn1, venn2, venn3, venn4, venn5];\n  const r = lookup[Math.min(lookup.length - 1, sets)];\n  const f = Math.min(width / r.bb.width, height / r.bb.height);\n  const x = f * -r.bb.x + (width - f * r.bb.width) / 2;\n  const y = f * -r.bb.y + (height - f * r.bb.height) / 2;\n\n  const mx = v => x + f * v;\n\n  const my = v => y + f * v;\n\n  return {\n    sets: r.sets.map(c => Object.assign({}, c, {\n      cx: mx(c.cx),\n      cy: my(c.cy),\n      text: {\n        x: mx(c.text.x),\n        y: my(c.text.y)\n      }\n    }, isEllipse(c) ? {\n      rx: c.rx * f,\n      ry: c.ry * f\n    } : {\n      r: c.r * f\n    })),\n    intersections: r.intersections.map(c => ({\n      text: {\n        x: mx(c.text.x),\n        y: my(c.text.y)\n      },\n      x1: mx(c.x1),\n      y1: my(c.y1),\n      sets: c.sets,\n      arcs: c.arcs.map(a => Object.assign({}, a, {\n        x2: mx(a.x2),\n        y2: my(a.y2)\n      }))\n    }))\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst lightTheme = {\n  selectionColor: '#ffa500',\n  color: '#000000',\n  hasSelectionColor: '',\n  opacity: 1,\n  hasSelectionOpacity: -1,\n  textColor: '#000000',\n  hoverHintColor: '#cccccc',\n  notMemberColor: '#d3d3d3',\n  alternatingBackgroundColor: 'rgba(0,0,0,0.05)',\n  valueTextColor: '#000000',\n  strokeColor: '#000000',\n  backgroundColor: '#ffffff',\n  filled: false\n};\nconst darkTheme = {\n  selectionColor: '#ffa500',\n  color: '#cccccc',\n  hasSelectionColor: '',\n  opacity: 1,\n  hasSelectionOpacity: -1,\n  textColor: '#ffffff',\n  hoverHintColor: '#d9d9d9',\n  notMemberColor: '#666666',\n  alternatingBackgroundColor: 'rgba(255, 255, 255, 0.2)',\n  valueTextColor: '#ffffff',\n  strokeColor: '#ffffff',\n  backgroundColor: '#303030',\n  filled: false\n};\nconst vegaTheme = {\n  selectionColor: '#4c78a8',\n  color: '#4c78a8',\n  hasSelectionColor: '#c9d6e5',\n  opacity: 1,\n  hasSelectionOpacity: -1,\n  textColor: '#000000',\n  hoverHintColor: '#cccccc',\n  notMemberColor: '#d3d3d3',\n  alternatingBackgroundColor: 'rgba(0,0,0,0.05)',\n  valueTextColor: '#000000',\n  strokeColor: '#000000',\n  backgroundColor: '#ffffff',\n  filled: true\n};\n\nfunction getDefaultTheme(theme) {\n  return theme === 'vega' ? vegaTheme : theme === 'dark' ? darkTheme : lightTheme;\n}\n\nfunction areCombinations(combinations) {\n  return Array.isArray(combinations);\n}\n\nfunction fillGeneric(base, props) {\n  let others = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const theme = getDefaultTheme(props.theme);\n  return Object.assign(base, {\n    queryLegend: props.queries != null && props.queries.length > 0,\n    theme: 'light',\n    padding: 20,\n    selection: null,\n    title: '',\n    description: '',\n    fontFamily: 'sans-serif',\n    queries: EMPTY_ARRAY,\n    exportButtons: true,\n    className: '',\n    fontSizes: DEFAULT_FONT_SIZES,\n    classNames: EMPTY_OBJECT,\n    style: EMPTY_OBJECT,\n    styles: EMPTY_OBJECT,\n    toKey,\n    tooltips: true\n  }, theme, props, others, props.fontSizes ? {\n    fontSizes: Object.assign({}, DEFAULT_FONT_SIZES, props.fontSizes)\n  } : EMPTY_OBJECT);\n}\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\n\n\nfunction fillDefaultsG(props) {\n  return fillGeneric({\n    barPadding: 0.3,\n    dotPadding: 0.7,\n    combinations: DEFAULT_COMBINATIONS,\n    combinationName: props.combinations != null && !areCombinations(props.combinations) && props.combinations.type === 'union' ? 'Union Size' : 'Intersection Size',\n    barLabelOffset: 2,\n    setNameAxisOffset: 'auto',\n    combinationNameAxisOffset: 'auto',\n    setName: 'Set Size',\n    widthRatios: DEFAULT_WIDTH_RATIO,\n    heightRatios: DEFAULT_HEIGHT_RATIO,\n    setLabelAlignment: 'center',\n    numericScale: 'linear',\n    bandScale: 'band',\n    childrenFactories: EMPTY_OBJECT,\n    setAddons: EMPTY_ARRAY,\n    combinationAddons: EMPTY_ARRAY,\n    setAddonPadding: 1,\n    combinationAddonPadding: 1,\n    emptySelection: true\n  }, props);\n}\n\nfunction valueFormat(v) {\n  return v.toLocaleString();\n}\n\nfunction fillDefaults(props) {\n  return fillDefaultsG(props);\n}\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\n\n\nfunction fillVennDiagramDefaultsG(props) {\n  return fillGeneric({\n    valueFormat,\n    layout: vennDiagramLayout\n  }, props, {\n    exportButtons: props.exportButtons === false ? false : Object.assign({}, props.exportButtons === true ? {} : props.exportButtons, {\n      vega: false\n    })\n  });\n}\n\nfunction fillVennDiagramDefaults(props) {\n  return fillVennDiagramDefaultsG(props);\n}\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\n\n\nfunction fillKarnaughMapDefaultsG(props) {\n  return fillGeneric({\n    numericScale: 'linear',\n    barPadding: 0.3,\n    barLabelOffset: 2,\n    combinationName: 'Intersection Size',\n    combinationNameAxisOffset: 'auto'\n  }, props, {\n    exportButtons: props.exportButtons === false ? false : Object.assign({}, props.exportButtons === true ? {} : props.exportButtons, {\n      vega: false\n    })\n  });\n}\n\nfunction fillKarnaughMapDefaults(props) {\n  return fillKarnaughMapDefaultsG(props);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction createSVG(node, toRemove) {\n  const clone = node.cloneNode(true);\n  clone.style.backgroundColor = getDefaultTheme(node.dataset.theme).backgroundColor;\n\n  if (toRemove) {\n    Array.from(clone.querySelectorAll(toRemove)).forEach(d => d.remove());\n  }\n\n  return new XMLSerializer().serializeToString(clone);\n}\n/**\r\n * helper method to export an download an SVG image\r\n * @param node the SVG element to download\r\n * @param options additional options\r\n */\n\n\nfunction exportSVG(node, _ref) {\n  let {\n    type = 'png',\n    title,\n    toRemove\n  } = _ref;\n  const b = new Blob([createSVG(node, toRemove)], {\n    type: 'image/svg+xml;charset=utf-8'\n  });\n  const styleId = extractStyleId(node);\n  const chartTitle = title !== null && title !== void 0 ? title : extractTitle(node, styleId);\n  const url = URL.createObjectURL(b);\n\n  if (type === 'svg') {\n    downloadUrl(url, `${chartTitle}.${type}`, node.ownerDocument);\n    URL.revokeObjectURL(url);\n    return Promise.resolve();\n  }\n\n  return toPNG(url, node).then(purl => {\n    downloadUrl(purl, `${chartTitle}.${type}`, node.ownerDocument);\n    URL.revokeObjectURL(url);\n  });\n}\n\nfunction toPNG(url, node) {\n  const canvas = node.ownerDocument.createElement('canvas');\n  const bb = node.getBoundingClientRect();\n  canvas.width = bb.width;\n  canvas.height = bb.height;\n  const ctx = canvas.getContext('2d');\n  const img = new Image(canvas.width, canvas.height);\n  return new Promise(resolve => {\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0);\n      const png = canvas.toDataURL('image/png');\n      resolve(png);\n    };\n\n    img.src = url;\n  });\n}\n/**\r\n * helper method to download a given url in the browser\r\n * @param url the url to download\r\n * @param title the desired file name\r\n * @param doc the root document\r\n */\n\n\nfunction downloadUrl(url, title, doc) {\n  const a = doc.createElement('a');\n  a.href = url;\n  a.style.position = 'absolute';\n  a.style.left = '-10000px';\n  a.style.top = '-10000px';\n  a.download = title;\n  doc.body.appendChild(a);\n  a.click();\n  a.remove();\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction createVegaSpec(svg, title) {\n  var _a, _b, _c, _d, _e;\n\n  const resolveStyle = (_c = svg.getComputedStyle || ((_b = (_a = svg.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.getComputedStyle)) !== null && _c !== void 0 ? _c : window.getComputedStyle;\n  const styleId = extractStyleId(svg);\n  const chartTitle = title !== null && title !== void 0 ? title : extractTitle(svg, styleId);\n  const sets = Array.from(svg.querySelectorAll('[data-upset=sets] [data-cardinality]')).map(set => {\n    return {\n      name: set.querySelector(`text.setTextStyle-${styleId}`).textContent,\n      cardinality: Number.parseInt(set.dataset.cardinality, 10)\n    };\n  }).reverse();\n  const barLabelOffset = -Number.parseFloat(svg.querySelector(`.sBarTextStyle-${styleId}`).getAttribute('dx'));\n  const color = resolveStyle(svg.querySelector(`.fillPrimary-${styleId}`)).fill;\n  const fillNotMember = resolveStyle(svg.querySelector(`.fillNotMember-${styleId}`)).fill;\n  const textColor = resolveStyle(svg.querySelector('text')).fill;\n  const csName = svg.querySelector(`.cChartTextStyle-${styleId}`).textContent;\n  const setName = svg.querySelector(`.sChartTextStyle-${styleId}`).textContent;\n  const combinations = Array.from(svg.querySelectorAll('[data-upset=cs] [data-cardinality]')).map(set => {\n    return {\n      name: set.querySelector(`text.hoverBarTextStyle-${styleId}`).textContent,\n      cardinality: Number.parseInt(set.dataset.cardinality, 10),\n      sets: Array.from(set.querySelectorAll(`.fillPrimary-${styleId} > title`)).map(n => n.textContent)\n    };\n  });\n\n  const translateX = v => Number.parseFloat(v.getAttribute('transform').match(/([\\d.]+),/)[1]);\n\n  const translateY = v => Number.parseFloat(v.getAttribute('transform').match(/,([\\d.]+)/)[1]);\n\n  const base = svg.querySelector('[data-upset=base]');\n  const padding = translateX(base); // combination axis block\n\n  const setWidth = translateX(svg.querySelector('[data-upset=csaxis]')); // axisline\n\n  const csWidth = Number.parseFloat(base.querySelector('g').firstElementChild.children[1].getAttribute('x2')); // set axis block\n\n  const csHeight = translateY(svg.querySelector('[data-upset=setaxis]')); // set label clip path\n\n  const labelWidth = Number.parseFloat(svg.querySelector('defs rect').getAttribute('width'));\n  const setHeight = Number.parseFloat(svg.querySelector('defs rect').getAttribute('height'));\n  const radius = Number.parseFloat(svg.querySelector(`[data-cardinality] circle.fillPrimary-${styleId}`).getAttribute('r'));\n  const hasPrimarySelection = svg.querySelector('[data-upset=sets-s] [data-cardinality]') != null;\n  const hasQuery = svg.querySelector('[data-upset=sets-q] [data-cardinality]') != null;\n  const hasSelection = hasPrimarySelection || hasQuery;\n  let selectionColor = 'orange';\n\n  if (hasSelection) {\n    // inject the selection data\n    Array.from(svg.querySelectorAll(`[data-upset=sets-${hasPrimarySelection ? 's]' : 'q]:first-of-type'} [data-cardinality]`)).forEach(elem => {\n      // since artificially reversed\n      const i = sets.length - Number.parseInt(elem.dataset.i, 10) - 1;\n      sets[i].selection = Number.parseInt(elem.dataset.cardinality, 10);\n    });\n    Array.from(svg.querySelectorAll(`[data-upset=cs-${hasPrimarySelection ? 's]' : 'q]:first-of-type'} [data-cardinality]`)).forEach(elem => {\n      const i = Number.parseInt(elem.dataset.i, 10);\n      combinations[i].selection = Number.parseInt(elem.dataset.cardinality, 10);\n    });\n    selectionColor = resolveStyle(svg.querySelector(`[data-upset=sets-${hasPrimarySelection ? 's' : 'q'}] [data-cardinality]`)).fill;\n  }\n\n  const highlightedCombination = Number.parseInt((_e = (_d = svg.querySelector('[data-upset=cs-ss]')) === null || _d === void 0 ? void 0 : _d.dataset.i) !== null && _e !== void 0 ? _e : '-1', 10);\n  const filter = highlightedCombination >= 0 ? {\n    field: 'partOf',\n    oneOf: [1, 2]\n  } : {\n    field: 'partOf',\n    equal: 1\n  }; // part of: 0 ... negative list, 1 ... positive set list, 2, ... positive and selected\n\n  return {\n    $schema: 'https://vega.github.io/schema/vega-lite/v4.json',\n    title: chartTitle,\n    description: extractDescription(svg, styleId),\n    datasets: {\n      sets,\n      combinations: combinations.map((c, i) => Object.assign({}, c, {\n        partOf: highlightedCombination === i ? 2 : 1,\n        nsets: ['']\n      })).concat(combinations.map(c => ({\n        name: c.name,\n        cardinality: c.cardinality,\n        // no selection!\n        partOf: 0,\n        sets: [''],\n        nsets: sets.filter(s => !c.sets.includes(s.name)).map(s => s.name)\n      })))\n    },\n    vconcat: [{\n      hconcat: [{\n        mark: 'bar',\n        width: setWidth + labelWidth - 40,\n        height: csHeight\n      }, {\n        width: csWidth,\n        height: csHeight,\n        data: {\n          name: 'combinations'\n        },\n        transform: [{\n          filter\n        }],\n        layer: [{\n          mark: {\n            type: 'bar',\n            tooltip: true\n          }\n        }, {\n          mark: {\n            type: 'text',\n            align: 'center',\n            baseline: 'bottom',\n            dy: -barLabelOffset\n          },\n          encoding: {\n            text: {\n              field: 'cardinality',\n              type: 'quantitative'\n            }\n          }\n        }, hasSelection && {\n          mark: {\n            type: 'bar',\n            fill: selectionColor,\n            tooltip: true\n          },\n          encoding: {\n            y: {\n              field: 'selection',\n              type: 'quantitative'\n            }\n          }\n        }].filter(Boolean),\n        encoding: {\n          x: {\n            field: 'name',\n            type: 'ordinal',\n            axis: null,\n            sort: null\n          },\n          y: {\n            field: 'cardinality',\n            type: 'quantitative',\n            axis: {\n              grid: false\n            },\n            title: csName\n          }\n        }\n      }]\n    }, {\n      hconcat: [{\n        width: setWidth,\n        height: setHeight,\n        data: {\n          name: 'sets'\n        },\n        layer: [{\n          mark: {\n            type: 'bar',\n            tooltip: true\n          }\n        }, {\n          mark: {\n            type: 'text',\n            align: 'right',\n            baseline: 'middle',\n            dx: -barLabelOffset\n          },\n          encoding: {\n            text: {\n              field: 'cardinality',\n              type: 'quantitative'\n            }\n          }\n        }, hasSelection && {\n          mark: {\n            type: 'bar',\n            fill: selectionColor,\n            tooltip: true\n          },\n          encoding: {\n            x: {\n              field: 'selection',\n              type: 'quantitative'\n            }\n          }\n        }].filter(Boolean),\n        encoding: {\n          y: {\n            field: 'name',\n            type: 'ordinal',\n            axis: null,\n            sort: null\n          },\n          x: {\n            field: 'cardinality',\n            type: 'quantitative',\n            title: setName,\n            sort: 'descending',\n            axis: {\n              grid: false\n            }\n          }\n        }\n      }, {\n        data: {\n          name: 'sets'\n        },\n        width: labelWidth,\n        height: setHeight,\n        mark: {\n          type: 'text',\n          align: 'center',\n          baseline: 'middle',\n          fontSize: Number.parseInt(resolveStyle(svg.querySelector(`.setTextStyle-${styleId}`)).fontSize, 10)\n        },\n        encoding: {\n          y: {\n            field: 'name',\n            type: 'ordinal',\n            axis: null,\n            sort: null\n          },\n          text: {\n            field: 'name',\n            type: 'ordinal'\n          }\n        }\n      }, {\n        width: csWidth,\n        height: setHeight,\n        data: {\n          name: 'combinations'\n        },\n        transform: [{\n          flatten: ['sets'],\n          as: ['has_set']\n        }, {\n          flatten: ['nsets'],\n          as: ['has_not_set']\n        }, {\n          calculate: 'datum.has_set+datum.has_not_set',\n          as: 'set'\n        }],\n        layer: [{\n          mark: {\n            type: 'circle',\n            size: radius * radius * Math.PI,\n            tooltip: true\n          },\n          encoding: {\n            color: {\n              field: 'partOf',\n              type: 'nominal',\n              legend: null,\n              scale: {\n                range: [fillNotMember, color].concat(highlightedCombination >= 0 ? [selectionColor] : [])\n              }\n            },\n            y: {\n              field: 'set',\n              type: 'ordinal',\n              axis: null,\n              sort: null,\n              scale: {\n                domain: sets.map(s => s.name)\n              }\n            }\n          }\n        }, {\n          mark: 'rule',\n          transform: [{\n            filter\n          }, {\n            calculate: 'datum.sets[datum.sets.length -1]',\n            as: 'set_end'\n          }],\n          encoding: Object.assign({\n            y: {\n              field: 'sets[0]',\n              type: 'ordinal',\n              axis: null,\n              sort: null\n            },\n            y2: {\n              field: 'set_end'\n            }\n          }, highlightedCombination < 0 ? {} : {\n            color: {\n              field: 'partOf',\n              type: 'nominal',\n              legend: null,\n              scale: {\n                range: [color, selectionColor]\n              }\n            }\n          })\n        }],\n        encoding: {\n          x: {\n            field: 'name',\n            type: 'ordinal',\n            axis: null,\n            sort: null\n          }\n        }\n      }]\n    }],\n    config: {\n      padding,\n      background: getDefaultTheme(svg.dataset.theme).backgroundColor,\n      concat: {\n        spacing: 0\n      },\n      view: {\n        stroke: null\n      },\n      // scale: {\n      //   bandPaddingInner: props.barPadding,\n      //   bandPaddingOuter: props.barPadding,\n      //   pointPadding: props.barPadding,\n      // },\n      bar: {\n        fill: color\n      },\n      circle: {\n        opacity: 1\n      },\n      rule: {\n        stroke: color,\n        strokeWidth: Number.parseInt(resolveStyle(svg.querySelector(`[data-upset=cs] [data-cardinality] line`)).strokeWidth, 10)\n      },\n      axis: {\n        labelColor: textColor,\n        labelFontSize: Number.parseInt(resolveStyle(svg.querySelector(`.axisTextStyle-${styleId}`)).fontSize, 10),\n        titleColor: textColor,\n        titleFontSize: Number.parseInt(resolveStyle(svg.querySelector(`.cChartTextStyle-${styleId}`)).fontSize, 10)\n      },\n      title: {\n        color: textColor\n      },\n      text: {\n        fill: textColor,\n        fontSize: Number.parseInt(resolveStyle(svg.querySelector(`.sBarTextStyle-${styleId}`)).fontSize, 10)\n      }\n    }\n  };\n}\n\nfunction exportVegaLite(svg) {\n  let {\n    title\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const spec = createVegaSpec(svg, title);\n  const url = URL.createObjectURL(new Blob([JSON.stringify(spec, null, 2)], {\n    type: 'application/json'\n  }));\n  downloadUrl(url, `${spec.title}.json`, svg.ownerDocument);\n  URL.revokeObjectURL(url);\n}\n\nconst THEME_KEYS = ['selectionColor', 'color', 'textColor', 'hoverHintColor', 'notMemberColor', 'alternatingBackgroundColor', 'hasSelectionColor', 'hasSelectionOpacity', 'opacity', 'strokeColor', 'valueTextColor'];\nconst LAYOUT_KEYS = ['padding', 'barPadding', 'dotPadding', 'widthRatios', 'heightRatios'];\nconst STYLE_KEYS = ['fontSizes', 'combinationName', 'setName', 'barLabelOffset', 'setNameAxisOffset', 'combinationNameAxisOffset', 'theme', 'fontFamily', 'emptySelection', 'exportButtons', 'queryLegend'];\nconst DUMP_KEYS = ['bandScale', 'numericScale'].concat(THEME_KEYS, LAYOUT_KEYS, STYLE_KEYS);\n\nfunction toDumpProps(props) {\n  var _a;\n\n  const full = fillDefaults({\n    width: 0,\n    height: 0,\n    sets: (_a = props.sets) !== null && _a !== void 0 ? _a : [],\n    combinations: props.combinations,\n    theme: props.theme\n  });\n  const r = {};\n  DUMP_KEYS.forEach(key => {\n    const value = props[key];\n    const defaultValue = full[key];\n\n    if (key === 'theme' && value !== 'light') {\n      // keep dark theme flag\n      r[key] = value;\n      return;\n    }\n\n    if (value == null || value === defaultValue) {\n      return;\n    }\n\n    if (key === 'fontSizes') {\n      // nested check\n      let empty = true;\n      const sub = {};\n      FONT_SIZES_KEYS.forEach(fKey => {\n        const fValue = value[fKey];\n        const fDefaultValue = defaultValue[fKey];\n\n        if (fValue !== fDefaultValue) {\n          sub[fKey] = fValue;\n          empty = false;\n        }\n      });\n\n      if (!empty) {\n        r[key] = sub;\n      }\n    } else {\n      r[key] = value;\n    }\n  });\n  return r;\n}\n\nfunction toUpSetJSDump(dump, elements, props, author, mode) {\n  return Object.assign({\n    $schema: 'https://upset.js.org/schema.1.0.0.json',\n    name: typeof props.title === 'string' ? props.title : 'UpSetJS',\n    description: typeof props.description === 'string' ? props.description : '',\n    mode,\n    author,\n    elements,\n    attrs: [],\n    props: toDumpProps(props)\n  }, dump);\n}\n\nfunction toUpSetJSStaticDump(dump, props, author, mode) {\n  return Object.assign({\n    $schema: 'https://upset.js.org/schema-static.1.0.0.json',\n    name: typeof props.title === 'string' ? props.title : 'UpSetJS',\n    description: typeof props.description === 'string' ? props.description : '',\n    mode,\n    author,\n    props: toDumpProps(props)\n  }, dump);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction exportDumpData(props, data) {\n  let compress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  let mode = arguments.length > 3 ? arguments[3] : undefined;\n\n  var _a, _b;\n\n  const elems = [];\n  const lookup = new Map();\n\n  const toElemIndex = elem => {\n    if (lookup.has(elem)) {\n      return lookup.get(elem);\n    }\n\n    lookup.set(elem, elems.length);\n    elems.push(elem);\n    return elems.length - 1;\n  };\n\n  const dump = toDump({\n    sets: props.sets,\n    queries: (_b = (_a = props.queries) === null || _a === void 0 ? void 0 : _a.filter(d => isElemQuery(d) || isSetQuery(d))) !== null && _b !== void 0 ? _b : [],\n    toElemIndex,\n    selection: props.selection && isSetLike$1(props.selection) ? props.selection : undefined,\n    combinations: data.cs.v,\n    combinationOptions: Array.isArray(props.combinations) ? {} : props.combinations\n  }, {\n    compress: compress ? 'yes' : 'no'\n  });\n  return toUpSetJSDump(dump, elems, props, undefined, mode);\n}\n\nfunction exportStaticDumpData(props, data) {\n  let compress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  let mode = arguments.length > 3 ? arguments[3] : undefined;\n\n  var _a, _b;\n\n  const dump = toStaticDump({\n    sets: props.sets,\n    queries: (_b = (_a = props.queries) === null || _a === void 0 ? void 0 : _a.filter(d => isElemQuery(d) || isSetQuery(d))) !== null && _b !== void 0 ? _b : [],\n    selection: props.selection && isSetLike$1(props.selection) ? props.selection : undefined,\n    combinations: data.cs.v\n  }, {\n    compress: compress ? 'yes' : 'no'\n  });\n  return toUpSetJSStaticDump(dump, props, undefined, mode);\n}\n\nfunction exportDump(svg, props, data, mode) {\n  const dump = exportDumpData(props, data, false, mode);\n  const url = URL.createObjectURL(new Blob([JSON.stringify(dump, null, 2)], {\n    type: 'application/json'\n  }));\n  downloadUrl(url, `${dump.name}.json`, svg.ownerDocument);\n  URL.revokeObjectURL(url);\n}\n\nconst MAX_URL_LENGTH = 2048 * 2;\n\nfunction exportSharedLink(props, data, mode) {\n  const r = exportDumpData(props, data, true, mode);\n  delete r.$schema;\n  const arg = LZString.compressToEncodedURIComponent(JSON.stringify(r));\n  const url = new URL('https://upset.js.org/app/embed.html');\n  url.searchParams.set('p', arg);\n\n  if (url.toString().length < MAX_URL_LENGTH) {\n    window.open(url.toString(), '_blank');\n    return true;\n  } // try other compression\n\n\n  const r2 = exportStaticDumpData(props, data, true, mode);\n  delete r2.$schema;\n  const arg2 = LZString.compressToEncodedURIComponent(JSON.stringify(r2));\n  url.searchParams.set('p', arg2);\n\n  if (url.toString().length < MAX_URL_LENGTH) {\n    window.open(url.toString(), '_blank');\n    return true;\n  } // send via frame message\n\n\n  url.searchParams.delete('p');\n  const w = window.open(url.toString(), '_blank');\n  w === null || w === void 0 ? void 0 : w.addEventListener('load', () => {\n    w === null || w === void 0 ? void 0 : w.postMessage(r, url.origin);\n  });\n  return false;\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction clsx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(' ');\n}\n\nfunction generateId(_args) {\n  return `upset-${Math.random().toString(36).slice(4)}`;\n}\n\nfunction isSetLike(s) {\n  return s != null && !Array.isArray(s);\n}\n\nfunction elemOverlapOf(query, toElemKey) {\n  const f = setOverlapFactory(query, toElemKey);\n  return s => {\n    return f(s.elems).intersection;\n  };\n}\n\nfunction noGuessPossible() {\n  return -1;\n}\n\nfunction generateSelectionOverlap(selection, overlapGuesser, toElemKey) {\n  if (!selection) {\n    return noOverlap;\n  }\n\n  if (typeof selection === 'function') {\n    return selection;\n  }\n\n  if (Array.isArray(selection)) {\n    return elemOverlapOf(selection, toElemKey);\n  }\n\n  const ss = selection;\n\n  if (ss.overlap) {\n    return ss.overlap.bind(ss);\n  }\n\n  let f = null;\n  return s => {\n    if (s.overlap) {\n      return s.overlap(ss);\n    }\n\n    const guess = overlapGuesser(s, ss);\n\n    if (guess >= 0) {\n      return guess;\n    }\n\n    if (!f) {\n      f = elemOverlapOf(ss.elems, toElemKey);\n    }\n\n    return f(s);\n  };\n}\n\nfunction generateSelectionName(selection) {\n  var _a;\n\n  return Array.isArray(selection) ? `Array(${selection.length})` : typeof selection === 'function' ? '?' : (_a = selection) === null || _a === void 0 ? void 0 : _a.name;\n}\n\nfunction elemElemOverlapOf(query, toElemKey) {\n  const f = setElemOverlapFactory(query, toElemKey);\n  return s => {\n    return f(s.elems).intersection;\n  };\n}\n\nfunction noOverlap() {\n  return 0;\n}\n\nfunction parseFontSize(v) {\n  if (v == null) {\n    return 10;\n  }\n\n  if (v.endsWith('pt')) {\n    return Math.floor(4 / 3 * Number.parseInt(v, 10));\n  }\n\n  return Number.parseInt(v, 10);\n}\n\nfunction toAnchor(alignment) {\n  var _a;\n\n  const alignments = {\n    left: 'start',\n    center: 'middle',\n    right: 'end'\n  };\n  return (_a = alignments[alignment]) !== null && _a !== void 0 ? _a : 'middle';\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction resolveNumericScale(factory) {\n  if (factory === 'linear') {\n    return linearScale;\n  }\n\n  if (factory === 'log') {\n    return logScale;\n  }\n\n  return factory;\n}\n\nfunction resolveBandScale(factory) {\n  return factory === 'band' ? bandScale$1 : factory;\n}\n\nfunction areCombinations$1(combinations) {\n  return Array.isArray(combinations);\n}\n\nfunction deriveDataDependent(sets, combinations, sizes, numericScale, bandScale, barLabelFontSize, dotPadding, barPadding, tickFontSize, combinationAddons, toKey, toElemKey, id, setMaxScale, combinationMaxScale) {\n  var _a;\n\n  const numericScaleFactory = resolveNumericScale(numericScale);\n  const bandScaleFactory = resolveBandScale(bandScale);\n  const cs = areCombinations$1(combinations) ? combinations : generateCombinations(sets, Object.assign({\n    toElemKey\n  }, DEFAULT_COMBINATIONS, combinations));\n  const csKeys = cs.map(toKey);\n  const combinationX = bandScaleFactory(csKeys, sizes.cs.w, sizes.padding);\n  const dataCSCardinality = cs.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\n  const maxCSCardinality = combinationMaxScale !== null && combinationMaxScale !== void 0 ? combinationMaxScale : dataCSCardinality;\n  const combinationYEnd = maxCSCardinality > dataCSCardinality ? 0 : barLabelFontSize;\n  const combinationY = numericScaleFactory(maxCSCardinality, [sizes.cs.h, combinationYEnd], {\n    orientation: 'vertical',\n    fontSizeHint: tickFontSize\n  });\n\n  const labelSize = text => Math.floor(barLabelFontSize / 1.4 * 0.7 * text.length);\n\n  const guessLabelWidth = v => labelSize(combinationY.tickFormat()(v));\n\n  const dataSetCardinality = sets.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\n  const maxSetCardinality = setMaxScale !== null && setMaxScale !== void 0 ? setMaxScale : dataSetCardinality;\n  const largestSetLabelWidth = guessLabelWidth(maxSetCardinality);\n  let largestCSLabelWidth = guessLabelWidth(maxCSCardinality);\n\n  for (const addon of combinationAddons) {\n    if (!addon.scale) {\n      continue;\n    }\n\n    const ticks = addon.scale.ticks(3);\n    const f = addon.scale.tickFormat();\n\n    for (const tick of ticks) {\n      const l = typeof tick === 'number' ? f(tick) : (_a = tick.label) !== null && _a !== void 0 ? _a : f(tick.value);\n      const size = labelSize(l);\n\n      if (size > largestCSLabelWidth) {\n        largestCSLabelWidth = size;\n      }\n    }\n  }\n\n  const setShift = maxSetCardinality > dataSetCardinality ? 0 : largestSetLabelWidth;\n  const setX = numericScaleFactory(maxSetCardinality, [sizes.sets.w, setShift], {\n    orientation: 'horizontal',\n    fontSizeHint: tickFontSize\n  });\n  const setKeys = sets.map(toKey);\n  const setY = bandScaleFactory(setKeys.slice().reverse(), // reverse order\n  sizes.sets.h, sizes.padding);\n  const r = Math.min(setY.bandwidth(), combinationX.bandwidth()) / 2 * dotPadding;\n  const triangleSize = Math.max(2, Math.min(setY.bandwidth(), combinationX.bandwidth()) / 2 * barPadding);\n  return {\n    id: id ? id : generateId(),\n    r,\n    triangleSize,\n    sets: {\n      v: sets,\n      keys: setKeys,\n      rv: sets.slice().reverse(),\n      x: setX,\n      xAxisWidth: sizes.sets.w - setShift,\n      y: s => setY(toKey(s)),\n      max: maxSetCardinality,\n      bandWidth: setY.bandwidth(),\n      cy: setY.bandwidth() / 2 + sizes.cs.h,\n      format: setX.tickFormat(),\n      labelOffset: barLabelFontSize + 9 + 2\n    },\n    cs: {\n      v: cs,\n      keys: cs.map(toKey),\n      x: s => combinationX(toKey(s)),\n      max: maxCSCardinality,\n      y: combinationY,\n      yAxisWidth: sizes.cs.h - combinationYEnd,\n      cx: combinationX.bandwidth() / 2,\n      bandWidth: combinationX.bandwidth(),\n      format: combinationY.tickFormat(),\n      has: (v, s) => {\n        const sk = toKey(s);\n        return Array.from(v.sets).some(ss => toKey(ss) === sk);\n      },\n      labelOffset: largestCSLabelWidth + 9 + 6\n    },\n    toKey,\n    toElemKey,\n    overlapGuesser: generateOverlapFunction(cs, noGuessPossible, toKey)\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveSizeDependent(width, height, margin, barPadding, widthRatios, heightRatios, setAddons, combinationAddons, id, setAddonPadding, combinationAddonPadding) {\n  const setAddonsBefore = setAddons.reduce((acc, a) => acc + (a.position === 'before' ? a.size + setAddonPadding : 0), 0);\n  const setAddonsAfter = setAddons.reduce((acc, a) => acc + (a.position !== 'before' ? a.size + setAddonPadding : 0), 0);\n  const combinationAddonsBefore = combinationAddons.reduce((acc, a) => acc + (a.position === 'before' ? a.size + setAddonPadding : 0), 0);\n  const combinationAddonsAfter = combinationAddons.reduce((acc, a) => acc + (a.position !== 'before' ? a.size + setAddonPadding : 0), 0);\n  const h = height - 2 * margin - 20 - combinationAddonsAfter - combinationAddonsBefore;\n  const w = width - 2 * margin - setAddonsBefore - setAddonsAfter;\n  const setWidth = widthRatios[0] > 1 ? widthRatios[0] : w * widthRatios[0];\n  const labelsWidth = widthRatios[1] > 1 ? widthRatios[1] : w * widthRatios[1];\n  const combinationHeight = heightRatios[0] > 1 ? heightRatios[0] : h * heightRatios[0];\n  return {\n    id: id ? id : generateId(),\n    cs: {\n      before: combinationAddonsBefore,\n      after: combinationAddonsAfter,\n      x: setAddonsBefore + setWidth + labelsWidth,\n      y: combinationAddonsBefore,\n      w: w - setWidth - labelsWidth,\n      h: combinationHeight,\n      addons: combinationAddons,\n      addonPadding: combinationAddonPadding\n    },\n    labels: {\n      x: setAddonsBefore + setWidth,\n      y: combinationAddonsBefore + combinationHeight,\n      w: labelsWidth,\n      h: h - combinationHeight\n    },\n    sets: {\n      before: setAddonsBefore,\n      after: setAddonsAfter,\n      x: setAddonsBefore,\n      y: combinationAddonsBefore + combinationHeight,\n      w: setWidth,\n      h: h - combinationHeight,\n      addons: setAddons,\n      addonPadding: setAddonPadding\n    },\n    padding: barPadding,\n    legend: {\n      x: width / 2\n    },\n    margin: margin,\n    w: width,\n    h: height\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveStyleDependent(theme, styles, classNames, combinationName, combinationNameAxisOffset, setName, setNameAxisOffset, styleId, barLabelOffset, selectionColor, emptySelection, title, description, tooltips, setLabelAlignment) {\n  return {\n    theme,\n    styles,\n    classNames: classNames,\n    cs: {\n      name: combinationName,\n      offset: combinationNameAxisOffset\n    },\n    sets: {\n      name: setName,\n      offset: setNameAxisOffset\n    },\n    emptySelection,\n    id: styleId,\n    barLabelOffset,\n    selectionColor,\n    title,\n    description,\n    tooltips,\n    setLabelAlignment\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction ExportButtons(_ref2) {\n  let {\n    transform,\n    styleId,\n    exportButtons,\n    exportChart\n  } = _ref2;\n\n  if (!exportButtons) {\n    return null;\n  }\n\n  const svgWidth = 26;\n  const pngWidth = 26;\n  const vegaWidth = 34;\n  const dumpWidth = 34;\n  const shareWidth = 42;\n  const space = 2;\n  let acc = 0;\n  const buttons = [];\n\n  if (exportButtons === true || exportButtons.svg !== false) {\n    acc += svgWidth;\n    buttons.push(React.createElement(\"g\", {\n      key: \"svg\",\n      className: `exportButton-${styleId}`,\n      onClick: exportChart,\n      \"data-type\": \"svg\",\n      transform: `translate(-${acc}, 0)`\n    }, React.createElement(\"title\", null, \"Download SVG Image\"), React.createElement(\"rect\", {\n      y: -9,\n      width: svgWidth,\n      height: 11,\n      rx: 2,\n      ry: 2\n    }), React.createElement(\"text\", {\n      className: `exportTextStyle-${styleId}`,\n      x: svgWidth / 2\n    }, \"SVG\")));\n    acc += space;\n  }\n\n  if (exportButtons === true || exportButtons.png !== false) {\n    acc += pngWidth;\n    buttons.push(React.createElement(\"g\", {\n      key: \"png\",\n      className: `exportButton-${styleId}`,\n      onClick: exportChart,\n      \"data-type\": \"png\",\n      transform: `translate(-${acc}, 0)`\n    }, React.createElement(\"title\", null, \"Download PNG Image\"), React.createElement(\"rect\", {\n      y: -9,\n      width: pngWidth,\n      height: 11,\n      rx: 2,\n      ry: 2\n    }), React.createElement(\"text\", {\n      className: `exportTextStyle-${styleId}`,\n      x: pngWidth / 2\n    }, \"PNG\")));\n    acc += space;\n  }\n\n  if (exportButtons === true || exportButtons.vega !== false) {\n    acc += vegaWidth;\n    buttons.push(React.createElement(\"g\", {\n      key: \"vega\",\n      className: `exportButton-${styleId}`,\n      onClick: exportChart,\n      \"data-type\": \"vega\",\n      transform: `translate(-${acc}, 0)`\n    }, React.createElement(\"title\", null, \"Download VEGA-Lite Specification\"), React.createElement(\"rect\", {\n      y: -9,\n      width: vegaWidth,\n      height: 11,\n      rx: 2,\n      ry: 2\n    }), React.createElement(\"text\", {\n      className: `exportTextStyle-${styleId}`,\n      x: vegaWidth / 2\n    }, \"VEGA\")));\n    acc += space;\n  }\n\n  if (exportButtons === true || exportButtons.dump !== false) {\n    acc += dumpWidth;\n    buttons.push(React.createElement(\"g\", {\n      key: \"dump\",\n      className: `exportButton-${styleId}`,\n      onClick: exportChart,\n      \"data-type\": \"dump\",\n      transform: `translate(-${acc}, 0)`\n    }, React.createElement(\"title\", null, \"Download UpSet.js JSON Dump\"), React.createElement(\"rect\", {\n      y: -9,\n      width: dumpWidth,\n      height: 11,\n      rx: 2,\n      ry: 2\n    }), React.createElement(\"text\", {\n      className: `exportTextStyle-${styleId}`,\n      x: dumpWidth / 2\n    }, \"DUMP\")));\n    acc += space;\n  }\n\n  if (exportButtons === true || exportButtons.share !== false) {\n    acc += shareWidth;\n    buttons.push(React.createElement(\"g\", {\n      key: \"share\",\n      className: `exportButton-${styleId}`,\n      onClick: exportChart,\n      \"data-type\": \"share\",\n      transform: `translate(-${acc}, 0)`\n    }, React.createElement(\"title\", null, \"Open a shareable URL\"), React.createElement(\"rect\", {\n      y: -9,\n      width: shareWidth,\n      height: 11,\n      rx: 2,\n      ry: 2\n    }), React.createElement(\"text\", {\n      className: `exportTextStyle-${styleId}`,\n      x: shareWidth / 2\n    }, \"SHARE\")));\n    acc += space;\n  }\n\n  return React.createElement(\"g\", {\n    className: `exportButtons-${styleId}`,\n    transform: transform\n  }, buttons);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst QueryLegend =\n/*!#__PURE__*/\nReact.memo(function QueryLegend(_ref3) {\n  let {\n    queries,\n    x,\n    style,\n    data\n  } = _ref3;\n  return React.createElement(\"text\", {\n    transform: `translate(${x},4)`,\n    style: style.styles.legend,\n    className: clsx(`legendTextStyle-${style.id}`, style.classNames.legend)\n  }, queries.map((q, i) => {\n    let count = null;\n\n    if (isSetQuery(q)) {\n      count = q.set.cardinality;\n    } else if (isElemQuery(q)) {\n      count = q.elems instanceof Set ? q.elems.size : q.elems.length;\n    }\n\n    return React.createElement(React.Fragment, {\n      key: q.name\n    }, React.createElement(\"tspan\", {\n      className: `fillQ${i}-${data.id}`\n    }, '  ⬤ '), React.createElement(\"tspan\", null, q.name, count != null ? `: ${data.sets.format(count)}` : ''));\n  }));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst HorizontalTick =\n/*!#__PURE__*/\nReact.memo(function HorizontalTick(_ref4) {\n  let {\n    pos,\n    spacing,\n    tickSizeInner,\n    orient,\n    name,\n    style\n  } = _ref4;\n  const k = orient === 'top' || orient === 'left' ? -1 : 1;\n  return React.createElement(\"g\", {\n    transform: `translate(0, ${pos + 0.5})`\n  }, name && React.createElement(\"text\", {\n    x: k * spacing,\n    dy: '0.32em',\n    className: clsx(`axisTextStyle-${style.id}`, orient === 'right' ? `startText-${style.id}` : `endText-${style.id}`, style.classNames.axisTick),\n    style: style.styles.axisTick\n  }, name), React.createElement(\"line\", {\n    x2: k * tickSizeInner,\n    className: `axisLine-${style.id}`\n  }));\n});\nconst VerticalTick =\n/*!#__PURE__*/\nReact.memo(function VerticalTick(_ref5) {\n  let {\n    pos,\n    name,\n    spacing,\n    orient,\n    tickSizeInner,\n    style\n  } = _ref5;\n  const k = orient === 'top' || orient === 'left' ? -1 : 1;\n  return React.createElement(\"g\", {\n    transform: `translate(${pos + 0.5}, 0)`\n  }, name && React.createElement(\"text\", {\n    y: k * spacing,\n    dy: orient === 'top' ? '0em' : '0.71em',\n    className: clsx(`axisTextStyle-${style.id}`, style.classNames.axisTick),\n    style: style.styles.axisTick\n  }, name), React.createElement(\"line\", {\n    y2: k * tickSizeInner,\n    className: `axisLine-${style.id}`\n  }));\n});\n\nfunction Axis(_ref6) {\n  let {\n    scale,\n    orient,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 3,\n    size,\n    start,\n    style,\n    transform\n  } = _ref6;\n  const spacing = Math.max(tickSizeInner, 0) + tickPadding;\n  const range0 = start;\n  const range1 = size;\n  const k = orient === 'top' || orient === 'left' ? -1 : 1;\n  const Tick = orient === 'left' || orient === 'right' ? HorizontalTick : VerticalTick;\n  const values = scale.ticks().map(d => typeof d === 'number' ? {\n    value: d,\n    label: String(d)\n  } : d);\n  return React.createElement(\"g\", {\n    transform: transform\n  }, values.map(d => React.createElement(Tick, {\n    key: d.value,\n    pos: scale(d.value),\n    name: d.label,\n    spacing: spacing,\n    tickSizeInner: tickSizeInner,\n    orient: orient,\n    style: style\n  })), React.createElement(\"path\", {\n    className: `axisLine-${style.id}`,\n    d: orient === 'left' || orient === 'right' ? tickSizeOuter ? `M${k * tickSizeOuter},${range0}H0.5V${range1}H${k * tickSizeOuter}` : `M0.5,${range0}V${range1}` : tickSizeOuter ? `M${range0},${k * tickSizeOuter}V0.5H${range1}V${k * tickSizeOuter}` : `M${range0},0.5H${range1}`\n  }));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst MultilineText =\n/*!#__PURE__*/\nReact.memo(function MultilineText(_ref7) {\n  let {\n    width,\n    text,\n    dy,\n    x,\n    style,\n    className\n  } = _ref7;\n  const ref = useRef(null);\n  const [lines, setLines] = useState(typeof text === 'string' ? [text] : []); // update state upon text update\n\n  useLayoutEffect(() => {\n    if (typeof text === 'string') {\n      setLines([text]);\n    } else {\n      setLines([]);\n    }\n  }, [text]);\n  useLayoutEffect(() => {\n    if (!ref.current || ref.current.childElementCount > 0 || typeof text !== 'string' || typeof ref.current.getComputedTextLength !== 'function') {\n      // already multi lines\n      return;\n    }\n\n    const len = ref.current.getComputedTextLength();\n    const lines = [];\n    let lineWidth = width;\n    let start = 0; // compute line splits\n\n    const p = ref.current.getStartPositionOfChar(0);\n\n    while (len > lineWidth) {\n      p.x = lineWidth;\n      const num = ref.current.getCharNumAtPosition(p);\n      const space = text.lastIndexOf(' ', num);\n\n      if (space < start) {\n        break;\n      }\n\n      lines.push(text.slice(start, space + 1));\n      const used = ref.current.getEndPositionOfChar(space + 1).x;\n      start = space + 1; // new line with in the used part + a new line\n\n      lineWidth = used + width;\n    }\n\n    lines.push(text.slice(start));\n    setLines(lines);\n  }, [ref, text, width]);\n\n  if (!text) {\n    return null;\n  }\n\n  return React.createElement(\"tspan\", {\n    ref: ref,\n    dy: dy,\n    style: style,\n    x: x,\n    className: className\n  }, lines.length > 1 ? lines.map((l, i) => React.createElement(\"tspan\", {\n    key: l,\n    x: 0,\n    dy: i > 0 ? '1.2em' : dy\n  }, l)) : text);\n});\nvar UpSetTitle =\n/*!#__PURE__*/\nReact.memo(function UpSetTitle(_ref8) {\n  let {\n    width,\n    descriptionWidth = width,\n    style\n  } = _ref8;\n\n  if (!style.title && !style.description) {\n    return null;\n  }\n\n  return React.createElement(\"text\", null, React.createElement(MultilineText, {\n    text: style.title,\n    width: width,\n    dy: \"10px\",\n    className: clsx(`titleTextStyle-${style.id}`, style.classNames.title),\n    style: style.styles.title\n  }), React.createElement(MultilineText, {\n    x: 0,\n    width: descriptionWidth,\n    dy: style.title ? '2em' : '10px',\n    text: style.description,\n    className: clsx(`descTextStyle-${style.id}`, style.classNames.description),\n    style: style.styles.description\n  }));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction noop() {\n  return undefined;\n}\n\nfunction wrap(f) {\n  if (!f) {\n    return noop;\n  }\n\n  return (set, addons) => {\n    return function (evt) {\n      return f.call(this, set, evt.nativeEvent, addons.map(a => a.createOnHandlerData ? a.createOnHandlerData(set) : null));\n    };\n  };\n}\n\nfunction addonPositionGenerator(total, padding) {\n  let beforeAcc = 0;\n  let afterAcc = 0;\n  return addon => {\n    let x = 0;\n\n    if (addon.position === 'before') {\n      beforeAcc += addon.size + padding;\n      x = -beforeAcc;\n    } else {\n      x = total + afterAcc + padding;\n      afterAcc += addon.size + padding;\n    }\n\n    return x;\n  };\n}\n\nfunction mergeColor(style, color) {\n  let prop = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'fill';\n\n  if (!color) {\n    return style;\n  }\n\n  if (!style) {\n    return !color ? undefined : {\n      [prop]: color\n    };\n  }\n\n  return Object.assign({\n    [prop]: color\n  }, style);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst UpSetAxis =\n/*!#__PURE__*/\nReact.memo(function UpSetAxis(_ref9) {\n  let {\n    size,\n    style,\n    data\n  } = _ref9;\n  const setPosGen = addonPositionGenerator(size.sets.w + size.labels.w + size.cs.w, size.sets.addonPadding);\n  const combinationPosGen = addonPositionGenerator(size.cs.h + size.sets.h, size.cs.addonPadding);\n  const csNameOffset = style.cs.offset === 'auto' ? data.cs.labelOffset : style.cs.offset;\n  const setNameOffset = style.sets.offset === 'auto' ? data.sets.labelOffset : style.sets.offset;\n  return React.createElement(\"g\", null, React.createElement(UpSetTitle, {\n    style: style,\n    width: size.cs.x - csNameOffset - 20\n  }), React.createElement(\"g\", {\n    transform: `translate(${size.cs.x},${size.cs.y})`,\n    \"data-upset\": \"csaxis\"\n  }, React.createElement(Axis, {\n    scale: data.cs.y,\n    orient: \"left\",\n    size: size.cs.h,\n    start: size.cs.h - data.cs.yAxisWidth,\n    style: style\n  }), React.createElement(\"line\", {\n    x1: 0,\n    x2: size.cs.w,\n    y1: size.cs.h + 1,\n    y2: size.cs.h + 1,\n    className: `axisLine-${style.id}`\n  }), React.createElement(\"text\", {\n    className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel),\n    style: style.styles.chartLabel,\n    transform: `translate(${-csNameOffset}, ${size.cs.h / 2})rotate(-90)`\n  }, style.cs.name), size.cs.addons.map(addon => {\n    const pos = combinationPosGen(addon);\n    const title = React.createElement(\"text\", {\n      key: addon.name,\n      className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel),\n      style: style.styles.chartLabel,\n      transform: `translate(${-csNameOffset}, ${pos + addon.size / 2})rotate(-90)`\n    }, addon.name);\n\n    if (!addon.scale) {\n      return title;\n    }\n\n    return React.createElement(React.Fragment, {\n      key: addon.name\n    }, React.createElement(Axis, {\n      scale: addon.scale,\n      orient: \"left\",\n      size: addon.size,\n      start: 0,\n      style: style,\n      transform: `translate(0,${pos})`\n    }), title);\n  })), React.createElement(\"g\", {\n    transform: `translate(${size.sets.x},${size.sets.y})`,\n    \"data-upset\": \"setaxis\"\n  }, React.createElement(Axis, {\n    scale: data.sets.x,\n    orient: \"bottom\",\n    size: size.sets.w,\n    start: size.sets.w - data.sets.xAxisWidth,\n    transform: `translate(0, ${size.sets.h})`,\n    style: style\n  }), React.createElement(\"text\", {\n    className: clsx(`sChartTextStyle-${style.id}`, style.classNames.chartLabel),\n    style: style.styles.chartLabel,\n    transform: `translate(${size.sets.w / 2}, ${size.sets.h + setNameOffset})`\n  }, style.sets.name), size.sets.addons.map(addon => {\n    const pos = setPosGen(addon);\n    const title = React.createElement(\"text\", {\n      key: addon.name,\n      className: clsx(`sChartTextStyle-${style.id}`, style.classNames.chartLabel),\n      style: style.styles.chartLabel,\n      transform: `translate(${pos + addon.size / 2}, ${size.sets.h + setNameOffset})`\n    }, addon.name);\n\n    if (!addon.scale) {\n      return title;\n    }\n\n    return React.createElement(React.Fragment, {\n      key: addon.name\n    }, React.createElement(Axis, {\n      scale: addon.scale,\n      orient: \"bottom\",\n      size: addon.size,\n      start: 0,\n      transform: `translate(${pos}, ${size.sets.h})`,\n      style: style\n    }), title);\n  })));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst UpSetDot =\n/*!#__PURE__*/\nReact.memo(function UpSetDot(_ref10) {\n  let {\n    cx,\n    r,\n    cy,\n    name,\n    className,\n    style,\n    fill\n  } = _ref10;\n  return React.createElement(\"circle\", {\n    r: r,\n    cx: cx,\n    cy: cy,\n    className: className,\n    style: mergeColor(style, fill)\n  }, name && React.createElement(\"title\", null, name));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction computeOverflowValues(value, max, scale) {\n  const scaled = [scale(value)];\n\n  for (let i = 0; i < OVERFLOW_PADDING_FACTOR.length && value > max; i++) {\n    value -= max;\n    scaled.push(scale(value));\n  }\n\n  return scaled;\n}\n\nconst CombinationChart =\n/*!#__PURE__*/\nReact.memo(function CombinationChart(_ref11) {\n  let {\n    d,\n    h,\n    className,\n    data,\n    size,\n    style,\n    children\n  } = _ref11;\n  const yValues = computeOverflowValues(d.cardinality, data.cs.max, data.cs.y);\n  const genPosition = addonPositionGenerator(size.cs.h + size.sets.h, size.cs.addonPadding);\n  return React.createElement(\"g\", {\n    transform: `translate(${data.cs.x(d)}, 0)`,\n    onMouseEnter: h.onMouseEnter(d, size.cs.addons),\n    onMouseLeave: h.onMouseLeave,\n    onClick: h.onClick(d, size.cs.addons),\n    onContextMenu: h.onContextMenu(d, size.cs.addons),\n    onMouseMove: h.onMouseMove(d, size.cs.addons),\n    className: className,\n    \"data-cardinality\": d.cardinality\n  }, style.tooltips && React.createElement(\"title\", null, d.name, \": \", data.cs.format(d.cardinality)), React.createElement(\"rect\", {\n    y: -size.cs.before,\n    width: data.cs.bandWidth,\n    height: size.sets.h + size.cs.h + size.cs.before + size.cs.after,\n    className: `hoverBar-${style.id}`\n  }), yValues.map((y, i) => {\n    const offset = i > 0 ? Math.floor(data.cs.bandWidth * OVERFLOW_PADDING_FACTOR[i - 1]) : 0;\n    return React.createElement(\"rect\", {\n      key: i,\n      x: offset,\n      y: y,\n      height: size.cs.h - y,\n      width: data.cs.bandWidth - offset * 2,\n      className: clsx(`fillPrimary-${style.id}`, i < yValues.length - 1 && `fillOverflow${yValues.length - 1 - i}-${style.id}`, style.classNames.bar),\n      style: mergeColor(style.styles.bar, d.color)\n    });\n  }), React.createElement(\"text\", {\n    y: yValues[0] - style.barLabelOffset,\n    x: data.cs.bandWidth / 2,\n    style: style.styles.barLabel,\n    className: clsx(`cBarTextStyle-${style.id}`, style.classNames.barLabel)\n  }, data.cs.format(d.cardinality)), React.createElement(\"text\", {\n    y: -style.barLabelOffset - size.cs.before,\n    x: data.cs.bandWidth / 2,\n    style: style.styles.barLabel,\n    className: clsx(`hoverBarTextStyle-${style.id}`, style.classNames.barLabel)\n  }, d.name), data.sets.v.map((s, i) => {\n    if (data.cs.has(d, s)) {\n      // only not\n      return null;\n    }\n\n    return React.createElement(UpSetDot, {\n      key: data.sets.keys[i],\n      r: data.r,\n      cx: data.cs.cx,\n      cy: data.sets.y(s) + data.sets.cy,\n      name: style.tooltips ? d.name : '',\n      style: style.styles.dot,\n      fill: undefined,\n      className: clsx(`fillNotMember-${style.id}`, style.classNames.dot)\n    });\n  }), d.sets.size > 1 && React.createElement(\"line\", {\n    x1: data.cs.cx,\n    y1: data.sets.y(data.sets.v.find(p => data.cs.has(d, p))) + data.sets.cy - (data.r - 1),\n    x2: data.cs.cx,\n    y2: data.sets.y(data.sets.rv.find(p => data.cs.has(d, p))) + data.sets.cy + (data.r - 1),\n    style: d.color ? {\n      stroke: d.color\n    } : undefined,\n    className: `upsetLine-${data.id}`\n  }), data.sets.v.map((s, i) => {\n    var _a;\n\n    if (!data.cs.has(d, s)) {\n      // only has\n      return null;\n    }\n\n    return React.createElement(UpSetDot, {\n      key: data.sets.keys[i],\n      r: data.r,\n      cx: data.cs.cx,\n      cy: data.sets.y(s) + data.sets.cy,\n      name: style.tooltips ? s.name : '',\n      style: style.styles.dot,\n      fill: (_a = s.color) !== null && _a !== void 0 ? _a : d.color,\n      className: clsx(`fillPrimary-${style.id}`, style.classNames.dot)\n    });\n  }), size.cs.addons.map(addon => React.createElement(\"g\", {\n    key: addon.name,\n    transform: `translate(0,${genPosition(addon)})`\n  }, addon.render({\n    set: d,\n    width: data.cs.bandWidth,\n    height: addon.size,\n    theme: style.theme\n  }))), children);\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst SetChart =\n/*!#__PURE__*/\nReact.memo(function SetChart(_ref12) {\n  let {\n    d,\n    i,\n    h,\n    className,\n    size,\n    data,\n    style,\n    children\n  } = _ref12;\n  const xValues = computeOverflowValues(d.cardinality, data.sets.max, data.sets.x);\n  const genPosition = addonPositionGenerator(size.sets.w + size.labels.w + size.cs.w, size.sets.addonPadding);\n  const anchorOffset = style.setLabelAlignment === 'center' ? size.labels.w / 2 : style.setLabelAlignment === 'left' ? 2 : size.labels.w - 2;\n  return React.createElement(\"g\", {\n    transform: `translate(0, ${data.sets.y(d)})`,\n    onMouseEnter: h.onMouseEnter(d, size.sets.addons),\n    onMouseLeave: h.onMouseLeave,\n    onClick: h.onClick(d, size.sets.addons),\n    onContextMenu: h.onContextMenu(d, size.sets.addons),\n    onMouseMove: h.onMouseMove(d, size.sets.addons),\n    className: className,\n    \"data-cardinality\": d.cardinality\n  }, style.tooltips && React.createElement(\"title\", null, d.name, \": \", data.sets.format(d.cardinality)), React.createElement(\"rect\", {\n    x: -size.sets.before,\n    width: size.sets.w + size.labels.w + size.cs.w + size.sets.after,\n    height: data.sets.bandWidth,\n    className: `hoverBar-${style.id}`\n  }), i % 2 === 1 && React.createElement(\"rect\", {\n    x: size.sets.w,\n    width: size.labels.w + size.cs.w + size.sets.after,\n    height: data.sets.bandWidth,\n    className: `fillAlternating-${style.id}`\n  }), xValues.map((x, i) => {\n    const offset = i > 0 ? Math.floor(data.sets.bandWidth * OVERFLOW_PADDING_FACTOR[i - 1]) : 0;\n    return React.createElement(\"rect\", {\n      key: i,\n      x: x,\n      y: offset,\n      width: size.sets.w - x,\n      height: data.sets.bandWidth - offset * 2,\n      className: clsx(`fillPrimary-${style.id}`, i < xValues.length - 1 && `fillOverflow${xValues.length - 1 - i}-${style.id}`, style.classNames.bar),\n      style: mergeColor(style.styles.bar, d.color)\n    });\n  }), React.createElement(\"text\", {\n    x: xValues[0],\n    dx: -style.barLabelOffset,\n    y: data.sets.bandWidth / 2,\n    style: style.styles.barLabel,\n    className: clsx(`sBarTextStyle-${style.id}`, style.classNames.barLabel)\n  }, data.sets.format(d.cardinality)), React.createElement(\"text\", {\n    x: size.sets.w + anchorOffset,\n    y: data.sets.bandWidth / 2,\n    className: clsx(`setTextStyle-${style.id}`, style.classNames.setLabel),\n    style: style.styles.setLabel,\n    clipPath: `url(#clip-${size.id})`\n  }, d.name), size.sets.addons.map(addon => React.createElement(\"g\", {\n    key: addon.name,\n    transform: `translate(${genPosition(addon)},0)`\n  }, addon.render({\n    set: d,\n    width: addon.size,\n    height: data.sets.bandWidth,\n    theme: style.theme\n  }))), children);\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst UpSetChart =\n/*!#__PURE__*/\nReact.memo(function UpSetChart(_ref13) {\n  let {\n    data,\n    size,\n    style,\n    h,\n    setChildrenFactory,\n    combinationChildrenFactory\n  } = _ref13;\n  return React.createElement(\"g\", {\n    className: h.hasClick ? `clickAble-${style.id}` : undefined\n  }, React.createElement(\"g\", {\n    transform: `translate(${size.sets.x},${size.sets.y})`,\n    \"data-upset\": \"sets\"\n  }, data.sets.v.map((d, i) => React.createElement(SetChart, {\n    key: data.sets.keys[i],\n    d: d,\n    i: i,\n    h: h,\n    className: h.hasClick || h.hasHover ? `interactive-${style.id}` : undefined,\n    data: data,\n    style: style,\n    size: size\n  }, setChildrenFactory && setChildrenFactory(d)))), React.createElement(\"g\", {\n    transform: `translate(${size.cs.x},${size.cs.y})`,\n    \"data-upset\": \"cs\"\n  }, data.cs.v.map((d, i) => React.createElement(CombinationChart, {\n    key: data.cs.keys[i],\n    d: d,\n    h: h,\n    className: h.hasClick || h.hasHover ? `interactive-${style.id}` : undefined,\n    data: data,\n    style: style,\n    size: size\n  }, combinationChildrenFactory && combinationChildrenFactory(d)))));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction CombinationSelectionChart(_ref14) {\n  let {\n    data,\n    size,\n    style,\n    elemOverlap,\n    secondary,\n    tooltip,\n    suffix,\n    transform,\n    empty,\n    combinationAddons\n  } = _ref14;\n  const width = data.cs.bandWidth;\n  const totalHeight = size.cs.h + size.sets.h;\n  const height = size.cs.h;\n  const className = clsx(`fill${suffix}`, !tooltip && `pnone-${style.id}`, style.classNames.bar);\n  return React.createElement(\"g\", {\n    transform: transform,\n    \"data-upset\": secondary ? 'cs-q' : 'cs-s'\n  }, data.cs.v.map((d, i) => {\n    const x = data.cs.x(d);\n    const key = data.cs.keys[i];\n\n    if (empty && !secondary) {\n      return React.createElement(\"rect\", {\n        key: key,\n        x: x,\n        y: height,\n        height: 0,\n        width: width,\n        className: className,\n        style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n      }, tooltip && React.createElement(\"title\", null));\n    }\n\n    const o = elemOverlap(d);\n\n    if (o === 0) {\n      return null;\n    }\n\n    const yValues = computeOverflowValues(o, data.cs.max, data.cs.y);\n    const title = tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\n    const content = secondary ? React.createElement(\"path\", {\n      key: key,\n      transform: `translate(${x}, ${yValues[0]})`,\n      d: `M0,-1 l${width},0 l0,2 l${-width},0 L-${data.triangleSize},-${data.triangleSize} L-${data.triangleSize},${data.triangleSize} Z`,\n      className: className,\n      \"data-i\": i,\n      \"data-cardinality\": o,\n      style: mergeColor(undefined, !style.selectionColor ? d.color : undefined)\n    }, title) : yValues.map((y, j) => {\n      const offset = j > 0 ? Math.floor(data.cs.bandWidth * OVERFLOW_PADDING_FACTOR[j - 1]) : 0;\n      return React.createElement(\"rect\", {\n        key: j,\n        x: x + offset,\n        y: y,\n        height: height - y,\n        width: width - offset * 2,\n        \"data-i\": j > 0 ? null : i,\n        \"data-cardinality\": j > 0 ? null : o,\n        className: clsx(className, j < yValues.length - 1 && `fillOverflow${yValues.length - 1 - j}-${style.id}`),\n        style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n      }, title);\n    });\n    const genPosition = addonPositionGenerator(totalHeight, size.cs.addonPadding);\n    const addons = combinationAddons.map(addon => {\n      const v = genPosition(addon);\n      const content = addon.render({\n        set: d,\n        width,\n        height: addon.size,\n        theme: style.theme\n      });\n\n      if (!content) {\n        return null;\n      }\n\n      return React.createElement(\"g\", {\n        key: addon.name,\n        transform: `translate(${x},${v})`\n      }, content);\n    }).filter(Boolean);\n\n    if (addons.length === 0) {\n      return content;\n    }\n\n    return React.createElement(\"g\", {\n      key: key\n    }, content, addons);\n  }));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction SetSelectionChart(_ref15) {\n  let {\n    data,\n    size,\n    style,\n    elemOverlap,\n    suffix,\n    secondary,\n    empty,\n    tooltip,\n    setAddons,\n    transform\n  } = _ref15;\n  const width = size.sets.w;\n  const totalWidth = size.sets.w + size.labels.w + size.cs.w;\n  const height = data.sets.bandWidth;\n  const className = clsx(`fill${suffix}`, !tooltip && ` pnone-${style.id}`, style.classNames.bar);\n  return React.createElement(\"g\", {\n    transform: transform,\n    \"data-upset\": secondary ? 'sets-q' : 'sets-s'\n  }, data.sets.v.map((d, i) => {\n    const y = data.sets.y(d);\n    const key = data.sets.keys[i];\n\n    if (empty && !secondary) {\n      return React.createElement(\"rect\", {\n        key: key,\n        x: width,\n        y: y,\n        width: 0,\n        height: height,\n        className: className,\n        style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n      }, style.tooltips && tooltip && React.createElement(\"title\", null));\n    }\n\n    const o = elemOverlap(d);\n\n    if (o === 0) {\n      return null;\n    }\n\n    const xValues = computeOverflowValues(o, data.sets.max, data.sets.x);\n    const title = style.tooltips && tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\n    const content = secondary ? React.createElement(\"path\", {\n      key: key,\n      transform: `translate(${xValues[0]}, ${y + height})`,\n      d: `M1,0 l0,${-height} l-2,0 l0,${height} L-${data.triangleSize},${data.triangleSize} L${data.triangleSize},${data.triangleSize} Z`,\n      \"data-i\": i,\n      \"data-cardinality\": o,\n      className: className,\n      style: mergeColor(undefined, !style.selectionColor ? d.color : undefined)\n    }, title) : xValues.map((x, j) => {\n      const offset = j > 0 ? Math.floor(data.sets.bandWidth * OVERFLOW_PADDING_FACTOR[j - 1]) : 0;\n      return React.createElement(\"rect\", {\n        key: j,\n        \"data-i\": j > 0 ? null : i,\n        \"data-cardinality\": j > 0 ? null : o,\n        x: x,\n        y: y + offset,\n        width: width - x,\n        height: height - offset * 2,\n        className: clsx(className, j < xValues.length - 1 && `fillOverflow${xValues.length - 1 - j}-${style.id}`),\n        style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n      }, title);\n    });\n    const genPosition = addonPositionGenerator(totalWidth, size.sets.addonPadding);\n    const addons = setAddons.map(addon => {\n      const v = genPosition(addon);\n      const content = addon.render({\n        set: d,\n        width: addon.size,\n        height,\n        theme: style.theme\n      });\n\n      if (!content) {\n        return null;\n      }\n\n      return React.createElement(\"g\", {\n        key: addon.name,\n        transform: `translate(${v},${y})`\n      }, content);\n    }).filter(Boolean);\n\n    if (addons.length === 0) {\n      return content;\n    }\n\n    return React.createElement(\"g\", {\n      key: key\n    }, content, addons);\n  }));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst EMPTY_ARRAY$1 = [];\nconst UpSetQueries =\n/*!#__PURE__*/\nReact.memo(function UpSetQueries(_ref16) {\n  let {\n    size,\n    data,\n    style,\n    hasHover,\n    secondary,\n    queries\n  } = _ref16;\n  const someAddon = size.sets.addons.some(s => s.renderQuery != null) || size.cs.addons.some(s => s.renderQuery != null);\n  const qs = useMemo(() => queries.map(q => Object.assign(Object.assign({}, q), {\n    overlap: queryOverlap(q, 'intersection', data.toElemKey),\n    elemOverlap: someAddon ? queryElemOverlap(q, 'intersection', data.toElemKey) : null\n  })), [queries, someAddon, data.toElemKey]);\n\n  function wrapAddon(addon, query, index, overlapper, secondary) {\n    return Object.assign(Object.assign({}, addon), {\n      render: props => {\n        const overlap = overlapper(props.set);\n        return addon.renderQuery ? addon.renderQuery(Object.assign({\n          query,\n          overlap,\n          index,\n          secondary\n        }, props)) : null;\n      }\n    });\n  }\n\n  return React.createElement(\"g\", {\n    className: hasHover && !secondary ? `pnone-${style.id}` : undefined\n  }, React.createElement(\"g\", {\n    transform: `translate(${size.sets.x},${size.sets.y})`\n  }, qs.map((q, i) => React.createElement(SetSelectionChart, {\n    key: q.name,\n    data: data,\n    size: size,\n    style: style,\n    elemOverlap: q.overlap,\n    suffix: `Q${i}-${data.id}`,\n    secondary: secondary || i > 0,\n    tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name,\n    setAddons: size.sets.addons.length === 0 ? EMPTY_ARRAY$1 : size.sets.addons.map((a, i) => wrapAddon(a, q, i, q.elemOverlap, secondary || i > 0))\n  }))), React.createElement(\"g\", {\n    transform: `translate(${size.cs.x},${size.cs.y})`\n  }, qs.map((q, i) => React.createElement(CombinationSelectionChart, {\n    key: q.name,\n    data: data,\n    size: size,\n    style: style,\n    elemOverlap: q.overlap,\n    suffix: `Q${i}-${data.id}`,\n    secondary: secondary || i > 0,\n    tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name,\n    combinationAddons: size.cs.addons.length === 0 ? EMPTY_ARRAY$1 : size.cs.addons.map((a, i) => wrapAddon(a, q, i, q.elemOverlap, secondary || i > 0))\n  }))));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction LabelsSelection(_ref17) {\n  let {\n    data,\n    size,\n    style,\n    selection\n  } = _ref17;\n\n  if (!selection || selection.type !== 'set' || !data.sets.keys.includes(data.toKey(selection))) {\n    return null;\n  }\n\n  const d = selection;\n  return React.createElement(\"rect\", {\n    y: data.sets.y(d),\n    width: size.labels.w + size.cs.w + size.sets.after,\n    height: data.sets.bandWidth,\n    className: `selectionHint-${style.id}`\n  });\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction UpSetSelectionChart(_ref18) {\n  let {\n    data,\n    size,\n    style,\n    selection\n  } = _ref18;\n  const cy = data.sets.bandWidth / 2;\n  const cx = data.cs.cx;\n  const r = data.r;\n  const height = size.sets.h + size.sets.after;\n  const width = data.cs.bandWidth;\n\n  if (!selection || selection.type === 'set' || !data.cs) {\n    return null;\n  }\n\n  const d = selection;\n  const index = data.cs.keys.indexOf(data.toKey(d));\n\n  if (index < 0) {\n    return null;\n  }\n\n  return React.createElement(\"g\", {\n    transform: `translate(${size.labels.w + data.cs.x(d)}, 0)`,\n    \"data-upset\": \"cs-ss\",\n    \"data-i\": index\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    className: `selectionHint-${style.id}`\n  }), d.sets.size > 1 && React.createElement(\"line\", {\n    x1: cx,\n    y1: data.sets.y(data.sets.v.find(p => data.cs.has(d, p))) + cy - (data.r - 1),\n    x2: cx,\n    y2: data.sets.y(data.sets.rv.find(p => data.cs.has(d, p))) + cy + (data.r - 1),\n    className: `upsetSelectionLine-${data.id}`,\n    style: mergeColor(undefined, !style.selectionColor ? d.color : undefined, 'stroke')\n  }), data.sets.v.filter(s => data.cs.has(d, s)).map(s => React.createElement(UpSetDot, {\n    key: data.toKey(s),\n    r: r * 1.1,\n    cx: cx,\n    cy: data.sets.y(s) + cy,\n    name: style.tooltips ? s.name : '',\n    className: clsx(`fillSelection-${style.id}`, `pnone-${style.id}`, style.classNames.dot),\n    style: mergeColor(style.styles.dot, !style.selectionColor ? s.color : undefined)\n  })));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst EMPTY_ARRAY$2 = [];\n\nfunction UpSetSelection(_ref19) {\n  let {\n    size,\n    data,\n    style,\n    selection,\n    hasHover\n  } = _ref19;\n  const empty = style.emptySelection;\n  const selectionOverlap = generateSelectionOverlap(selection, data.overlapGuesser, data.toElemKey);\n  const selectionName = generateSelectionName(selection);\n  const someAddon = size.sets.addons.some(s => s.renderSelection != null) || size.cs.addons.some(s => s.renderSelection != null);\n  const selectionElemOverlap = selection && typeof selection !== 'function' && someAddon ? elemElemOverlapOf(Array.isArray(selection) ? selection : selection.elems, data.toElemKey) : null;\n\n  function wrapAddon(addon) {\n    return Object.assign(Object.assign({}, addon), {\n      render: props => {\n        const overlap = selectionElemOverlap ? selectionElemOverlap(props.set) : null;\n        return addon.renderSelection ? addon.renderSelection(Object.assign({\n          selection,\n          selectionColor: style.selectionColor || props.set.color || 'orange',\n          overlap\n        }, props)) : null;\n      }\n    });\n  }\n\n  return React.createElement(\"g\", {\n    className: hasHover ? `pnone-${style.id}` : undefined\n  }, (selection || empty) && React.createElement(CombinationSelectionChart, {\n    data: data,\n    size: size,\n    style: style,\n    transform: `translate(${size.cs.x},${size.cs.y})`,\n    empty: empty && !selection,\n    elemOverlap: selectionOverlap,\n    suffix: `Selection-${style.id}`,\n    tooltip: hasHover ? undefined : selectionName,\n    combinationAddons: size.cs.addons.length === 0 ? EMPTY_ARRAY$2 : size.cs.addons.map(wrapAddon)\n  }), (selection || empty) && React.createElement(SetSelectionChart, {\n    data: data,\n    size: size,\n    style: style,\n    transform: `translate(${size.sets.x},${size.sets.y})`,\n    empty: empty && !selection,\n    elemOverlap: selectionOverlap,\n    suffix: `Selection-${style.id}`,\n    tooltip: hasHover ? undefined : selectionName,\n    setAddons: size.sets.addons.length === 0 ? EMPTY_ARRAY$2 : size.sets.addons.map(wrapAddon)\n  }), React.createElement(\"g\", {\n    transform: `translate(${size.labels.x},${size.labels.y})`\n  }, isSetLike(selection) && React.createElement(LabelsSelection, {\n    data: data,\n    size: size,\n    style: style,\n    selection: selection\n  }), isSetLike(selection) && React.createElement(UpSetSelectionChart, {\n    data: data,\n    size: size,\n    style: style,\n    selection: selection\n  })));\n}\n\nfunction propRule(value) {\n  let prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'font-size';\n  return value ? `${prop}: ${value};` : '';\n}\n\nfunction baseRules(styleId, theme, fontFamily, fontSizes) {\n  const hasS = [];\n\n  if (theme.hasSelectionColor) {\n    hasS.push(`fill: ${theme.hasSelectionColor};`);\n  }\n\n  const hasSelectionOpacity = theme.hasSelectionOpacity != null && theme.hasSelectionOpacity >= 0;\n\n  if (hasSelectionOpacity) {\n    hasS.push(`fill-opacity: ${theme.hasSelectionOpacity};`);\n  }\n\n  return {\n    p: propRule,\n    root: `\n  .root-${styleId} {\n    ${propRule(fontFamily, 'font-family')}\n  }\n  `,\n    text: `\n  .titleTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.title)}\n  }\n  .descTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.description)}\n  }\n\n  .legendTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.legend)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  `,\n    hasSFill: hasS.join(' '),\n    hasSStroke: hasS.join(' ').replace('fill:', 'stroke:').replace('fill-', 'stroke-'),\n    fill: `\n  .fillPrimary-${styleId} { fill: ${theme.color}; fill-opacity: ${theme.opacity}; }\n  .fillOverflow1-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[0]}; }\n  .fillOverflow2-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[1]}; }\n  ${hasS.length > 0 ? `.root-${styleId}[data-selection] .fillPrimary-${styleId} { ${hasS.join(' ')} }` : ''}\n  ${hasSelectionOpacity ? `\n      .root-${styleId}[data-selection] .fillOverflow1-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[0]}; }\n      .root-${styleId}[data-selection] .fillOverflow2-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[1]}; }` : ''}\n  ${theme.selectionColor ? `.fillSelection-${styleId} { fill: ${theme.selectionColor}; }` : ''}\n  .fillTransparent-${styleId} { fill: transparent; }\n\n  .selectionHint-${styleId} {\n    fill: transparent;\n    pointer-events: none;\n    ${propRule(theme.selectionColor, 'stroke')}\n  }\n  .clickAble-${styleId} {\n    cursor: pointer;\n  }\n\n  .startText-${styleId} {\n    text-anchor: start;\n  }\n  .endText-${styleId} {\n    text-anchor: end;\n  }\n  .pnone-${styleId} {\n    pointer-events: none;\n  }`,\n    export: `\n  .exportTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.exportLabel)}\n  }\n  .exportButtons-${styleId} {\n    text-anchor: middle;\n  }\n  .exportButton-${styleId} {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-${styleId}:hover {\n    opacity: 1;\n  }\n  .exportButton-${styleId} > rect {\n    fill: none;\n    stroke: ${theme.textColor};\n  }\n  `\n  };\n}\n\nfunction useHandler(p) {\n  const onClick = p.onClick;\n  return useMemo(() => ({\n    hasClick: onClick != null,\n    hasHover: p.onHover != null,\n    onClick: wrap(onClick),\n    onMouseEnter: wrap(p.onHover),\n    onContextMenu: wrap(p.onContextMenu),\n    onMouseLeave: p.onHover ? evt => p.onHover(null, evt.nativeEvent, []) : undefined,\n    onMouseMove: wrap(p.onMouseMove),\n    reset: evt => onClick ? onClick(null, evt.nativeEvent, []) : null\n  }), [onClick, p.onHover, p.onContextMenu, p.onMouseMove]);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n/**\r\n * UpSetJS main pure functional stateless React component, the generic argument T refers to the type of the elements\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\n\n\nconst UpSetJS =\n/*!#__PURE__*/\nReact.forwardRef(function UpSetJS(props, ref) {\n  var _a;\n\n  const p = fillDefaults(props);\n  const {\n    selection = null,\n    queries = [],\n    fontSizes\n  } = p; // generate a \"random\" but attribute stable id to avoid styling conflicts\n\n  const styleId = useMemo(() => p.id ? p.id : generateId([p.fontFamily, fontSizes.axisTick, fontSizes.barLabel, fontSizes.chartLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.hoverHintColor, p.color, p.hasSelectionColor, p.selectionColor, p.notMemberColor, p.alternatingBackgroundColor, p.opacity, p.hasSelectionOpacity]), [p.id, p.fontFamily, fontSizes.axisTick, fontSizes.barLabel, fontSizes.chartLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.hoverHintColor, p.color, p.hasSelectionColor, p.selectionColor, p.notMemberColor, p.alternatingBackgroundColor, p.opacity, p.hasSelectionOpacity]);\n  const styleInfo = useMemo(() => deriveStyleDependent(p.theme, p.styles, p.classNames, p.combinationName, p.combinationNameAxisOffset, p.setName, p.setNameAxisOffset, styleId, p.barLabelOffset, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips, p.setLabelAlignment), [p.theme, p.styles, p.classNames, p.barLabelOffset, p.combinationName, p.combinationNameAxisOffset, p.setName, p.setNameAxisOffset, styleId, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips, p.setLabelAlignment]);\n  const sizeInfo = useMemo(() => deriveSizeDependent(p.width, p.height, p.padding, p.barPadding, p.widthRatios, p.heightRatios, p.setAddons, p.combinationAddons, p.id, p.setAddonPadding, p.combinationAddonPadding), [p.width, p.height, p.padding, p.barPadding, p.widthRatios, p.heightRatios, p.setAddons, p.combinationAddons, p.id, p.setAddonPadding, p.combinationAddonPadding]);\n  const dataInfo = useMemo(() => deriveDataDependent(p.sets, p.combinations, sizeInfo, p.numericScale, p.bandScale, p.barLabelOffset + parseFontSize(fontSizes.barLabel), p.dotPadding, p.barPadding, parseFontSize(fontSizes.axisTick), p.combinationAddons, p.toKey, p.toElemKey, p.id, p.setMaxScale, p.combinationMaxScale), [p.sets, p.combinations, sizeInfo, p.numericScale, p.bandScale, p.barLabelOffset, fontSizes.barLabel, p.dotPadding, p.barPadding, fontSizes.axisTick, p.combinationAddons, p.toKey, p.toElemKey, p.id, p.setMaxScale, p.combinationMaxScale]);\n  const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\n  const h = useHandler(p);\n  const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .axisTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.axisTick)}\n    text-anchor: middle;\n  }\n  .barTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n  }\n  .cBarTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: middle;\n  }\n  .sBarTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-${styleId} {\n    ${rulesHelper.p(fontSizes.barLabel)}\n    fill: ${p.hoverHintColor};\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: ${toAnchor(p.setLabelAlignment)};\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n    text-anchor: middle;\n  }\n  .sChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ${rulesHelper.fill}\n  .fillNotMember-${styleId} { fill: ${p.notMemberColor}; }\n  .fillAlternating-${styleId} { fill: ${p.alternatingBackgroundColor || 'transparent'}; }\n\n  .axisLine-${styleId} {\n    fill: none;\n    stroke: ${p.textColor};\n  }\n  .hoverBar-${styleId} {\n    fill: transparent;\n  }\n\n  .interactive-${styleId}:hover > .hoverBar-${styleId} {\n    stroke: ${p.hoverHintColor};\n  }\n  .interactive-${styleId}:hover > .hoverBarTextStyle-${styleId} {\n    display: unset;\n  }\n\n  ${rulesHelper.export}\n\n  .upsetLine-${dataInfo.id} {\n    stroke-width: ${dataInfo.r * 0.6};\n    stroke: ${p.color};\n    stroke-opacity: ${p.opacity};\n  }\n  ${rulesHelper.hasSStroke ? `.root-${styleId}[data-selection] .upsetLine-${dataInfo.id} { ${rulesHelper.hasSStroke} }` : ''}\n\n  .upsetSelectionLine-${dataInfo.id} {\n    stroke-width: ${dataInfo.r * 0.6 * 1.1};\n    ${rulesHelper.p(p.selectionColor, 'stroke')}\n    pointer-events: none;\n  }\n\n  ${queries.map((q, i) => `.fillQ${i}-${dataInfo.id} {\n    fill: ${q.color};\n  }`).join('\\n')}\n  `;\n  const exportChart = useCallback(evt => {\n    const svg = evt.currentTarget.closest('svg');\n    const type = evt.currentTarget.dataset.type || 'png';\n\n    switch (type) {\n      case 'vega':\n        exportVegaLite(svg);\n        break;\n\n      case 'dump':\n        exportDump(svg, props, dataInfo);\n        break;\n\n      case 'share':\n        exportSharedLink(props, dataInfo);\n        break;\n\n      case 'svg':\n      case 'png':\n        exportSVG(svg, {\n          type,\n          toRemove: `.${evt.currentTarget.getAttribute('class')}`\n        });\n    }\n  }, [dataInfo, props]);\n  const selectionName = generateSelectionName(selection);\n  return React.createElement(\"svg\", {\n    id: p.id,\n    className: clsx(`root-${styleId}`, p.className),\n    style: p.style,\n    width: p.width,\n    height: p.height,\n    ref: ref,\n    viewBox: `0 0 ${p.width} ${p.height}`,\n    \"data-theme\": (_a = p.theme) !== null && _a !== void 0 ? _a : 'light',\n    \"data-selection\": selectionName ? selectionName : undefined\n  }, React.createElement(\"style\", null, rules), React.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n    id: `clip-${sizeInfo.id}`\n  }, React.createElement(\"rect\", {\n    x: sizeInfo.sets.w,\n    y: 0,\n    width: sizeInfo.labels.w,\n    height: sizeInfo.sets.h\n  }))), p.queryLegend && React.createElement(QueryLegend, {\n    queries: queries,\n    x: sizeInfo.legend.x,\n    style: styleInfo,\n    data: dataInfo\n  }), React.createElement(ExportButtons, {\n    transform: `translate(${sizeInfo.w - 2},${sizeInfo.h - 3})`,\n    styleId: styleId,\n    exportButtons: p.exportButtons,\n    exportChart: exportChart\n  }), React.createElement(\"g\", {\n    transform: `translate(${p.padding},${p.padding})`,\n    \"data-upset\": \"base\"\n  }, p.onClick && React.createElement(\"rect\", {\n    width: sizeInfo.cs.x,\n    height: sizeInfo.sets.y,\n    onClick: h.reset,\n    className: `fillTransparent-${styleId}`\n  }), React.createElement(UpSetAxis, {\n    size: sizeInfo,\n    style: styleInfo,\n    data: dataInfo\n  }), React.createElement(UpSetChart, {\n    size: sizeInfo,\n    style: styleInfo,\n    data: dataInfo,\n    h: h,\n    setChildrenFactory: p.setChildrenFactory,\n    combinationChildrenFactory: p.combinationChildrenFactory\n  }), React.createElement(UpSetSelection, {\n    size: sizeInfo,\n    style: styleInfo,\n    data: dataInfo,\n    hasHover: h.hasHover,\n    selection: selection\n  }), React.createElement(UpSetQueries, {\n    size: sizeInfo,\n    style: styleInfo,\n    data: dataInfo,\n    hasHover: h.hasHover,\n    queries: queries,\n    secondary: p.onHover != null || selection != null\n  })), props.children);\n});\n\nfunction SVGWrapper(_ref20) {\n  let {\n    rules,\n    style,\n    size,\n    p,\n    data,\n    tRef,\n    children,\n    exportChart,\n    selectionName,\n    h\n  } = _ref20;\n\n  var _a, _b;\n\n  return React.createElement(\"svg\", {\n    id: p.id,\n    className: clsx(`root-${style.id}`, p.className),\n    style: p.style,\n    width: p.width,\n    height: p.height,\n    ref: tRef,\n    viewBox: `0 0 ${p.width} ${p.height}`,\n    \"data-theme\": (_a = p.theme) !== null && _a !== void 0 ? _a : 'light',\n    \"data-selection\": selectionName ? selectionName : undefined\n  }, React.createElement(\"style\", null, rules), p.onClick && React.createElement(\"rect\", {\n    width: size.w,\n    height: size.h,\n    onClick: h.reset,\n    className: `fillTransparent-${style.id}`\n  }), p.queryLegend && React.createElement(QueryLegend, {\n    queries: (_b = p.queries) !== null && _b !== void 0 ? _b : [],\n    x: size.legend.x,\n    style: style,\n    data: data\n  }), React.createElement(ExportButtons, {\n    transform: `translate(${size.w - 2},${size.h - 3})`,\n    styleId: style.id,\n    exportButtons: p.exportButtons,\n    exportChart: exportChart\n  }), React.createElement(\"g\", {\n    transform: `translate(${p.padding},${p.padding})`,\n    \"data-upset\": \"base\"\n  }, children), p.children);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction generateArcSlicePath(s, refs) {\n  let p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  if (s.path) {\n    return s.path;\n  }\n\n  return `M ${s.x1 - p},${s.y1 - p} ${s.arcs.map(arc => {\n    const ref = refs[arc.ref].l;\n    const rx = isEllipse(ref) ? ref.rx : ref.r;\n    const ry = isEllipse(ref) ? ref.ry : ref.r;\n    const rot = isEllipse(ref) ? ref.rotation : 0;\n    return `A ${rx - p} ${ry - p} ${rot} ${arc.large ? 1 : 0} ${arc.sweep ? 1 : 0} ${arc.x2 - p} ${arc.y2 - p}`;\n  }).join(' ')}`;\n}\n\nfunction SelectionPattern(p) {\n  var _a;\n\n  if (p.v >= 1 || p.v <= 0) {\n    return null;\n  }\n\n  const ratio = Math.round(p.v * 10.0) / 100;\n  return React.createElement(\"defs\", null, React.createElement(\"pattern\", {\n    id: p.id,\n    width: \"1\",\n    height: \"0.1\",\n    patternContentUnits: \"objectBoundingBox\",\n    patternTransform: `rotate(${(_a = p.rotate) !== null && _a !== void 0 ? _a : 0})`\n  }, p.bgFilled && React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"1\",\n    height: \"0.1\",\n    style: {\n      fill: p.bgFill\n    },\n    className: `fillPrimary-${p.styleId}`\n  }), React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"1\",\n    height: ratio,\n    className: `fill${p.suffix}`,\n    style: p.fill ? {\n      fill: p.fill\n    } : undefined\n  })));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction sliceRotate(slice, center) {\n  if (slice.text.x === center.cx) {\n    return 0;\n  }\n\n  if (slice.text.x > center.cx) {\n    return slice.text.y <= center.cy ? 60 : -60;\n  }\n\n  return slice.text.y <= center.cy ? -60 : 60;\n}\n\nfunction generateTitle(d, s, sName, secondary, qs, queries, data, cx) {\n  const dc = data.format(d.cardinality);\n  const baseName = !sName ? d.name : `${d.name} ∩ ${sName}`;\n  const baseCardinality = !sName ? dc : `${data.format(s)}/${dc}`;\n\n  if (qs.length === 0) {\n    return {\n      tooltip: `${baseName}: ${baseCardinality}`,\n      title: d.type === 'set' ? React.createElement(React.Fragment, null, React.createElement(\"tspan\", {\n        dy: \"-0.6em\"\n      }, d.name), React.createElement(\"tspan\", {\n        x: cx,\n        dy: \"1.2em\"\n      }, baseCardinality)) : baseCardinality\n    };\n  }\n\n  if (qs.length === 1 && !secondary && !sName) {\n    return {\n      tooltip: `${d.name} ∩ ${queries[0].name}: ${data.format(qs[0])}/${dc}`,\n      title: d.type === 'set' ? React.createElement(React.Fragment, null, React.createElement(\"tspan\", {\n        dy: \"-0.6em\"\n      }, d.name), React.createElement(\"tspan\", {\n        x: cx,\n        dy: \"1.2em\"\n      }, `${data.format(qs[0])}/${dc}`)) : `${data.format(qs[0])}/${dc}`\n    };\n  }\n\n  const queryLine = React.createElement(\"tspan\", {\n    x: cx,\n    dy: \"1.2em\"\n  }, queries.map((q, i) => React.createElement(React.Fragment, {\n    key: q.name\n  }, React.createElement(\"tspan\", {\n    className: `fillQ${i}-${data.id}`\n  }, '⬤'), React.createElement(\"tspan\", null, ` ${data.format(qs[i])}/${dc}${i < queries.length - 1 ? ' ' : ''}`))));\n  return {\n    tooltip: `${baseName}: ${baseCardinality}\\n${queries.map((q, i) => `${d.name} ∩ ${q.name}: ${data.format(qs[i])}/${dc}`).join('\\n')}`,\n    title: d.type === 'set' ? React.createElement(React.Fragment, null, React.createElement(\"tspan\", {\n      dy: \"-1.2em\"\n    }, d.name), React.createElement(\"tspan\", {\n      x: cx,\n      dy: \"1.2em\"\n    }, baseCardinality), queryLine) : React.createElement(React.Fragment, null, React.createElement(\"tspan\", {\n      dy: \"-0.6em\"\n    }, baseCardinality), queryLine)\n  };\n}\n\nfunction VennArcSliceSelection(_ref21) {\n  let {\n    slice,\n    d,\n    i,\n    data,\n    style,\n    elemOverlap,\n    selected,\n    selectionName,\n    h,\n    queries,\n    size,\n    fill,\n    qs\n  } = _ref21;\n  const p = generateArcSlicePath(slice, data.sets.d);\n  const rotate = sliceRotate(slice, size.area);\n  const o = elemOverlap ? elemOverlap(d) : 0;\n  const fillFullSelection = o === d.cardinality && d.cardinality > 0 || selected;\n  const className = clsx(`arc-${style.id}`, o === 0 && !selected && `${fill ? 'fillPrimary' : 'arcP'}-${style.id}`, fillFullSelection && `fillSelection-${style.id}`, style.classNames.set);\n  const id = `upset-${style.id}-${i}`;\n  const secondary = elemOverlap != null || h.onMouseLeave != null;\n  const qsOverlaps = qs.map(q => q(d));\n  const {\n    title,\n    tooltip\n  } = generateTitle(d, o, selectionName, secondary, qsOverlaps, queries, data, slice.text.x);\n  return React.createElement(\"g\", null, React.createElement(SelectionPattern, {\n    id: id,\n    v: o === 0 ? 0 : o / d.cardinality,\n    suffix: `Selection-${style.id}`,\n    rotate: rotate,\n    bgFill: d.color,\n    bgFilled: d.color != null || fill,\n    fill: !style.selectionColor ? d.color : undefined,\n    styleId: style.id\n  }), React.createElement(\"path\", {\n    onMouseEnter: h.onMouseEnter(d, []),\n    onMouseLeave: h.onMouseLeave,\n    onClick: h.onClick(d, []),\n    onContextMenu: h.onContextMenu(d, []),\n    onMouseMove: h.onMouseMove(d, []),\n    d: p,\n    className: className,\n    style: mergeColor(style.styles.set, o > 0 && o < d.cardinality ? `url(#${id})` : !fillFullSelection || !style.selectionColor ? d.color : undefined)\n  }, style.tooltips && React.createElement(\"title\", null, tooltip)), React.createElement(\"text\", {\n    x: slice.text.x,\n    y: slice.text.y,\n    className: clsx(`${d.type === 'set' ? 'set' : 'value'}TextStyle-${style.id}`, `pnone-${style.id}` // circle.align === 'left' && `startText-${style.id}`,\n    // circle.align === 'right' && `endText-${style.id}`\n    )\n  }, title));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveVennDataDependent(sets, combinations, size, layout, format, toKey, toElemKey, id) {\n  const ss = sets.length > layout.maxSets ? sets.slice(0, layout.maxSets) : sets;\n  const {\n    cs,\n    setKeys,\n    csKeys\n  } = calculateCombinations(ss, toKey, combinations);\n  const l = layout.compute(ss, cs, size.area.w, size.area.h);\n  return {\n    id: id ? id : generateId(),\n    sets: {\n      d: l.sets.map((l, i) => ({\n        v: ss[i],\n        l,\n        key: setKeys[i]\n      })),\n      v: ss,\n      format\n    },\n    format,\n    cs: {\n      d: l.intersections.map((l, i) => ({\n        v: cs[i],\n        l,\n        key: csKeys[i]\n      })),\n      v: cs,\n      has: (v, s) => {\n        const sk = toKey(s);\n        return Array.from(v.sets).some(ss => toKey(ss) === sk);\n      }\n    },\n    toKey,\n    toElemKey,\n    overlapGuesser: generateDistinctOverlapFunction(cs, noGuessPossible, toKey)\n  };\n}\n\nfunction calculateCombinations(ss, toKey, combinations) {\n  let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n    min: 1\n  };\n  const setKeys = ss.map(toKey);\n  let cs = [];\n\n  if (areCombinations$1(combinations)) {\n    const given = new Map(combinations.map(c => [Array.from(c.sets).map(toKey).sort().join('#'), c]));\n    const helperSets = ss.map(s => ({\n      type: 'set',\n      cardinality: 0,\n      elems: [],\n      name: s.name,\n      s\n    })); // generate dummy ones and map to given data\n\n    cs = generateCombinations(helperSets, Object.assign({\n      type: 'distinctIntersection',\n      empty: true,\n      order: ['degree:asc', 'group:asc']\n    }, options)).map(c => {\n      const key = Array.from(c.sets).map(s => toKey(s.s)).sort().join('#');\n\n      if (given.has(key)) {\n        return given.get(key);\n      } // generate a dummy one\n\n\n      return {\n        name: c.name,\n        cardinality: 0,\n        degree: c.degree,\n        elems: [],\n        sets: new Set(Array.from(c.sets).map(s => s.s)),\n        type: 'distinctIntersection'\n      };\n    });\n  } else {\n    cs = generateCombinations(ss, Object.assign({\n      type: 'distinctIntersection',\n      empty: true,\n      order: ['degree:asc', 'group:asc']\n    }, options, combinations !== null && combinations !== void 0 ? combinations : {}));\n  }\n\n  const csKeys = cs.map(toKey);\n  return {\n    cs,\n    setKeys,\n    csKeys\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveVennSizeDependent(width, height, margin, id) {\n  const h = height - 2 * margin;\n  const w = width - 2 * margin;\n  const r = Math.min(w, h) / 2;\n  return {\n    id: id ? id : generateId(),\n    legend: {\n      x: width / 2\n    },\n    area: {\n      w,\n      h,\n      cx: w / 2,\n      cy: h / 2,\n      r\n    },\n    margin: margin,\n    w: width,\n    h: height\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveVennStyleDependent(theme, styles, classNames, styleId, selectionColor, title, description, tooltips) {\n  return {\n    theme,\n    styles,\n    classNames: classNames,\n    id: styleId,\n    selectionColor,\n    title,\n    description,\n    tooltips\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction useCreateCommon(p) {\n  const {\n    queries = [],\n    fontSizes\n  } = p; // generate a \"random\" but attribute stable id to avoid styling conflicts\n\n  const styleId = useMemo(() => p.id ? p.id : generateId([p.fontFamily, fontSizes.valueLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.color, p.hasSelectionColor, p.strokeColor, p.valueTextColor, p.selectionColor, p.opacity, p.hasSelectionOpacity]), [p.id, p.fontFamily, fontSizes.valueLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.color, p.hasSelectionColor, p.strokeColor, p.valueTextColor, p.selectionColor, p.opacity, p.hasSelectionOpacity]);\n  const styleInfo = useMemo(() => deriveVennStyleDependent(p.theme, p.styles, p.classNames, styleId, p.selectionColor, p.title, p.description, p.tooltips), [p.theme, p.styles, p.classNames, styleId, p.selectionColor, p.title, p.description, p.tooltips]);\n  const sizeInfo = useMemo(() => deriveVennSizeDependent(p.width, p.height, p.padding, p.id), [p.width, p.height, p.padding, p.id]);\n  const h = useHandler(p);\n  const qs = React.useMemo(() => queries.map(q => queryOverlap(q, 'intersection', p.toElemKey)), [queries, p.toElemKey]);\n  const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\n  return {\n    styleId,\n    size: sizeInfo,\n    style: styleInfo,\n    h,\n    qs,\n    rulesHelper\n  };\n}\n\nfunction useExportChart(dataInfo, props, mode) {\n  return useCallback(evt => {\n    const svg = evt.currentTarget.closest('svg');\n    const type = evt.currentTarget.dataset.type || 'png';\n\n    switch (type) {\n      case 'dump':\n        exportDump(svg, props, dataInfo, mode);\n        break;\n\n      case 'share':\n        exportSharedLink(props, dataInfo, mode);\n        break;\n\n      case 'svg':\n      case 'png':\n        exportSVG(svg, {\n          type,\n          toRemove: `.${evt.currentTarget.getAttribute('class')}`\n        });\n    }\n  }, [dataInfo, props, mode]);\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst VennDiagram =\n/*!#__PURE__*/\nReact.forwardRef(function VennDiagram(props, ref) {\n  const p = fillVennDiagramDefaults(props);\n  const {\n    selection = null,\n    queries = [],\n    fontSizes\n  } = p;\n  const v = useCreateCommon(p);\n  const {\n    size,\n    style,\n    rulesHelper\n  } = v;\n  const dataInfo = useMemo(() => deriveVennDataDependent(p.sets, p.combinations, size, p.layout, p.valueFormat, p.toKey, p.toElemKey, p.id), [p.sets, p.combinations, size, p.valueFormat, p.toKey, p.toElemKey, p.id, p.layout]);\n  const selectionKey = selection != null && isSetLike$1(selection) ? p.toKey(selection) : null;\n  const selectionOverlap = selection == null ? null : generateSelectionOverlap(selection, dataInfo.overlapGuesser, dataInfo.toElemKey);\n  const selectionName = generateSelectionName(selection);\n  const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .valueTextStyle-${style.id} {\n    fill: ${p.valueTextColor};\n    ${rulesHelper.p(fontSizes.valueLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .setTextStyle-${style.id} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: middle;\n  }\n\n  .topText-${style.id} {\n    dominant-baseline: hanging;\n  }\n\n  .stroke-circle-${style.id} {\n    fill: none;\n    stroke: ${p.strokeColor};\n  }\n\n  .arc-${style.id} {\n    fill-rule: evenodd;\n  }\n  .arcP-${style.id} {\n    fill: transparent;\n    fill-opacity: ${p.opacity};\n  }\n  ${rulesHelper.fill}\n  ${rulesHelper.export}\n\n  ${rulesHelper.hasSFill ? `.root-${style.id}[data-selection] .arcP-${style.id} { ${rulesHelper.hasSFill} }` : ''}\n\n  ${queries.map((q, i) => `.fillQ${i}-${dataInfo.id} {\n    fill: ${q.color};\n  }`).join('\\n')}\n  `;\n  const exportChart = useExportChart(dataInfo, p, 'venn');\n  const maxWidth = dataInfo.sets.d.reduce((acc, d) => Math.min(acc, d.l.cx - (isEllipse(d.l) ? d.l.rx : d.l.r)), size.area.w);\n  return React.createElement(SVGWrapper, {\n    rules: rules,\n    style: style,\n    selectionName: selectionName,\n    size: size,\n    p: p,\n    data: dataInfo,\n    tRef: ref,\n    h: v.h,\n    exportChart: exportChart\n  }, React.createElement(UpSetTitle, {\n    style: style,\n    width: maxWidth\n  }), React.createElement(\"g\", {\n    className: clsx(p.onClick && `clickAble-${style.id}`)\n  }, dataInfo.sets.d.map((d, i) => React.createElement(\"text\", {\n    key: d.key,\n    x: d.l.text.x,\n    y: d.l.text.y,\n    onClick: v.h.onClick(dataInfo.sets.v[i], []),\n    onMouseEnter: v.h.onMouseEnter(dataInfo.sets.v[i], []),\n    onMouseLeave: v.h.onMouseLeave,\n    onContextMenu: v.h.onContextMenu(dataInfo.sets.v[i], []),\n    onMouseMove: v.h.onMouseMove(dataInfo.sets.v[i], []),\n    className: clsx(`setTextStyle-${style.id}`, `${d.l.align}Text-${style.id}`, `${d.l.verticalAlign}Text-${style.id}`)\n  }, dataInfo.sets.v[i].name))), React.createElement(\"g\", {\n    className: clsx(p.onClick && `clickAble-${style.id}`)\n  }, dataInfo.cs.d.map((l, i) => React.createElement(VennArcSliceSelection, {\n    key: l.key,\n    d: l.v,\n    i: i,\n    slice: l.l,\n    size: size,\n    style: style,\n    data: dataInfo,\n    fill: p.filled,\n    h: v.h,\n    selectionName: selectionName,\n    selected: selectionKey === l.key || isSet(selection) && dataInfo.cs.has(l.v, selection),\n    elemOverlap: selectionOverlap,\n    queries: queries,\n    qs: v.qs\n  }))), React.createElement(\"g\", null, dataInfo.sets.d.map(l => isEllipse(l.l) ? React.createElement(\"ellipse\", {\n    key: l.key,\n    rx: l.l.rx,\n    ry: l.l.ry,\n    transform: `translate(${l.l.cx},${l.l.cy})rotate(${l.l.rotation})`,\n    className: clsx(`stroke-circle-${style.id}`, style.classNames.set),\n    style: style.styles.set\n  }) : React.createElement(\"circle\", {\n    key: l.key,\n    cx: l.l.cx,\n    cy: l.l.cy,\n    r: l.l.r,\n    className: clsx(`stroke-circle-${style.id}`, style.classNames.set),\n    style: style.styles.set\n  }))));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst KMapCell =\n/*!#__PURE__*/\nReact.memo(function KMapCell(_ref22) {\n  let {\n    d,\n    i,\n    h,\n    className,\n    data,\n    style\n  } = _ref22;\n  const l = data.cs.l[i];\n  const y = data.cs.scale(d.cardinality);\n  const x = (data.cell - data.cs.bandWidth) / 2;\n  return React.createElement(\"g\", {\n    transform: `translate(${l.x}, ${l.y})`,\n    onMouseEnter: h.onMouseEnter(d, []),\n    onMouseLeave: h.onMouseLeave,\n    onClick: h.onClick(d, []),\n    onContextMenu: h.onContextMenu(d, []),\n    onMouseMove: h.onMouseMove(d, []),\n    className: className,\n    \"data-cardinality\": d.cardinality\n  }, style.tooltips && React.createElement(\"title\", null, d.name, \": \", data.sets.format(d.cardinality)), React.createElement(\"rect\", {\n    width: data.cell,\n    height: data.cell,\n    className: `fillTransparent-${style.id}`\n  }), React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    height: data.cell - y,\n    width: data.cs.bandWidth,\n    className: clsx(`fillPrimary-${style.id}`, style.classNames.bar),\n    style: mergeColor(style.styles.bar, d.color)\n  }), React.createElement(\"text\", {\n    y: y - style.barLabelOffset,\n    x: data.cell / 2,\n    style: style.styles.barLabel,\n    className: clsx(`barTextStyle-${style.id}`, style.classNames.barLabel)\n  }, data.sets.format(d.cardinality)));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction generateGridPath(cell, vCells, hCells, level) {\n  const h = cell * vCells;\n  const w = cell * hCells;\n  return [level.x.map(x => `M ${x * cell},0 l0,${h}`), level.y.map(y => `M 0,${y * cell} l${w},0`)].flat().join(' ');\n}\n\nconst KMapChart =\n/*!#__PURE__*/\nReact.memo(function KMapChart(_ref23) {\n  let {\n    data,\n    style,\n    size,\n    h\n  } = _ref23;\n  const csNameOffset = style.cs.offset === 'auto' ? data.cs.labelOffset : style.cs.offset;\n  return React.createElement(\"g\", null, React.createElement(\"g\", {\n    transform: `translate(${size.w - csNameOffset - 2}, ${size.h - data.cell - 50})`\n  }, React.createElement(Axis, {\n    scale: data.cs.scale,\n    orient: \"left\",\n    size: data.cell,\n    start: data.cs.barLabelFontSize,\n    style: style\n  }), React.createElement(\"text\", {\n    className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel),\n    style: style.styles.chartLabel,\n    transform: `translate(${-csNameOffset}, ${data.cell})rotate(-90)`\n  }, style.cs.name)), React.createElement(\"g\", null, data.sets.l.map((l, i) => {\n    const s = data.sets.v[i];\n    const name = s.name;\n    return React.createElement(\"g\", {\n      key: name,\n      onClick: h.onClick(s, []),\n      onMouseEnter: h.onMouseEnter(s, []),\n      onMouseLeave: h.onMouseLeave,\n      onContextMenu: h.onContextMenu(s, []),\n      onMouseMove: h.onMouseMove(s, []),\n      className: clsx(h.hasClick && `clickAble-${style.id}`)\n    }, l.text.map((p, i) => React.createElement(\"text\", {\n      key: i,\n      transform: `translate(${p.x},${p.y})${!l.hor ? 'rotate(-90)' : ''}`,\n      className: clsx(`setTextStyle-${style.id}`)\n    }, name)));\n  }), data.sets.l.map((l, i) => {\n    const name = data.sets.v[i].name;\n    return React.createElement(React.Fragment, {\n      key: name\n    }, l.notText.map((p, i) => React.createElement(\"text\", {\n      key: i,\n      transform: `translate(${p.x},${p.y})${!l.hor ? 'rotate(-90)' : ''}`,\n      className: clsx(`setTextStyle-${style.id}`, `not-${style.id}`)\n    }, name)));\n  })), React.createElement(\"g\", {\n    className: clsx(h.hasClick && `clickAble-${style.id}`)\n  }, data.cs.v.map((c, i) => {\n    return React.createElement(KMapCell, {\n      key: data.cs.keys[i],\n      d: c,\n      i: i,\n      h: h,\n      style: style,\n      data: data\n    });\n  })), React.createElement(\"g\", {\n    transform: `translate(${data.grid.x}, ${data.grid.y})`\n  }, data.grid.levels.map((l, i) => React.createElement(\"path\", {\n    key: i,\n    d: generateGridPath(data.cell, data.grid.vCells, data.grid.hCells, l),\n    className: `gridStyle-${style.id} gridStyle-${style.id}-${i}`\n  }))));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction KMapQueries(_ref24) {\n  let {\n    data,\n    style,\n    elemOverlap,\n    secondary,\n    tooltip,\n    suffix,\n    empty\n  } = _ref24;\n  const width = data.cs.bandWidth;\n  const offset = (data.cell - width) / 2;\n  const className = clsx(`fill${suffix}`, !tooltip && `pnone-${style.id}`, style.classNames.bar);\n  return React.createElement(\"g\", {\n    \"data-upset\": secondary ? 'cs-q' : 'cs-s'\n  }, data.cs.v.map((d, i) => {\n    const l = data.cs.l[i];\n    const key = data.cs.keys[i];\n\n    if (empty && !secondary) {\n      return React.createElement(\"rect\", {\n        key: key,\n        x: l.x + offset,\n        y: l.y + data.cell,\n        height: 0,\n        width: width,\n        className: className,\n        style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n      }, tooltip && React.createElement(\"title\", null));\n    }\n\n    const o = elemOverlap(d);\n\n    if (o === 0) {\n      return null;\n    }\n\n    const y = data.cs.scale(o);\n    const title = tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\n    return secondary ? React.createElement(\"path\", {\n      key: key,\n      transform: `translate(${l.x + offset}, ${l.y + y})`,\n      d: `M0,-1 l${width},0 l0,2 l${-width},0 L-${data.triangleSize},-${data.triangleSize} L-${data.triangleSize},${data.triangleSize} Z`,\n      className: className,\n      \"data-i\": i,\n      \"data-cardinality\": o,\n      style: mergeColor(undefined, !style.selectionColor ? d.color : undefined)\n    }, title) : React.createElement(\"rect\", {\n      key: key,\n      x: l.x + offset,\n      y: l.y + y,\n      height: data.cell - y,\n      \"data-i\": i,\n      \"data-cardinality\": o,\n      width: width,\n      className: className,\n      style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined)\n    }, title);\n  }));\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst KMapQueries$1 =\n/*!#__PURE__*/\nReact.memo(function KMapQueries$1(_ref25) {\n  let {\n    data,\n    style,\n    hasHover,\n    secondary,\n    queries\n  } = _ref25;\n  const qs = useMemo(() => queries.map(q => Object.assign(Object.assign({}, q), {\n    overlap: queryOverlap(q, 'intersection', data.toElemKey)\n  })), [queries, data.toElemKey]);\n  return React.createElement(\"g\", {\n    className: hasHover && !secondary ? `pnone-${style.id}` : undefined\n  }, qs.map((q, i) => React.createElement(KMapQueries, {\n    key: q.name,\n    data: data,\n    style: style,\n    elemOverlap: q.overlap,\n    suffix: `Q${i}-${data.id}`,\n    secondary: secondary || i > 0,\n    tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name\n  })));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nfunction KMapSelection(_ref26) {\n  let {\n    data,\n    style,\n    selection,\n    hasHover\n  } = _ref26;\n  const empty = style.emptySelection;\n  const selectionOverlap = generateSelectionOverlap(selection, data.overlapGuesser, data.toElemKey);\n  const selectionName = generateSelectionName(selection);\n  return React.createElement(\"g\", {\n    className: hasHover ? `pnone-${style.id}` : undefined\n  }, (selection || empty) && React.createElement(KMapQueries, {\n    data: data,\n    style: style,\n    empty: empty && !selection,\n    elemOverlap: selectionOverlap,\n    suffix: `Selection-${style.id}`,\n    tooltip: hasHover ? undefined : selectionName\n  }));\n}\n\nfunction ranged(count, cb) {\n  return Array(count).fill(0).map((_, i) => cb(i));\n}\n\nfunction generateLevels(numSets) {\n  // all lines and the value is the thickness\n  const lines = Array(Math.pow(2, numSets)).fill(0);\n  ranged(numSets, i => {\n    const shift = Math.pow(2, i);\n\n    for (let i = 0; i < lines.length; i += shift) {\n      lines[i]++;\n    }\n  });\n  const levels = ranged(Math.max(numSets, 1), () => []);\n  lines.forEach((l, i) => {\n    const level = Math.max(0, l - 1); // l -1 cause l is at least 1\n\n    levels[level].push(i);\n  }); // push the last index to the last level\n\n  levels[levels.length - 1].push(lines.length);\n  return levels;\n}\n\nfunction generate(sets, cs, has, options) {\n  const {\n    xBefore,\n    yBefore,\n    cell,\n    hCells,\n    vCells,\n    horizontalSets,\n    verticalSets\n  } = bounds(sets.length, options);\n  const s = setLabels(sets.length, options);\n  const shifts = generateShiftLookup(sets, hCells, vCells, has);\n  const c = cs.map(c => {\n    const [i, j] = shifts.reduceRight((acc, s) => s(c, acc), [0, 0]);\n    return {\n      x: xBefore + i * cell,\n      y: yBefore + j * cell\n    };\n  });\n  const hLevels = generateLevels(horizontalSets);\n  const vLevels = generateLevels(verticalSets);\n  return {\n    s,\n    c,\n    cell,\n    grid: {\n      x: xBefore,\n      y: yBefore,\n      hCells,\n      vCells,\n      levels: hLevels.map((l, i) => ({\n        x: l,\n        y: i < vLevels.length ? vLevels[i] : []\n      }))\n    }\n  };\n}\n\nfunction generateShiftLookup(sets, hCells, vCells, has) {\n  return sets.map((s, k) => {\n    const index = Math.floor(k / 2);\n    const hor = k % 2 === 0;\n    const numLabels = Math.pow(2, index);\n    const span = (hor ? hCells : vCells) / numLabels / 2;\n    return (cs, _ref27) => {\n      let [i, j] = _ref27;\n\n      if (has(cs, s)) {\n        return [i, j];\n      }\n\n      if (span > 1) {\n        // flip previous and shift\n        if (hor) {\n          return [span - 1 - i + span, j];\n        }\n\n        return [i, span - 1 - j + span];\n      } // shift only\n\n\n      if (hor) {\n        return [i + span, j];\n      }\n\n      return [i, j + span];\n    };\n  });\n}\n\nfunction setLabels(sets, options) {\n  const {\n    xOffset,\n    yOffset,\n    cell,\n    xBefore,\n    yBefore,\n    hCells,\n    vCells\n  } = bounds(sets, options);\n  const xAfterEnd = options.width - xOffset;\n  const yAfterEnd = options.height - yOffset;\n  return ranged(sets, k => {\n    const index = Math.floor(k / 2);\n    const hor = k % 2 === 0;\n    const numLabels = Math.pow(2, index);\n    const span = (hor ? hCells : vCells) / numLabels / 2;\n    const xPos = hor ? xBefore : yBefore;\n    const labels = [{\n      v: true,\n      x: xPos + span * cell * 0.5\n    }, {\n      v: false,\n      x: xPos + span * cell * 1.5\n    }];\n\n    for (let i = 1; i <= index; i++) {\n      // duplicate and mirror\n      const offset = span * Math.pow(2, i) * cell;\n      const l = labels.length - 1;\n      labels.push(...labels.map((li, i) => ({\n        v: labels[l - i].v,\n        x: li.x + offset\n      })));\n    }\n\n    const inAfterGroup = index % 2 === 1;\n    const withinGroupIndex = Math.floor(index / 2);\n    let yPos = 0;\n\n    if (inAfterGroup) {\n      const end = hor ? yAfterEnd : xAfterEnd;\n      yPos = end - options.labelHeight * (0.5 + withinGroupIndex);\n    } else {\n      const start = hor ? yOffset : xOffset;\n      yPos = start + options.labelHeight * (0.5 + withinGroupIndex);\n    }\n\n    if (hor) {\n      return {\n        hor: true,\n        span,\n        text: labels.filter(d => d.v).map(l => ({\n          x: l.x,\n          y: yPos\n        })),\n        notText: labels.filter(d => !d.v).map(l => ({\n          x: l.x,\n          y: yPos\n        }))\n      };\n    }\n\n    return {\n      hor: false,\n      span,\n      text: labels.filter(d => d.v).map(l => ({\n        x: yPos,\n        y: l.x\n      })),\n      notText: labels.filter(d => !d.v).map(l => ({\n        x: yPos,\n        y: l.x\n      }))\n    };\n  });\n}\n\nfunction bounds(sets, options) {\n  const horizontalSets = Math.ceil(sets / 2);\n  const verticalSets = Math.floor(sets / 2);\n  const hCells = Math.pow(2, horizontalSets);\n  const vCells = Math.pow(2, verticalSets);\n  const cell = Math.floor(Math.min((options.width - options.labelHeight * verticalSets) / hCells, (options.height - options.labelHeight * horizontalSets) / vCells));\n  const xOffset = (options.width - hCells * cell - options.labelHeight * verticalSets) / 2;\n  const yOffset = (options.height - vCells * cell - options.labelHeight * horizontalSets) / 2;\n  const xBefore = xOffset + Math.ceil(verticalSets / 2) * options.labelHeight;\n  const yBefore = yOffset + Math.ceil(horizontalSets / 2) * options.labelHeight;\n  return {\n    xOffset,\n    horizontalSets,\n    yOffset,\n    verticalSets,\n    cell,\n    xBefore,\n    yBefore,\n    hCells,\n    vCells\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveKarnaughDataDependent(sets, combinations, size, numericScale, barLabelFontSize, barPadding, setLabelFontSize, tickFontSize, toKey, toElemKey, id, combinationMaxScale) {\n  const numericScaleFactory = resolveNumericScale(numericScale);\n  const setKeys = sets.map(toKey);\n  const cs = areCombinations$1(combinations) ? combinations : generateCombinations(sets, Object.assign({\n    type: 'distinctIntersection'\n  }, combinations !== null && combinations !== void 0 ? combinations : {}));\n  const csKeys = cs.map(toKey);\n\n  const has = (v, s) => {\n    const sk = toKey(s);\n    return Array.from(v.sets).some(ss => toKey(ss) === sk);\n  };\n\n  const labelHeight = Math.ceil(setLabelFontSize * 1.2);\n  const l = generate(sets, cs, has, {\n    width: size.area.w,\n    height: size.area.h,\n    labelHeight\n  });\n  const maxCSCardinality = combinationMaxScale !== null && combinationMaxScale !== void 0 ? combinationMaxScale : cs.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\n  const scale = numericScaleFactory(maxCSCardinality, [l.cell, barLabelFontSize], {\n    orientation: 'vertical',\n    fontSizeHint: tickFontSize\n  });\n  const bandWidth = Math.round(l.cell * (1 - barPadding));\n  const triangleSize = Math.min(Math.max(2, bandWidth / 2 * barPadding), 5);\n\n  const guessLabelWidth = v => Math.floor(barLabelFontSize / 1.4 * 0.7 * scale.tickFormat()(v).length);\n\n  const largestCSLabelWidth = guessLabelWidth(maxCSCardinality);\n  return {\n    id: id ? id : generateId(),\n    grid: l.grid,\n    sets: {\n      keys: setKeys,\n      l: l.s,\n      v: sets,\n      labelHeight,\n      format: scale.tickFormat()\n    },\n    triangleSize,\n    cell: l.cell,\n    cs: {\n      keys: csKeys,\n      l: l.c,\n      v: cs,\n      barLabelFontSize,\n      has,\n      scale,\n      bandWidth,\n      labelOffset: largestCSLabelWidth + 9 + 6\n    },\n    toKey,\n    toElemKey,\n    overlapGuesser: generateOverlapFunction(cs, noGuessPossible, toKey)\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction deriveStyleDependent$1(theme, styles, classNames, combinationName, combinationNameAxisOffset, styleId, barLabelOffset, selectionColor, emptySelection, title, description, tooltips) {\n  return {\n    theme,\n    styles,\n    classNames: classNames,\n    emptySelection,\n    id: styleId,\n    barLabelOffset,\n    selectionColor,\n    title,\n    description,\n    tooltips,\n    cs: {\n      name: combinationName,\n      offset: combinationNameAxisOffset\n    }\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nconst KarnaughMap =\n/*!#__PURE__*/\nReact.forwardRef(function KarnaughMap(props, ref) {\n  const p = fillKarnaughMapDefaults(props);\n  const {\n    queries = [],\n    fontSizes,\n    selection = null\n  } = p; // generate a \"random\" but attribute stable id to avoid styling conflicts\n\n  const styleId = useMemo(() => p.id ? p.id : generateId([p.fontFamily, fontSizes.axisTick, fontSizes.barLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.color, p.hasSelectionColor, p.strokeColor, p.selectionColor, p.opacity, p.hasSelectionOpacity]), [p.id, p.fontFamily, fontSizes.axisTick, fontSizes.barLabel, fontSizes.legend, fontSizes.setLabel, fontSizes.title, fontSizes.exportLabel, fontSizes.description, p.textColor, p.color, p.hasSelectionColor, p.strokeColor, p.selectionColor, p.opacity, p.hasSelectionOpacity]);\n  const style = useMemo(() => deriveStyleDependent$1(p.theme, p.styles, p.classNames, p.combinationName, p.combinationNameAxisOffset, styleId, p.barLabelOffset, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips), [p.theme, p.styles, p.classNames, p.combinationName, p.combinationNameAxisOffset, styleId, p.barLabelOffset, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips]);\n  const size = useMemo(() => deriveVennSizeDependent(p.width, p.height, p.padding, p.id), [p.width, p.height, p.padding, p.id]);\n  const data = useMemo(() => deriveKarnaughDataDependent(p.sets, p.combinations, size, p.numericScale, p.barLabelOffset + parseFontSize(fontSizes.barLabel), p.barPadding, parseFontSize(fontSizes.setLabel), parseFontSize(fontSizes.axisTick), p.toKey, p.toElemKey, p.id, p.combinationMaxScale), [p.sets, p.combinations, size, p.numericScale, p.barLabelOffset, fontSizes.barLabel, p.barPadding, fontSizes.axisTick, fontSizes.setLabel, p.toKey, p.toElemKey, p.id, p.combinationMaxScale]);\n  const h = useHandler(p);\n  const selectionName = generateSelectionName(selection);\n  const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\n  const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .axisTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.axisTick)}\n    text-anchor: end;\n  }\n  .barTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: middle;\n  }\n  .setTextStyle-${style.id} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n  }\n\n  .not-${style.id} {\n    text-decoration: overline;\n  }\n\n  .axisLine-${styleId} {\n    fill: none;\n    stroke: ${p.textColor};\n  }\n\n  .gridStyle-${style.id} {\n    fill: none;\n    stroke: ${p.strokeColor};\n    stroke-linecap: round;\n  }\n  .gridStyle-${style.id}-1 {\n    stroke-width: 2;\n  }\n  .gridStyle-${style.id}-2 {\n    stroke-width: 3;\n  }\n\n  ${rulesHelper.fill}\n  ${rulesHelper.export}\n\n  ${queries.map((q, i) => `.fillQ${i}-${data.id} {\n    fill: ${q.color};\n  }`).join('\\n')}\n  `;\n  const exportChart = useExportChart(data, p, 'kmap');\n  const maxWidth = data.sets.l.reduce((acc, d) => Math.min(acc, d.text[0].x - data.sets.labelHeight), size.area.w);\n  return React.createElement(SVGWrapper, {\n    rules: rules,\n    style: style,\n    size: size,\n    p: p,\n    data: data,\n    tRef: ref,\n    selectionName: selectionName,\n    h: h,\n    exportChart: exportChart\n  }, React.createElement(UpSetTitle, {\n    style: style,\n    width: maxWidth\n  }), React.createElement(KMapChart, {\n    style: style,\n    data: data,\n    h: h,\n    size: size\n  }), React.createElement(KMapSelection, {\n    style: style,\n    data: data,\n    hasHover: h.hasHover,\n    selection: selection\n  }), React.createElement(KMapQueries$1, {\n    style: style,\n    data: data,\n    hasHover: h.hasHover,\n    queries: queries,\n    secondary: h.hasHover || selection != null\n  }));\n});\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst defaults = {\n  background: '#F4F4F4',\n  color: '#A6A8AB',\n  secondaryColor: '#E1E2E3'\n};\n\nfunction prepare(props) {\n  var _a, _b, _c, _d;\n\n  const color = (_a = props.color) !== null && _a !== void 0 ? _a : defaults.color;\n  const secondary = (_b = props.secondaryColor) !== null && _b !== void 0 ? _b : defaults.secondaryColor;\n  const rest = Object.assign({}, props);\n  const background = (_c = props.background) !== null && _c !== void 0 ? _c : defaults.background;\n  delete rest.color;\n  delete rest.secondaryColor;\n  delete rest.background;\n\n  if (background) {\n    rest.style = Object.assign({\n      background\n    }, (_d = rest.style) !== null && _d !== void 0 ? _d : {});\n  }\n\n  return {\n    color,\n    secondary,\n    rest\n  };\n}\n/**\r\n * UpSetJS Skeleton a simple UpSetJS skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\n\n\nconst UpSetJSSkeleton =\n/*!#__PURE__*/\nReact.memo(\n/*!#__PURE__*/\nReact.forwardRef(function UpSetJSSkeleton(props, ref) {\n  const {\n    color,\n    secondary,\n    rest\n  } = prepare(props);\n  const wi = 20;\n  const padding = 10;\n  const sWidth = 75;\n  const sY = 110;\n  const cHeight = 100;\n  const csX = 85;\n  const cOffsets = [10, 20, 35, 60, 65, 80, 90];\n  const sOffsets = [50, 30, 15];\n  return React.createElement(\"svg\", Object.assign({\n    viewBox: \"0 0 300 200\",\n    ref: ref\n  }, rest), cOffsets.map((offset, i) => React.createElement(\"rect\", {\n    key: i,\n    x: csX + i * (wi + padding),\n    y: offset,\n    width: wi,\n    height: cHeight - offset,\n    fill: color\n  })), sOffsets.map((offset, i) => React.createElement(\"rect\", {\n    key: i,\n    x: offset,\n    y: sY + i * (wi + padding),\n    width: sWidth - offset,\n    height: wi,\n    fill: color\n  })), cOffsets.map((_, i) => sOffsets.map((_, j) => {\n    const filled = j === 2 - i || i === 3 && j > 0 || i === 4 && j !== 1 || i === 5 && j < 2 || i === 6;\n    return React.createElement(\"circle\", {\n      key: `${i}x${j}`,\n      cx: csX + i * (wi + padding) + wi / 2,\n      cy: sY + j * (wi + padding) + wi / 2,\n      r: wi / 2,\n      fill: filled ? color : secondary\n    });\n  })), React.createElement(\"rect\", {\n    x: \"182\",\n    y: \"150\",\n    width: \"6\",\n    height: \"30\",\n    fill: color\n  }), React.createElement(\"rect\", {\n    x: \"212\",\n    y: \"120\",\n    width: \"6\",\n    height: \"60\",\n    fill: color\n  }), React.createElement(\"rect\", {\n    x: \"242\",\n    y: \"120\",\n    width: \"6\",\n    height: \"30\",\n    fill: color\n  }), React.createElement(\"rect\", {\n    x: \"272\",\n    y: \"120\",\n    width: \"6\",\n    height: \"60\",\n    fill: color\n  }));\n}));\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n/**\r\n * VennDiagram Skeleton a simple VennDiagram skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\n\nconst VennDiagramSkeleton =\n/*!#__PURE__*/\nReact.memo(\n/*!#__PURE__*/\nReact.forwardRef(function VennDiagramSkeleton(props, ref) {\n  const {\n    color,\n    secondary,\n    rest\n  } = prepare(props);\n  const padding = 10;\n  const l = layoutImpl(3, 300 - padding * 2, 3200 - padding * 2);\n  return React.createElement(\"svg\", Object.assign({\n    viewBox: \"0 0 300 200\",\n    ref: ref\n  }, rest), l.sets.map((set, i) => React.createElement(\"circle\", {\n    key: i,\n    cx: set.cx,\n    cy: set.cy + padding,\n    r: set.r,\n    fill: secondary\n  })), l.sets.map((set, i) => React.createElement(\"circle\", {\n    key: i,\n    cx: set.cx,\n    cy: set.cy + padding,\n    r: set.r,\n    stroke: color,\n    fill: \"none\"\n  })));\n}));\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n/**\r\n * KV Diagram Skeleton a simple KarnaughMap skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\n\nconst KarnaughMapSkeleton =\n/*!#__PURE__*/\nReact.memo(\n/*!#__PURE__*/\nReact.forwardRef(function KarnaughMapSkeleton(props, ref) {\n  const {\n    rest,\n    color,\n    secondary\n  } = prepare(props); // const padding = 10;\n\n  const {\n    xBefore,\n    yBefore,\n    cell,\n    hCells,\n    vCells\n  } = bounds(2, {\n    width: 270,\n    height: 170,\n    labelHeight: 20\n  });\n  const gw = hCells * cell;\n  const gh = vCells * cell;\n  const v1 = 0.9;\n  const v2 = 0.5;\n  const v3 = 0.26;\n  const v4 = 0.75;\n  return React.createElement(\"svg\", Object.assign({\n    viewBox: \"0 0 300 200\",\n    ref: ref,\n    fontFamily: \"sans-serif\"\n  }, rest), React.createElement(\"g\", {\n    transform: `translate(${xBefore + 10},${yBefore + 10})`\n  }, React.createElement(\"text\", {\n    x: cell * 0.5,\n    y: -3,\n    fill: color,\n    textAnchor: \"middle\"\n  }, \"A\"), React.createElement(\"text\", {\n    x: cell * 1.5,\n    y: -3,\n    fill: color,\n    textAnchor: \"middle\",\n    style: {\n      textDecoration: 'overline'\n    }\n  }, \"A\"), React.createElement(\"text\", {\n    x: -3,\n    y: cell * 0.5,\n    fill: color,\n    textAnchor: \"end\",\n    dominantBaseline: \"central\"\n  }, \"B\"), React.createElement(\"text\", {\n    x: -3,\n    y: cell * 1.5,\n    fill: color,\n    textAnchor: \"end\",\n    dominantBaseline: \"central\",\n    style: {\n      textDecoration: 'overline'\n    }\n  }, \"B\"), React.createElement(\"rect\", {\n    x: cell * 0.1,\n    y: cell * (1 - v1),\n    height: cell * v1,\n    width: cell * 0.8,\n    fill: secondary\n  }), React.createElement(\"rect\", {\n    x: cell * 1.1,\n    y: cell * (1 - v2),\n    height: cell * v2,\n    width: cell * 0.8,\n    fill: secondary\n  }), React.createElement(\"rect\", {\n    x: cell * 0.1,\n    y: cell * (1 - v3 + 1),\n    height: cell * v3,\n    width: cell * 0.8,\n    fill: secondary\n  }), React.createElement(\"rect\", {\n    x: cell * 1.1,\n    y: cell * (1 - v4 + 1),\n    height: cell * v4,\n    width: cell * 0.8,\n    fill: secondary\n  }), React.createElement(\"path\", {\n    d: `M0,0 l${gw},0 l0,${gh} l${-gw},0 l0,${-gh} M${gw / 2},0 l0,${gh} M0,${gh / 2} l${gw},0`,\n    fill: \"none\",\n    stroke: color\n  })));\n}));\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\nconst DEG2RAD = 1 / 180 * Math.PI;\n\nfunction pointAtCircle(cx, cy, radius, angle) {\n  return {\n    x: cx + Math.cos(angle * DEG2RAD) * radius,\n    y: cy + Math.sin(angle * DEG2RAD) * radius\n  };\n}\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction center(circles) {\n  const sumX = circles.reduce((acc, a) => acc + a.x, 0);\n  const sumY = circles.reduce((acc, a) => acc + a.y, 0);\n  return {\n    x: sumX / circles.length,\n    y: sumY / circles.length\n  };\n}\n\nfunction angleAtCircle(p, c) {\n  const x = p.x - c.x;\n  const y = p.y - c.y;\n  return Math.atan2(y, x) / DEG2RAD;\n}\n\nfunction createVennJSAdapter(layout, options) {\n  return {\n    maxSets: Infinity,\n\n    compute(sets, combinations, width, height) {\n      const overlaps = combinations.map(c => ({\n        sets: Array.from(c.sets).map(s => s.name),\n        size: c.cardinality\n      }));\n      const r = layout(overlaps, Object.assign({}, {\n        width,\n        height,\n        distinct: true\n      }, options !== null && options !== void 0 ? options : {}));\n      const singleSets = r.filter(d => d.data.sets.length === 1);\n      const setNames = new Map(sets.map((d, i) => [d.name, i]));\n      const setCircles = singleSets.map(d => d.circles[0]);\n      const eulerCenter = center(setCircles);\n\n      const asArc = a => ({\n        x2: a.p1.x,\n        y2: a.p1.y,\n        cx: a.circle.x,\n        cy: a.circle.y,\n        sweep: true,\n        large: a.width > a.circle.radius,\n        ref: setCircles.findIndex(d => Math.abs(d.x - a.circle.x) < 0.05 && Math.abs(d.y - a.circle.y) < 0.05),\n        mode: 'i'\n      });\n\n      return {\n        sets: singleSets.map(d => {\n          const c = d.circles[0];\n          const angle = angleAtCircle(c, eulerCenter);\n          return {\n            cx: c.x,\n            cy: c.y,\n            r: c.radius,\n            align: angle > 90 ? 'end' : 'start',\n            verticalAlign: 'bottom',\n            text: pointAtCircle(c.x, c.y, c.radius * 1.1, angle)\n          };\n        }),\n        intersections: r.map(d => {\n          const arcs = d.arcs;\n          const text = {\n            x: d.text.x,\n            y: d.text.y\n          };\n\n          if (arcs.length === 0) {\n            return {\n              sets: d.data.sets.map(s => setNames.get(s)),\n              text,\n              x1: 0,\n              y1: 0,\n              arcs: []\n            };\n          }\n\n          if (arcs.length === 1) {\n            const c = d.arcs[0].circle;\n            return {\n              sets: d.data.sets.map(s => setNames.get(s)),\n              text,\n              x1: d.arcs[0].p2.x,\n              y1: c.y - c.radius,\n              arcs: [asArc(d.arcs[0]), Object.assign(asArc(d.arcs[0]), {\n                y2: c.y - c.radius\n              })],\n              path: d.distinctPath || d.path\n            };\n          }\n\n          return {\n            sets: d.data.sets.map(s => setNames.get(s)),\n            text,\n            x1: d.arcs[0].p2.x,\n            y1: d.arcs[0].p2.y,\n            arcs: d.arcs.map(e => asArc(e)),\n            path: d.distinctPath || d.path\n          };\n        })\n      };\n    }\n\n  };\n}\n/**\r\n * @upsetjs/bundle\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\n\n\nfunction widthRatios(value) {\n  return value == null || Array.isArray(value) && value.length >= 2 && value.every(v => typeof v === 'number');\n}\n\nfunction heightRatios(value) {\n  return value == null || Array.isArray(value) && value.length >= 1 && value.every(v => typeof v === 'number');\n}\n\nfunction setLabelAlignment(value) {\n  return value == null || value === 'left' || value === 'center' || value === 'right';\n}\n\nfunction sets$6(value) {\n  return Array.isArray(value) && value.every(isSet);\n}\n\nfunction combinations(value) {\n  return value == null || Array.isArray(value) && value.every(isSetCombination) || isGenerateSetCombinationOptions(value);\n}\n\nfunction selection(value) {\n  return value == null || Array.isArray(value) || isSetLike$1(value);\n}\n\nfunction onHover(value) {\n  return value == null || typeof value === 'function';\n}\n\nfunction onClick(value) {\n  return value == null || typeof value === 'function';\n}\n\nfunction onContextMenu(value) {\n  return value == null || typeof value === 'function';\n}\n\nfunction onMouseMove(value) {\n  return value == null || typeof value === 'function';\n}\n\nfunction queries(value) {\n  return !value || Array.isArray(value) && value.every(isUpSetQuery);\n}\n\nfunction stringOrFalse(value) {\n  return value == null || typeof value === 'string' || value === false;\n}\n\nfunction theme(value) {\n  return value == null || value === 'light' || value === 'dark' || value === 'vega';\n}\n\nfunction classNames(value) {\n  return value == null || Object.keys(value).every(k => MULTI_STYLE_KEYS.includes(k) && typeof value[k] === 'string');\n}\n\nfunction fontSizes(value) {\n  return value == null || Object.keys(value).every(k => FONT_SIZES_KEYS.includes(k) && typeof value[k] === 'string');\n}\n\nfunction numericScale(value) {\n  return value == null || value === 'linear' || value === 'log' || typeof value === 'function';\n}\n\nfunction bandScale(value) {\n  return value == null || value === 'band' || typeof value === 'function';\n}\n\nfunction axisOffset(value) {\n  return value == null || value === 'auto' || typeof value === 'number';\n}\n\nfunction style(value) {\n  return value == null || typeof value === 'object';\n}\n\nfunction styles(value) {\n  return value == null || Object.keys(value).every(k => MULTI_STYLE_KEYS.includes(k));\n}\n\nfunction exportButtons(value) {\n  return value == null || typeof value === 'boolean' || Object.keys(value).every(k => EXPORT_OPTION_KEYS.includes(k) && typeof value[k] === 'boolean');\n}\n\nvar validators = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  widthRatios: widthRatios,\n  heightRatios: heightRatios,\n  setLabelAlignment: setLabelAlignment,\n  sets: sets$6,\n  combinations: combinations,\n  selection: selection,\n  onHover: onHover,\n  onClick: onClick,\n  onContextMenu: onContextMenu,\n  onMouseMove: onMouseMove,\n  queries: queries,\n  stringOrFalse: stringOrFalse,\n  theme: theme,\n  classNames: classNames,\n  fontSizes: fontSizes,\n  numericScale: numericScale,\n  bandScale: bandScale,\n  axisOffset: axisOffset,\n  style: style,\n  styles: styles,\n  exportButtons: exportButtons\n});\nexport default UpSetJS;\nexport { KarnaughMap, KarnaughMapSkeleton, UpSetJS, UpSetJSSkeleton, VennDiagram, VennDiagramSkeleton, createVennJSAdapter, downloadUrl, exportSVG, exportVegaLite, fillDefaults, fillDefaultsG, fillKarnaughMapDefaults, fillKarnaughMapDefaultsG, fillVennDiagramDefaults, fillVennDiagramDefaultsG, getDefaultTheme, isEllipse, validators as propValidators, toUpSetJSDump, toUpSetJSStaticDump };","map":{"version":3,"sources":["../src/exporter/utils.ts","../src/defaults.ts","../src/venn/layout/interfaces.ts","../src/venn/layout/vennDiagramLayout.ts","../src/fillDefaults.ts","../src/exporter/exportSVG.ts","../src/exporter/exportVegaLite.ts","../src/dump/index.ts","../src/exporter/exportDump.ts","../src/utils.ts","../src/derive/deriveDataDependent.ts","../src/derive/deriveSizeDependent.ts","../src/derive/deriveStyleDependent.ts","../src/components/ExportButtons.tsx","../src/components/QueryLegend.tsx","../src/components/Axis.tsx","../src/components/UpSetTitle.tsx","../src/components/utils.ts","../src/components/UpSetAxis.tsx","../src/components/UpSetDot.tsx","../src/components/CombinationChart.tsx","../src/components/SetChart.tsx","../src/components/UpSetChart.tsx","../src/components/CombinationSelectionChart.tsx","../src/components/SetSelectionChart.tsx","../src/components/UpSetQueries.tsx","../src/components/LabelsSelection.tsx","../src/components/UpSetSelectionChart.tsx","../src/components/UpSetSelection.tsx","../src/rules.ts","../src/hooks/useHandler.ts","../src/UpSetJS.tsx","../src/venn/components/SVGWrapper.tsx","../src/venn/layout/generate.ts","../src/venn/components/SelectionPattern.tsx","../src/venn/components/VennArcSliceSelection.tsx","../src/venn/derive/deriveVennDataDependent.ts","../src/venn/derive/deriveVennSizeDependent.ts","../src/venn/derive/deriveVennStyleDependent.ts","../src/venn/hooks/index.ts","../src/venn/VennDiagram.tsx","../src/kmap/components/KMapCell.tsx","../src/kmap/components/KMapChart.tsx","../src/kmap/components/KMapSelectionChart.tsx","../src/kmap/components/KMapQueries.tsx","../src/kmap/components/KMapSelection.tsx","../src/kmap/layout/index.ts","../src/kmap/derive/deriveDataDependent.ts","../src/kmap/derive/deriveStyleDependent.ts","../src/kmap/KarnaughMap.tsx","../src/UpSetJSSkeleton.tsx","../src/venn/VennDiagramSkeleton.tsx","../src/kmap/KarnaughMapSkeleton.tsx","../src/venn/layout/math.ts","../src/venn/layout/vennjsAdapter.ts","../src/validators.ts"],"names":["isSetLike","bandScale","areCombinations","EMPTY_ARRAY","KMapQueries","KMapSelectionChart","deriveStyleDependent","deriveKarnaughStyleDependent","sets"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DP;;;;;;;SA0EgB,S,CAAU,C,EAAqB;AAC7C,SAAO,OAAQ,CAAkB,CAAC,EAA3B,KAAkC,QAAzC;AACF;AC5EA;;;;;;;;AAsBO,MAAM,iBAAiB,GAAgC;AAC5D,EAAA,OAAO,EAAE,CADmD;;AAE5D,EAAA,OAAO,CAAI,IAAJ,EAAoB,aAApB,EAAwD,KAAxD,EAAuE,MAAvE,EAAqF;AAC1F,WAAO,UAAU,CAAC,IAAI,CAAC,MAAN,EAAc,KAAd,EAAqB,MAArB,CAAjB;AACD;;AAJ2D,CAAvD;;SAOS,U,CAAW,I,EAAc,K,EAAe,M,EAAc;AACpE,QAAM,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,CAAf;AACA,QAAM,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,MAAP,GAAgB,CAAzB,EAA4B,IAA5B,CAAD,CAAhB;AACA,QAAM,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,KAAK,GAAG,CAAC,CAAC,EAAF,CAAK,KAAtB,EAA6B,MAAM,GAAG,CAAC,CAAC,EAAF,CAAK,MAA3C,CAAV;AACA,QAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAF,CAAK,CAAV,GAAc,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,EAAF,CAAK,KAAlB,IAA2B,CAAnD;AACA,QAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAF,CAAK,CAAV,GAAc,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,EAAF,CAAK,MAAnB,IAA6B,CAArD;;AACA,QAAM,EAAE,GAAI,CAAD,IAAe,CAAC,GAAG,CAAC,GAAG,CAAlC;;AACA,QAAM,EAAE,GAAI,CAAD,IAAe,CAAC,GAAG,CAAC,GAAG,CAAlC;;AAEA,SAAO;AACL,IAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,GAAP,CAAY,CAAD,IACf,MAAM,CAAC,MAAP,CACE,EADF,EAEE,CAFF,EAGE;AACE,MAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH,CADR;AAEE,MAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH,CAFR;AAGE,MAAA,IAAI,EAAE;AACJ,QAAA,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAF,CAAO,CAAR,CADD;AAEJ,QAAA,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAF,CAAO,CAAR;AAFD;AAHR,KAHF,EAWE,SAAS,CAAC,CAAD,CAAT,GACI;AACE,MAAA,EAAE,EAAE,CAAC,CAAC,EAAF,GAAO,CADb;AAEE,MAAA,EAAE,EAAE,CAAC,CAAC,EAAF,GAAO;AAFb,KADJ,GAKI;AACE,MAAA,CAAC,EAAE,CAAC,CAAC,CAAF,GAAM;AADX,KAhBN,CADI,CADD;AAuBL,IAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,GAAhB,CAAqB,CAAD,KAAQ;AACzC,MAAA,IAAI,EAAE;AACJ,QAAA,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAF,CAAO,CAAR,CADD;AAEJ,QAAA,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAF,CAAO,CAAR;AAFD,OADmC;AAKzC,MAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH,CALmC;AAMzC,MAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH,CANmC;AAOzC,MAAA,IAAI,EAAE,CAAC,CAAC,IAPiC;AAQzC,MAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,GAAP,CAAY,CAAD,IACf,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,CAAlB,EAAqB;AACnB,QAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH,CADa;AAEnB,QAAA,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAH;AAFa,OAArB,CADI;AARmC,KAAR,CAApB;AAvBV,GAAP;AAuCF;AC7EA;;;;;;;;AAuCA,MAAM,UAAU,GAAwE;AACtF,EAAA,cAAc,EAAE,SADsE;AAEtF,EAAA,KAAK,EAAE,SAF+E;AAGtF,EAAA,iBAAiB,EAAE,EAHmE;AAItF,EAAA,OAAO,EAAE,CAJ6E;AAKtF,EAAA,mBAAmB,EAAE,CAAC,CALgE;AAMtF,EAAA,SAAS,EAAE,SAN2E;AAOtF,EAAA,cAAc,EAAE,SAPsE;AAQtF,EAAA,cAAc,EAAE,SARsE;AAStF,EAAA,0BAA0B,EAAE,kBAT0D;AAUtF,EAAA,cAAc,EAAE,SAVsE;AAWtF,EAAA,WAAW,EAAE,SAXyE;AAYtF,EAAA,eAAe,EAAE,SAZqE;AAatF,EAAA,MAAM,EAAE;AAb8E,CAAxF;AAgBA,MAAM,SAAS,GAAwE;AACrF,EAAA,cAAc,EAAE,SADqE;AAErF,EAAA,KAAK,EAAE,SAF8E;AAGrF,EAAA,iBAAiB,EAAE,EAHkE;AAIrF,EAAA,OAAO,EAAE,CAJ4E;AAKrF,EAAA,mBAAmB,EAAE,CAAC,CAL+D;AAMrF,EAAA,SAAS,EAAE,SAN0E;AAOrF,EAAA,cAAc,EAAE,SAPqE;AAQrF,EAAA,cAAc,EAAE,SARqE;AASrF,EAAA,0BAA0B,EAAE,0BATyD;AAUrF,EAAA,cAAc,EAAE,SAVqE;AAWrF,EAAA,WAAW,EAAE,SAXwE;AAYrF,EAAA,eAAe,EAAE,SAZoE;AAarF,EAAA,MAAM,EAAE;AAb6E,CAAvF;AAgBA,MAAM,SAAS,GAAkF;AAC/F,EAAA,cAAc,EAAE,SAD+E;AAE/F,EAAA,KAAK,EAAE,SAFwF;AAG/F,EAAA,iBAAiB,EAAE,SAH4E;AAI/F,EAAA,OAAO,EAAE,CAJsF;AAK/F,EAAA,mBAAmB,EAAE,CAAC,CALyE;AAM/F,EAAA,SAAS,EAAE,SANoF;AAO/F,EAAA,cAAc,EAAE,SAP+E;AAQ/F,EAAA,cAAc,EAAE,SAR+E;AAS/F,EAAA,0BAA0B,EAAE,kBATmE;AAU/F,EAAA,cAAc,EAAE,SAV+E;AAW/F,EAAA,WAAW,EAAE,SAXkF;AAY/F,EAAA,eAAe,EAAE,SAZ8E;AAa/F,EAAA,MAAM,EAAE;AAbuF,CAAjG;;SAgBgB,e,CACd,K,EAAmB;AAEnB,SAAO,KAAK,KAAK,MAAV,GAAmB,SAAnB,GAA+B,KAAK,KAAK,MAAV,GAAmB,SAAnB,GAA+B,UAArE;AACD;;AACD,SAAS,eAAT,CACE,YADF,EACoE;AAElE,SAAO,KAAK,CAAC,OAAN,CAAc,YAAd,CAAP;AACD;;AAED,SAAS,WAAT,CACE,IADF,EAEE,KAFF,EAGa;AAAA,MAAX,MAAW,uEAAF,EAAE;AAEX,QAAM,KAAK,GAAG,eAAe,CAAC,KAAK,CAAC,KAAP,CAA7B;AACA,SAAO,MAAM,CAAC,MAAP,CACL,IADK,EAEL;AACE,IAAA,WAAW,EAAE,KAAK,CAAC,OAAN,IAAiB,IAAjB,IAAyB,KAAK,CAAC,OAAN,CAAc,MAAd,GAAuB,CAD/D;AAEE,IAAA,KAAK,EAAE,OAFT;AAGE,IAAA,OAAO,EAAE,EAHX;AAIE,IAAA,SAAS,EAAE,IAJb;AAKE,IAAA,KAAK,EAAE,EALT;AAME,IAAA,WAAW,EAAE,EANf;AAOE,IAAA,UAAU,EAAE,YAPd;AAQE,IAAA,OAAO,EAAE,WARX;AASE,IAAA,aAAa,EAAE,IATjB;AAUE,IAAA,SAAS,EAAE,EAVb;AAWE,IAAA,SAAS,EAAE,kBAXb;AAYE,IAAA,UAAU,EAAE,YAZd;AAaE,IAAA,KAAK,EAAE,YAbT;AAcE,IAAA,MAAM,EAAE,YAdV;AAeE,IAAA,KAfF;AAgBE,IAAA,QAAQ,EAAE;AAhBZ,GAFK,EAoBL,KApBK,EAqBL,KArBK,EAsBL,MAtBK,EAuBL,KAAK,CAAC,SAAN,GACI;AACE,IAAA,SAAS,EAAE,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,kBAAlB,EAAsC,KAAK,CAAC,SAA5C;AADb,GADJ,GAII,YA3BC,CAAP;AA6BD;AAED;;;;;SAGgB,a,CAA8B,K,EAA8B;AAC1E,SAAO,WAAW,CAChB;AACE,IAAA,UAAU,EAAE,GADd;AAEE,IAAA,UAAU,EAAE,GAFd;AAGE,IAAA,YAAY,EAAE,oBAHhB;AAIE,IAAA,eAAe,EACb,KAAK,CAAC,YAAN,IAAsB,IAAtB,IAA8B,CAAC,eAAe,CAAC,KAAK,CAAC,YAAP,CAA9C,IAAsE,KAAK,CAAC,YAAN,CAAmB,IAAnB,KAA4B,OAAlG,GACI,YADJ,GAEI,mBAPR;AAQE,IAAA,cAAc,EAAE,CARlB;AASE,IAAA,iBAAiB,EAAE,MATrB;AAUE,IAAA,yBAAyB,EAAE,MAV7B;AAWE,IAAA,OAAO,EAAE,UAXX;AAYE,IAAA,WAAW,EAAE,mBAZf;AAaE,IAAA,YAAY,EAAE,oBAbhB;AAcE,IAAA,iBAAiB,EAAE,QAdrB;AAeE,IAAA,YAAY,EAAE,QAfhB;AAgBE,IAAA,SAAS,EAAE,MAhBb;AAiBE,IAAA,iBAAiB,EAAE,YAjBrB;AAkBE,IAAA,SAAS,EAAE,WAlBb;AAmBE,IAAA,iBAAiB,EAAE,WAnBrB;AAoBE,IAAA,eAAe,EAAE,CApBnB;AAqBE,IAAA,uBAAuB,EAAE,CArB3B;AAsBE,IAAA,cAAc,EAAE;AAtBlB,GADgB,EAyBhB,KAzBgB,CAAlB;AA2BD;;AAED,SAAS,WAAT,CAAqB,CAArB,EAA8B;AAC5B,SAAO,CAAC,CAAC,cAAF,EAAP;AACD;;SAEe,Y,CAAsB,K,EAAoB;AACxD,SAAO,aAAa,CAA2D,KAA3D,CAApB;AACD;AAED;;;;;SAGgB,wB,CACd,K,EAAoC;AAEpC,SAAO,WAAW,CAChB;AACE,IAAA,WADF;AAEE,IAAA,MAAM,EAAE;AAFV,GADgB,EAKhB,KALgB,EAMhB;AACE,IAAA,aAAa,EACX,KAAK,CAAC,aAAN,KAAwB,KAAxB,GACI,KADJ,GAEI,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,CAAC,aAAN,KAAwB,IAAxB,GAA+B,EAA/B,GAAoC,KAAK,CAAC,aAA5D,EAA2E;AAAE,MAAA,IAAI,EAAE;AAAR,KAA3E;AAJR,GANgB,CAAlB;AAaD;;SAEe,uB,CAAiC,K,EAA0B;AACzE,SAAO,wBAAwB,CAA2D,KAA3D,CAA/B;AACD;AAED;;;;;SAGgB,wB,CACd,K,EAAoC;AAEpC,SAAO,WAAW,CAChB;AACE,IAAA,YAAY,EAAE,QADhB;AAEE,IAAA,UAAU,EAAE,GAFd;AAGE,IAAA,cAAc,EAAE,CAHlB;AAIE,IAAA,eAAe,EAAE,mBAJnB;AAKE,IAAA,yBAAyB,EAAE;AAL7B,GADgB,EAQhB,KARgB,EAShB;AACE,IAAA,aAAa,EACX,KAAK,CAAC,aAAN,KAAwB,KAAxB,GACI,KADJ,GAEI,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,CAAC,aAAN,KAAwB,IAAxB,GAA+B,EAA/B,GAAoC,KAAK,CAAC,aAA5D,EAA2E;AAAE,MAAA,IAAI,EAAE;AAAR,KAA3E;AAJR,GATgB,CAAlB;AAgBD;;SAEe,uB,CAAiC,K,EAA0B;AACzE,SAAO,wBAAwB,CAA2D,KAA3D,CAA/B;AACF;ACnOA;;;;;;;;SAWgB,S,CAAU,I,EAAqB,Q,EAAiB;AAC9D,QAAM,KAAK,GAAG,IAAI,CAAC,SAAL,CAAe,IAAf,CAAd;AACA,EAAA,KAAK,CAAC,KAAN,CAAY,eAAZ,GAA8B,eAAe,CAAC,IAAI,CAAC,OAAL,CAAa,KAAd,CAAf,CAAmD,eAAjF;;AAEA,MAAI,QAAJ,EAAc;AACZ,IAAA,KAAK,CAAC,IAAN,CAAW,KAAK,CAAC,gBAAN,CAAuB,QAAvB,CAAX,EAA6C,OAA7C,CAAsD,CAAD,IAAO,CAAC,CAAC,MAAF,EAA5D;AACD;;AACD,SAAO,IAAI,aAAJ,GAAoB,iBAApB,CAAsC,KAAtC,CAAP;AACD;AAED;;;;;;;SAKgB,S,CACd,I,QAC8F;AAAA,MAA9F;AAAE,IAAA,IAAI,GAAG,KAAT;AAAgB,IAAA,KAAhB;AAAuB,IAAA;AAAvB,GAA8F;AAE9F,QAAM,CAAC,GAAG,IAAI,IAAJ,CAAS,CAAC,SAAS,CAAC,IAAD,EAAO,QAAP,CAAV,CAAT,EAAsC;AAC9C,IAAA,IAAI,EAAE;AADwC,GAAtC,CAAV;AAGA,QAAM,OAAO,GAAG,cAAc,CAAC,IAAD,CAA9B;AAEA,QAAM,UAAU,GAAG,KAAK,KAAA,IAAL,IAAA,KAAK,KAAA,KAAA,CAAL,GAAA,KAAA,GAAS,YAAY,CAAC,IAAD,EAAO,OAAP,CAAxC;AACA,QAAM,GAAG,GAAG,GAAG,CAAC,eAAJ,CAAoB,CAApB,CAAZ;;AACA,MAAI,IAAI,KAAK,KAAb,EAAoB;AAClB,IAAA,WAAW,CAAC,GAAD,EAAM,GAAG,UAAU,IAAI,IAAI,EAA3B,EAA+B,IAAI,CAAC,aAApC,CAAX;AACA,IAAA,GAAG,CAAC,eAAJ,CAAoB,GAApB;AACA,WAAO,OAAO,CAAC,OAAR,EAAP;AACD;;AACD,SAAO,KAAK,CAAC,GAAD,EAAM,IAAN,CAAL,CAAiB,IAAjB,CAAuB,IAAD,IAAK;AAChC,IAAA,WAAW,CAAC,IAAD,EAAO,GAAG,UAAU,IAAI,IAAI,EAA5B,EAAgC,IAAI,CAAC,aAArC,CAAX;AACA,IAAA,GAAG,CAAC,eAAJ,CAAoB,GAApB;AACD,GAHM,CAAP;AAID;;AAED,SAAS,KAAT,CAAe,GAAf,EAA4B,IAA5B,EAA6C;AAC3C,QAAM,MAAM,GAAG,IAAI,CAAC,aAAL,CAAoB,aAApB,CAAkC,QAAlC,CAAf;AACA,QAAM,EAAE,GAAG,IAAI,CAAC,qBAAL,EAAX;AACA,EAAA,MAAM,CAAC,KAAP,GAAe,EAAE,CAAC,KAAlB;AACA,EAAA,MAAM,CAAC,MAAP,GAAgB,EAAE,CAAC,MAAnB;AACA,QAAM,GAAG,GAAG,MAAM,CAAC,UAAP,CAAkB,IAAlB,CAAZ;AACA,QAAM,GAAG,GAAG,IAAI,KAAJ,CAAU,MAAM,CAAC,KAAjB,EAAwB,MAAM,CAAC,MAA/B,CAAZ;AAEA,SAAO,IAAI,OAAJ,CAAqB,OAAD,IAAQ;AACjC,IAAA,GAAG,CAAC,MAAJ,GAAa,MAAA;AACX,MAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,EAAmB,CAAnB,EAAsB,CAAtB;AACA,YAAM,GAAG,GAAG,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAAZ;AACA,MAAA,OAAO,CAAC,GAAD,CAAP;AACD,KAJD;;AAKA,IAAA,GAAG,CAAC,GAAJ,GAAU,GAAV;AACD,GAPM,CAAP;AAQD;AAED;;;;;;;;SAMgB,W,CAAY,G,EAAa,K,EAAe,G,EAAa;AACnE,QAAM,CAAC,GAAG,GAAG,CAAC,aAAJ,CAAkB,GAAlB,CAAV;AACA,EAAA,CAAC,CAAC,IAAF,GAAS,GAAT;AACA,EAAA,CAAC,CAAC,KAAF,CAAQ,QAAR,GAAmB,UAAnB;AACA,EAAA,CAAC,CAAC,KAAF,CAAQ,IAAR,GAAe,UAAf;AACA,EAAA,CAAC,CAAC,KAAF,CAAQ,GAAR,GAAc,UAAd;AACA,EAAA,CAAC,CAAC,QAAF,GAAa,KAAb;AACA,EAAA,GAAG,CAAC,IAAJ,CAAS,WAAT,CAAqB,CAArB;AACA,EAAA,CAAC,CAAC,KAAF;AACA,EAAA,CAAC,CAAC,MAAF;AACF;AClFA;;;;;;;;SAYgB,c,CAAe,G,EAAoB,K,EAAc;;;AAC/D,QAAM,YAAY,GAAA,CAAA,EAAA,GACf,GAAG,CAAC,gBAAJ,KAAoB,CAAA,EAAA,GAAA,CAAA,EAAA,GAAI,GAAG,CAAC,aAAR,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,WAAvB,MAAkC,IAAlC,IAAkC,EAAA,KAAA,KAAA,CAAlC,GAAkC,KAAA,CAAlC,GAAkC,EAAA,CAAE,gBAAxD,CADe,MAC0D,IAD1D,IAC0D,EAAA,KAAA,KAAA,CAD1D,GAC0D,EAD1D,GAC8D,MAAM,CAAC,gBADvF;AAEA,QAAM,OAAO,GAAG,cAAc,CAAC,GAAD,CAA9B;AAEA,QAAM,UAAU,GAAG,KAAK,KAAA,IAAL,IAAA,KAAK,KAAA,KAAA,CAAL,GAAA,KAAA,GAAS,YAAY,CAAC,GAAD,EAAM,OAAN,CAAxC;AAEA,QAAM,IAAI,GAAgE,KAAK,CAAC,IAAN,CACxE,GAAG,CAAC,gBAAJ,CAAkC,sCAAlC,CADwE,EAGvE,GAHuE,CAGlE,GAAD,IAAI;AACP,WAAO;AACL,MAAA,IAAI,EAAE,GAAG,CAAC,aAAJ,CAAkB,qBAAqB,OAAO,EAA9C,EAAmD,WADpD;AAEL,MAAA,WAAW,EAAE,MAAM,CAAC,QAAP,CAAgB,GAAG,CAAC,OAAJ,CAAY,WAA5B,EAA0C,EAA1C;AAFR,KAAP;AAID,GARuE,EASvE,OATuE,EAA1E;AAUA,QAAM,cAAc,GAAG,CAAC,MAAM,CAAC,UAAP,CAAkB,GAAG,CAAC,aAAJ,CAAkB,kBAAkB,OAAO,EAA3C,EAAgD,YAAhD,CAA6D,IAA7D,CAAlB,CAAxB;AACA,QAAM,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,gBAAgB,OAAO,EAAzC,CAAD,CAAZ,CAA4D,IAA1E;AACA,QAAM,aAAa,GAAG,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,kBAAkB,OAAO,EAA3C,CAAD,CAAZ,CAA8D,IAApF;AACA,QAAM,SAAS,GAAG,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAAD,CAAZ,CAAyC,IAA3D;AACA,QAAM,MAAM,GAAG,GAAG,CAAC,aAAJ,CAAkB,oBAAoB,OAAO,EAA7C,EAAkD,WAAjE;AACA,QAAM,OAAO,GAAG,GAAG,CAAC,aAAJ,CAAkB,oBAAoB,OAAO,EAA7C,EAAkD,WAAlE;AAEA,QAAM,YAAY,GAAgF,KAAK,CAAC,IAAN,CAChG,GAAG,CAAC,gBAAJ,CAAkC,oCAAlC,CADgG,EAEhG,GAFgG,CAE3F,GAAD,IAAI;AACR,WAAO;AACL,MAAA,IAAI,EAAE,GAAG,CAAC,aAAJ,CAAkB,0BAA0B,OAAO,EAAnD,EAAwD,WADzD;AAEL,MAAA,WAAW,EAAE,MAAM,CAAC,QAAP,CAAgB,GAAG,CAAC,OAAJ,CAAY,WAA5B,EAA0C,EAA1C,CAFR;AAGL,MAAA,IAAI,EAAE,KAAK,CAAC,IAAN,CAAW,GAAG,CAAC,gBAAJ,CAAkC,gBAAgB,OAAO,UAAzD,CAAX,EAAiF,GAAjF,CAAsF,CAAD,IAAO,CAAC,CAAC,WAA9F;AAHD,KAAP;AAKD,GARiG,CAAlG;;AAUA,QAAM,UAAU,GAAI,CAAD,IAAgB,MAAM,CAAC,UAAP,CAAkB,CAAC,CAAC,YAAF,CAAe,WAAf,EAA6B,KAA7B,CAAmC,WAAnC,EAAiD,CAAjD,CAAlB,CAAnC;;AACA,QAAM,UAAU,GAAI,CAAD,IAAgB,MAAM,CAAC,UAAP,CAAkB,CAAC,CAAC,YAAF,CAAe,WAAf,EAA6B,KAA7B,CAAmC,WAAnC,EAAiD,CAAjD,CAAlB,CAAnC;;AACA,QAAM,IAAI,GAAG,GAAG,CAAC,aAAJ,CAAkB,mBAAlB,CAAb;AACA,QAAM,OAAO,GAAG,UAAU,CAAC,IAAD,CAA1B,CArC+D,C;;AAuC/D,QAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,aAAJ,CAAkB,qBAAlB,CAAD,CAA3B,CAvC+D,C;;AAyC/D,QAAM,OAAO,GAAG,MAAM,CAAC,UAAP,CAAkB,IAAI,CAAC,aAAL,CAAmB,GAAnB,EAAyB,iBAAzB,CAA4C,QAA5C,CAAqD,CAArD,EAAyD,YAAzD,CAAsE,IAAtE,CAAlB,CAAhB,CAzC+D,C;;AA2C/D,QAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,aAAJ,CAAkB,sBAAlB,CAAD,CAA3B,CA3C+D,C;;AA6C/D,QAAM,UAAU,GAAG,MAAM,CAAC,UAAP,CAAkB,GAAG,CAAC,aAAJ,CAAkB,WAAlB,EAAgC,YAAhC,CAA6C,OAA7C,CAAlB,CAAnB;AACA,QAAM,SAAS,GAAG,MAAM,CAAC,UAAP,CAAkB,GAAG,CAAC,aAAJ,CAAkB,WAAlB,EAAgC,YAAhC,CAA6C,QAA7C,CAAlB,CAAlB;AAEA,QAAM,MAAM,GAAG,MAAM,CAAC,UAAP,CACb,GAAG,CAAC,aAAJ,CAAkB,yCAAyC,OAAO,EAAlE,EAAuE,YAAvE,CAAoF,GAApF,CADa,CAAf;AAIA,QAAM,mBAAmB,GAAG,GAAG,CAAC,aAAJ,CAAkB,wCAAlB,KAA+D,IAA3F;AACA,QAAM,QAAQ,GAAG,GAAG,CAAC,aAAJ,CAAkB,wCAAlB,KAA+D,IAAhF;AACA,QAAM,YAAY,GAAG,mBAAmB,IAAI,QAA5C;AAEA,MAAI,cAAc,GAAG,QAArB;;AACA,MAAI,YAAJ,EAAkB;;AAEhB,IAAA,KAAK,CAAC,IAAN,CACE,GAAG,CAAC,gBAAJ,CACE,oBAAoB,mBAAmB,GAAG,IAAH,GAAU,kBAAkB,qBADrE,CADF,EAIE,OAJF,CAIW,IAAD,IAAK;;AAEb,YAAM,CAAC,GAAG,IAAI,CAAC,MAAL,GAAc,MAAM,CAAC,QAAP,CAAgB,IAAI,CAAC,OAAL,CAAa,CAA7B,EAAiC,EAAjC,CAAd,GAAqD,CAA/D;AACA,MAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ,SAAR,GAAoB,MAAM,CAAC,QAAP,CAAgB,IAAI,CAAC,OAAL,CAAa,WAA7B,EAA2C,EAA3C,CAApB;AACD,KARD;AASA,IAAA,KAAK,CAAC,IAAN,CACE,GAAG,CAAC,gBAAJ,CACE,kBAAkB,mBAAmB,GAAG,IAAH,GAAU,kBAAkB,qBADnE,CADF,EAIE,OAJF,CAIW,IAAD,IAAK;AACb,YAAM,CAAC,GAAG,MAAM,CAAC,QAAP,CAAgB,IAAI,CAAC,OAAL,CAAa,CAA7B,EAAiC,EAAjC,CAAV;AACA,MAAA,YAAY,CAAC,CAAD,CAAZ,CAAgB,SAAhB,GAA4B,MAAM,CAAC,QAAP,CAAgB,IAAI,CAAC,OAAL,CAAa,WAA7B,EAA2C,EAA3C,CAA5B;AACD,KAPD;AAQA,IAAA,cAAc,GAAG,YAAY,CAC3B,GAAG,CAAC,aAAJ,CAA+B,oBAAoB,mBAAmB,GAAG,GAAH,GAAS,GAAG,sBAAlF,CAD2B,CAAZ,CAEf,IAFF;AAGD;;AACD,QAAM,sBAAsB,GAAG,MAAM,CAAC,QAAP,CAAe,CAAA,EAAA,GAAA,CAAA,EAAA,GAC5C,GAAG,CAAC,aAAJ,CAA+B,oBAA/B,CAD4C,MACQ,IADR,IACQ,EAAA,KAAA,KAAA,CADR,GACQ,KAAA,CADR,GACQ,EAAA,CAAE,OAAF,CAAU,CADlB,MACmB,IADnB,IACmB,EAAA,KAAA,KAAA,CADnB,GACmB,EADnB,GACuB,IADtC,EAE7B,EAF6B,CAA/B;AAKA,QAAM,MAAM,GACV,sBAAsB,IAAI,CAA1B,GACI;AACE,IAAA,KAAK,EAAE,QADT;AAEE,IAAA,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ;AAFT,GADJ,GAKI;AACE,IAAA,KAAK,EAAE,QADT;AAEE,IAAA,KAAK,EAAE;AAFT,GANN,CArF+D,C;;AAiG/D,SAAO;AACL,IAAA,OAAO,EAAE,iDADJ;AAEL,IAAA,KAAK,EAAE,UAFF;AAGL,IAAA,WAAW,EAAE,kBAAkB,CAAC,GAAD,EAAM,OAAN,CAH1B;AAIL,IAAA,QAAQ,EAAE;AACR,MAAA,IADQ;AAER,MAAA,YAAY,EAAE,YAAY,CACvB,GADW,CACP,CAAC,CAAD,EAAI,CAAJ,KACH,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,CAAlB,EAAqB;AACnB,QAAA,MAAM,EAAE,sBAAsB,KAAK,CAA3B,GAA+B,CAA/B,GAAmC,CADxB;AAEnB,QAAA,KAAK,EAAE,CAAC,EAAD;AAFY,OAArB,CAFU,EAOX,MAPW,CAQV,YAAY,CAAC,GAAb,CAAkB,CAAD,KAAQ;AACvB,QAAA,IAAI,EAAE,CAAC,CAAC,IADe;AAEvB,QAAA,WAAW,EAAE,CAAC,CAAC,WAFQ;;AAIvB,QAAA,MAAM,EAAE,CAJe;AAKvB,QAAA,IAAI,EAAE,CAAC,EAAD,CALiB;AAMvB,QAAA,KAAK,EAAE,IAAI,CAAC,MAAL,CAAa,CAAD,IAAO,CAAC,CAAC,CAAC,IAAF,CAAO,QAAP,CAAgB,CAAC,CAAC,IAAlB,CAApB,EAA6C,GAA7C,CAAkD,CAAD,IAAO,CAAC,CAAC,IAA1D;AANgB,OAAR,CAAjB,CARU;AAFN,KAJL;AAwBL,IAAA,OAAO,EAAE,CACP;AACE,MAAA,OAAO,EAAE,CACP;AACE,QAAA,IAAI,EAAE,KADR;AAEE,QAAA,KAAK,EAAE,QAAQ,GAAG,UAAX,GAAwB,EAFjC;AAGE,QAAA,MAAM,EAAE;AAHV,OADO,EAMP;AACE,QAAA,KAAK,EAAE,OADT;AAEE,QAAA,MAAM,EAAE,QAFV;AAGE,QAAA,IAAI,EAAE;AACJ,UAAA,IAAI,EAAE;AADF,SAHR;AAME,QAAA,SAAS,EAAE,CACT;AACE,UAAA;AADF,SADS,CANb;AAWE,QAAA,KAAK,EAAE,CACL;AACE,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,KADF;AAEJ,YAAA,OAAO,EAAE;AAFL;AADR,SADK,EAOL;AACE,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,MADF;AAEJ,YAAA,KAAK,EAAE,QAFH;AAGJ,YAAA,QAAQ,EAAE,QAHN;AAIJ,YAAA,EAAE,EAAE,CAAC;AAJD,WADR;AAOE,UAAA,QAAQ,EAAE;AACR,YAAA,IAAI,EAAE;AAAE,cAAA,KAAK,EAAE,aAAT;AAAwB,cAAA,IAAI,EAAE;AAA9B;AADE;AAPZ,SAPK,EAkBL,YAAY,IAAI;AACd,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,KADF;AAEJ,YAAA,IAAI,EAAE,cAFF;AAGJ,YAAA,OAAO,EAAE;AAHL,WADQ;AAMd,UAAA,QAAQ,EAAE;AACR,YAAA,CAAC,EAAE;AACD,cAAA,KAAK,EAAE,WADN;AAED,cAAA,IAAI,EAAE;AAFL;AADK;AANI,SAlBX,EA+BL,MA/BK,CA+BE,OA/BF,CAXT;AA2CE,QAAA,QAAQ,EAAE;AACR,UAAA,CAAC,EAAE;AAAE,YAAA,KAAK,EAAE,MAAT;AAAiB,YAAA,IAAI,EAAE,SAAvB;AAAkC,YAAA,IAAI,EAAE,IAAxC;AAA8C,YAAA,IAAI,EAAE;AAApD,WADK;AAER,UAAA,CAAC,EAAE;AACD,YAAA,KAAK,EAAE,aADN;AAED,YAAA,IAAI,EAAE,cAFL;AAGD,YAAA,IAAI,EAAE;AACJ,cAAA,IAAI,EAAE;AADF,aAHL;AAMD,YAAA,KAAK,EAAE;AANN;AAFK;AA3CZ,OANO;AADX,KADO,EAiEP;AACE,MAAA,OAAO,EAAE,CACP;AACE,QAAA,KAAK,EAAE,QADT;AAEE,QAAA,MAAM,EAAE,SAFV;AAGE,QAAA,IAAI,EAAE;AACJ,UAAA,IAAI,EAAE;AADF,SAHR;AAME,QAAA,KAAK,EAAE,CACL;AACE,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,KADF;AAEJ,YAAA,OAAO,EAAE;AAFL;AADR,SADK,EAOL;AACE,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,MADF;AAEJ,YAAA,KAAK,EAAE,OAFH;AAGJ,YAAA,QAAQ,EAAE,QAHN;AAIJ,YAAA,EAAE,EAAE,CAAC;AAJD,WADR;AAOE,UAAA,QAAQ,EAAE;AACR,YAAA,IAAI,EAAE;AAAE,cAAA,KAAK,EAAE,aAAT;AAAwB,cAAA,IAAI,EAAE;AAA9B;AADE;AAPZ,SAPK,EAkBL,YAAY,IAAI;AACd,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,KADF;AAEJ,YAAA,IAAI,EAAE,cAFF;AAGJ,YAAA,OAAO,EAAE;AAHL,WADQ;AAMd,UAAA,QAAQ,EAAE;AACR,YAAA,CAAC,EAAE;AACD,cAAA,KAAK,EAAE,WADN;AAED,cAAA,IAAI,EAAE;AAFL;AADK;AANI,SAlBX,EA+BL,MA/BK,CA+BE,OA/BF,CANT;AAsCE,QAAA,QAAQ,EAAE;AACR,UAAA,CAAC,EAAE;AAAE,YAAA,KAAK,EAAE,MAAT;AAAiB,YAAA,IAAI,EAAE,SAAvB;AAAkC,YAAA,IAAI,EAAE,IAAxC;AAA8C,YAAA,IAAI,EAAE;AAApD,WADK;AAER,UAAA,CAAC,EAAE;AACD,YAAA,KAAK,EAAE,aADN;AAED,YAAA,IAAI,EAAE,cAFL;AAGD,YAAA,KAAK,EAAE,OAHN;AAID,YAAA,IAAI,EAAE,YAJL;AAKD,YAAA,IAAI,EAAE;AACJ,cAAA,IAAI,EAAE;AADF;AALL;AAFK;AAtCZ,OADO,EAoDP;AACE,QAAA,IAAI,EAAE;AACJ,UAAA,IAAI,EAAE;AADF,SADR;AAIE,QAAA,KAAK,EAAE,UAJT;AAKE,QAAA,MAAM,EAAE,SALV;AAME,QAAA,IAAI,EAAE;AACJ,UAAA,IAAI,EAAE,MADF;AAEJ,UAAA,KAAK,EAAE,QAFH;AAGJ,UAAA,QAAQ,EAAE,QAHN;AAIJ,UAAA,QAAQ,EAAE,MAAM,CAAC,QAAP,CAAgB,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,iBAAiB,OAAO,EAA1C,CAAD,CAAZ,CAA6D,QAA7E,EAAuF,EAAvF;AAJN,SANR;AAYE,QAAA,QAAQ,EAAE;AACR,UAAA,CAAC,EAAE;AAAE,YAAA,KAAK,EAAE,MAAT;AAAiB,YAAA,IAAI,EAAE,SAAvB;AAAkC,YAAA,IAAI,EAAE,IAAxC;AAA8C,YAAA,IAAI,EAAE;AAApD,WADK;AAER,UAAA,IAAI,EAAE;AAAE,YAAA,KAAK,EAAE,MAAT;AAAiB,YAAA,IAAI,EAAE;AAAvB;AAFE;AAZZ,OApDO,EAqEP;AACE,QAAA,KAAK,EAAE,OADT;AAEE,QAAA,MAAM,EAAE,SAFV;AAGE,QAAA,IAAI,EAAE;AACJ,UAAA,IAAI,EAAE;AADF,SAHR;AAME,QAAA,SAAS,EAAE,CACT;AACE,UAAA,OAAO,EAAE,CAAC,MAAD,CADX;AAEE,UAAA,EAAE,EAAE,CAAC,SAAD;AAFN,SADS,EAKT;AACE,UAAA,OAAO,EAAE,CAAC,OAAD,CADX;AAEE,UAAA,EAAE,EAAE,CAAC,aAAD;AAFN,SALS,EAST;AACE,UAAA,SAAS,EAAE,iCADb;AAEE,UAAA,EAAE,EAAE;AAFN,SATS,CANb;AAoBE,QAAA,KAAK,EAAE,CACL;AACE,UAAA,IAAI,EAAE;AACJ,YAAA,IAAI,EAAE,QADF;AAEJ,YAAA,IAAI,EAAE,MAAM,GAAG,MAAT,GAAkB,IAAI,CAAC,EAFzB;AAGJ,YAAA,OAAO,EAAE;AAHL,WADR;AAME,UAAA,QAAQ,EAAE;AACR,YAAA,KAAK,EAAE;AACL,cAAA,KAAK,EAAE,QADF;AAEL,cAAA,IAAI,EAAE,SAFD;AAGL,cAAA,MAAM,EAAE,IAHH;AAIL,cAAA,KAAK,EAAE;AACL,gBAAA,KAAK,EAAE,CAAC,aAAD,EAAgB,KAAhB,EAAuB,MAAvB,CAA8B,sBAAsB,IAAI,CAA1B,GAA8B,CAAC,cAAD,CAA9B,GAAiD,EAA/E;AADF;AAJF,aADC;AASR,YAAA,CAAC,EAAE;AACD,cAAA,KAAK,EAAE,KADN;AAED,cAAA,IAAI,EAAE,SAFL;AAGD,cAAA,IAAI,EAAE,IAHL;AAID,cAAA,IAAI,EAAE,IAJL;AAKD,cAAA,KAAK,EAAE;AACL,gBAAA,MAAM,EAAE,IAAI,CAAC,GAAL,CAAU,CAAD,IAAO,CAAC,CAAC,IAAlB;AADH;AALN;AATK;AANZ,SADK,EA2BL;AACE,UAAA,IAAI,EAAE,MADR;AAEE,UAAA,SAAS,EAAE,CACT;AACE,YAAA;AADF,WADS,EAIT;AACE,YAAA,SAAS,EAAE,kCADb;AAEE,YAAA,EAAE,EAAE;AAFN,WAJS,CAFb;AAWE,UAAA,QAAQ,EAAA,MAAA,CAAA,MAAA,CAAA;AACN,YAAA,CAAC,EAAE;AAAE,cAAA,KAAK,EAAE,SAAT;AAAoB,cAAA,IAAI,EAAE,SAA1B;AAAqC,cAAA,IAAI,EAAE,IAA3C;AAAiD,cAAA,IAAI,EAAE;AAAvD,aADG;AAEN,YAAA,EAAE,EAAE;AAAE,cAAA,KAAK,EAAE;AAAT;AAFE,WAAA,EAGF,sBAAsB,GAAG,CAAzB,GACA,EADA,GAEA;AACE,YAAA,KAAK,EAAE;AACL,cAAA,KAAK,EAAE,QADF;AAEL,cAAA,IAAI,EAAE,SAFD;AAGL,cAAA,MAAM,EAAE,IAHH;AAIL,cAAA,KAAK,EAAE;AACL,gBAAA,KAAK,EAAE,CAAC,KAAD,EAAQ,cAAR;AADF;AAJF;AADT,WALE;AAXV,SA3BK,CApBT;AA4EE,QAAA,QAAQ,EAAE;AACR,UAAA,CAAC,EAAE;AAAE,YAAA,KAAK,EAAE,MAAT;AAAiB,YAAA,IAAI,EAAE,SAAvB;AAAkC,YAAA,IAAI,EAAE,IAAxC;AAA8C,YAAA,IAAI,EAAE;AAApD;AADK;AA5EZ,OArEO;AADX,KAjEO,CAxBJ;AAkPL,IAAA,MAAM,EAAE;AACN,MAAA,OADM;AAEN,MAAA,UAAU,EAAE,eAAe,CAAC,GAAG,CAAC,OAAJ,CAAY,KAAb,CAAf,CAAkD,eAFxD;AAGN,MAAA,MAAM,EAAE;AACN,QAAA,OAAO,EAAE;AADH,OAHF;AAMN,MAAA,IAAI,EAAE;AACJ,QAAA,MAAM,EAAE;AADJ,OANA;;;;;;AAcN,MAAA,GAAG,EAAE;AACH,QAAA,IAAI,EAAE;AADH,OAdC;AAiBN,MAAA,MAAM,EAAE;AACN,QAAA,OAAO,EAAE;AADH,OAjBF;AAoBN,MAAA,IAAI,EAAE;AACJ,QAAA,MAAM,EAAE,KADJ;AAEJ,QAAA,WAAW,EAAE,MAAM,CAAC,QAAP,CACX,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,yCAAlB,CAAD,CAAZ,CAA4E,WADjE,EAEX,EAFW;AAFT,OApBA;AA2BN,MAAA,IAAI,EAAE;AACJ,QAAA,UAAU,EAAE,SADR;AAEJ,QAAA,aAAa,EAAE,MAAM,CAAC,QAAP,CAAgB,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,kBAAkB,OAAO,EAA3C,CAAD,CAAZ,CAA8D,QAA9E,EAAwF,EAAxF,CAFX;AAGJ,QAAA,UAAU,EAAE,SAHR;AAIJ,QAAA,aAAa,EAAE,MAAM,CAAC,QAAP,CAAgB,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,oBAAoB,OAAO,EAA7C,CAAD,CAAZ,CAAgE,QAAhF,EAA0F,EAA1F;AAJX,OA3BA;AAiCN,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE;AADF,OAjCD;AAoCN,MAAA,IAAI,EAAE;AACJ,QAAA,IAAI,EAAE,SADF;AAEJ,QAAA,QAAQ,EAAE,MAAM,CAAC,QAAP,CAAgB,YAAY,CAAC,GAAG,CAAC,aAAJ,CAAkB,kBAAkB,OAAO,EAA3C,CAAD,CAAZ,CAA8D,QAA9E,EAAwF,EAAxF;AAFN;AApCA;AAlPH,GAAP;AA4RD;;SAEe,c,CAAe,G,EAAsD;AAAA,MAAlC;AAAE,IAAA;AAAF,GAAkC,uEAAF,EAAE;AACnF,QAAM,IAAI,GAAG,cAAc,CAAC,GAAD,EAAM,KAAN,CAA3B;AACA,QAAM,GAAG,GAAG,GAAG,CAAC,eAAJ,CACV,IAAI,IAAJ,CAAS,CAAC,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAD,CAAT,EAA0C;AACxC,IAAA,IAAI,EAAE;AADkC,GAA1C,CADU,CAAZ;AAKA,EAAA,WAAW,CAAC,GAAD,EAAM,GAAG,IAAI,CAAC,KAAK,OAAnB,EAA4B,GAAG,CAAC,aAAhC,CAAX;AACA,EAAA,GAAG,CAAC,eAAJ,CAAoB,GAApB;AACF;;AChXA,MAAM,UAAU,GAAgF,CAC9F,gBAD8F,EAE9F,OAF8F,EAG9F,WAH8F,EAI9F,gBAJ8F,EAK9F,gBAL8F,EAM9F,4BAN8F,EAO9F,mBAP8F,EAQ9F,qBAR8F,EAS9F,SAT8F,EAU9F,aAV8F,EAW9F,gBAX8F,CAAhG;AAaA,MAAM,WAAW,GAAmF,CAClG,SADkG,EAElG,YAFkG,EAGlG,YAHkG,EAIlG,aAJkG,EAKlG,cALkG,CAApG;AAOA,MAAM,UAAU,GAA+F,CAC7G,WAD6G,EAE7G,iBAF6G,EAG7G,SAH6G,EAI7G,gBAJ6G,EAK7G,mBAL6G,EAM7G,2BAN6G,EAO7G,OAP6G,EAQ7G,YAR6G,EAS7G,gBAT6G,EAU7G,eAV6G,EAW7G,aAX6G,CAA/G;AAcA,MAAM,SAAS,GAA+B,CAAC,WAAD,EAAc,cAAd,EAA8B,MAA9B,CAC5C,UAD4C,EAE5C,WAF4C,EAG5C,UAH4C,CAA9C;;AAkBA,SAAS,WAAT,CACE,KADF,EACiF;;;AAE/E,QAAM,IAAI,GAAG,YAAY,CAAC;AACxB,IAAA,KAAK,EAAE,CADiB;AAExB,IAAA,MAAM,EAAE,CAFgB;AAGxB,IAAA,IAAI,EAAA,CAAA,EAAA,GAAE,KAAK,CAAC,IAAR,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,EAAZ,GAAgB,EAHI;AAIxB,IAAA,YAAY,EAAE,KAAK,CAAC,YAJI;AAKxB,IAAA,KAAK,EAAE,KAAK,CAAC;AALW,GAAD,CAAzB;AAQA,QAAM,CAAC,GAAQ,EAAf;AACA,EAAA,SAAS,CAAC,OAAV,CAAmB,GAAD,IAAI;AACpB,UAAM,KAAK,GAAG,KAAK,CAAC,GAAD,CAAnB;AACA,UAAM,YAAY,GAAI,IAAY,CAAC,GAAD,CAAlC;;AACA,QAAI,GAAG,KAAK,OAAR,IAAmB,KAAK,KAAK,OAAjC,EAA0C;;AAExC,MAAA,CAAC,CAAC,GAAD,CAAD,GAAS,KAAT;AACA;AACD;;AACD,QAAI,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,YAA/B,EAA6C;AAC3C;AACD;;AACD,QAAI,GAAG,KAAK,WAAZ,EAAyB;;AAEvB,UAAI,KAAK,GAAG,IAAZ;AACA,YAAM,GAAG,GAA0C,EAAnD;AACA,MAAA,eAAe,CAAC,OAAhB,CAAyB,IAAD,IAAK;AAC3B,cAAM,MAAM,GAAI,KAA+C,CAAC,IAAD,CAA/D;AACA,cAAM,aAAa,GAAI,YAAsD,CAAC,IAAD,CAA7E;;AACA,YAAI,MAAM,KAAK,aAAf,EAA8B;AAC5B,UAAA,GAAG,CAAC,IAAD,CAAH,GAAY,MAAZ;AACA,UAAA,KAAK,GAAG,KAAR;AACD;AACF,OAPD;;AAQA,UAAI,CAAC,KAAL,EAAY;AACV,QAAA,CAAC,CAAC,GAAD,CAAD,GAAS,GAAT;AACD;AACF,KAfD,MAeO;AACL,MAAA,CAAC,CAAC,GAAD,CAAD,GAAS,KAAT;AACD;AACF,GA7BD;AA8BA,SAAO,CAAP;AACD;;SAEe,a,CACd,I,EACA,Q,EACA,K,EACA,M,EACA,I,EAAgC;AAEhC,SAAO,MAAM,CAAC,MAAP,CACL;AACE,IAAA,OAAO,EAAE,wCADX;AAEE,IAAA,IAAI,EAAE,OAAO,KAAK,CAAC,KAAb,KAAuB,QAAvB,GAAkC,KAAK,CAAC,KAAxC,GAAgD,SAFxD;AAGE,IAAA,WAAW,EAAE,OAAO,KAAK,CAAC,WAAb,KAA6B,QAA7B,GAAwC,KAAK,CAAC,WAA9C,GAA4D,EAH3E;AAIE,IAAA,IAJF;AAKE,IAAA,MALF;AAME,IAAA,QANF;AAOE,IAAA,KAAK,EAAE,EAPT;AAQE,IAAA,KAAK,EAAE,WAAW,CAAC,KAAD;AARpB,GADK,EAWL,IAXK,CAAP;AAaD;;SAWe,mB,CACd,I,EACA,K,EACA,M,EACA,I,EAAgC;AAEhC,SAAO,MAAM,CAAC,MAAP,CACL;AACE,IAAA,OAAO,EAAE,+CADX;AAEE,IAAA,IAAI,EAAE,OAAO,KAAK,CAAC,KAAb,KAAuB,QAAvB,GAAkC,KAAK,CAAC,KAAxC,GAAgD,SAFxD;AAGE,IAAA,WAAW,EAAE,OAAO,KAAK,CAAC,WAAb,KAA6B,QAA7B,GAAwC,KAAK,CAAC,WAA9C,GAA4D,EAH3E;AAIE,IAAA,IAJF;AAKE,IAAA,MALF;AAME,IAAA,KAAK,EAAE,WAAW,CAAC,KAAD;AANpB,GADK,EASL,IATK,CAAP;AAWF;ACrLA;;;;;;;;SAyBgB,c,CACd,K,EACA,I,EAEgC;AAAA,MADhC,QACgC,uEADrB,KACqB;AAAA,MAAhC,IAAgC;;;;AAEhC,QAAM,KAAK,GAAU,EAArB;AACA,QAAM,MAAM,GAAG,IAAI,GAAJ,EAAf;;AACA,QAAM,WAAW,GAAI,IAAD,IAAU;AAC5B,QAAI,MAAM,CAAC,GAAP,CAAW,IAAX,CAAJ,EAAsB;AACpB,aAAO,MAAM,CAAC,GAAP,CAAW,IAAX,CAAP;AACD;;AACD,IAAA,MAAM,CAAC,GAAP,CAAW,IAAX,EAAiB,KAAK,CAAC,MAAvB;AACA,IAAA,KAAK,CAAC,IAAN,CAAW,IAAX;AACA,WAAO,KAAK,CAAC,MAAN,GAAe,CAAtB;AACD,GAPD;;AAQA,QAAM,IAAI,GAAG,MAAM,CACjB;AACE,IAAA,IAAI,EAAE,KAAK,CAAC,IADd;AAEE,IAAA,OAAO,EAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAE,KAAK,CAAC,OAAR,MAAe,IAAf,IAAe,EAAA,KAAA,KAAA,CAAf,GAAe,KAAA,CAAf,GAAe,EAAA,CAAE,MAAF,CAAU,CAAD,IAA4C,WAAW,CAAC,CAAD,CAAX,IAAkB,UAAU,CAAC,CAAD,CAAjF,CAAf,MAAmG,IAAnG,IAAmG,EAAA,KAAA,KAAA,CAAnG,GAAmG,EAAnG,GAAwG,EAFjH;AAGE,IAAA,WAHF;AAIE,IAAA,SAAS,EAAE,KAAK,CAAC,SAAN,IAAmBA,WAAS,CAAC,KAAK,CAAC,SAAP,CAA5B,GAAgD,KAAK,CAAC,SAAtD,GAAkE,SAJ/E;AAKE,IAAA,YAAY,EAAE,IAAI,CAAC,EAAL,CAAQ,CALxB;AAME,IAAA,kBAAkB,EAAE,KAAK,CAAC,OAAN,CAAc,KAAK,CAAC,YAApB,IAChB,EADgB,GAEf,KAAK,CAAC;AARb,GADiB,EAWjB;AACE,IAAA,QAAQ,EAAE,QAAQ,GAAG,KAAH,GAAW;AAD/B,GAXiB,CAAnB;AAgBA,SAAO,aAAa,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,SAArB,EAAgC,IAAhC,CAApB;AACD;;SAEe,oB,CACd,K,EACA,I,EAEgC;AAAA,MADhC,QACgC,uEADrB,KACqB;AAAA,MAAhC,IAAgC;;;;AAEhC,QAAM,IAAI,GAAG,YAAY,CACvB;AACE,IAAA,IAAI,EAAE,KAAK,CAAC,IADd;AAEE,IAAA,OAAO,EAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAE,KAAK,CAAC,OAAR,MAAe,IAAf,IAAe,EAAA,KAAA,KAAA,CAAf,GAAe,KAAA,CAAf,GAAe,EAAA,CAAE,MAAF,CAAU,CAAD,IAA4C,WAAW,CAAC,CAAD,CAAX,IAAkB,UAAU,CAAC,CAAD,CAAjF,CAAf,MAAmG,IAAnG,IAAmG,EAAA,KAAA,KAAA,CAAnG,GAAmG,EAAnG,GAAwG,EAFjH;AAGE,IAAA,SAAS,EAAE,KAAK,CAAC,SAAN,IAAmBA,WAAS,CAAC,KAAK,CAAC,SAAP,CAA5B,GAAgD,KAAK,CAAC,SAAtD,GAAkE,SAH/E;AAIE,IAAA,YAAY,EAAE,IAAI,CAAC,EAAL,CAAQ;AAJxB,GADuB,EAOvB;AACE,IAAA,QAAQ,EAAE,QAAQ,GAAG,KAAH,GAAW;AAD/B,GAPuB,CAAzB;AAYA,SAAO,mBAAmB,CAAC,IAAD,EAAO,KAAP,EAAc,SAAd,EAAyB,IAAzB,CAA1B;AACD;;SAEe,U,CACd,G,EACA,K,EACA,I,EACA,I,EAAgC;AAEhC,QAAM,IAAI,GAAG,cAAc,CAAC,KAAD,EAAQ,IAAR,EAAc,KAAd,EAAqB,IAArB,CAA3B;AACA,QAAM,GAAG,GAAG,GAAG,CAAC,eAAJ,CACV,IAAI,IAAJ,CAAS,CAAC,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAD,CAAT,EAA0C;AACxC,IAAA,IAAI,EAAE;AADkC,GAA1C,CADU,CAAZ;AAKA,EAAA,WAAW,CAAC,GAAD,EAAM,GAAG,IAAI,CAAC,IAAI,OAAlB,EAA2B,GAAG,CAAC,aAA/B,CAAX;AACA,EAAA,GAAG,CAAC,eAAJ,CAAoB,GAApB;AACD;;AAEM,MAAM,cAAc,GAAG,OAAO,CAA9B;;SAES,gB,CAAiB,K,EAAwB,I,EAAqB,I,EAAgC;AAC5G,QAAM,CAAC,GAAQ,cAAc,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,CAA7B;AACA,SAAO,CAAC,CAAC,OAAT;AACA,QAAM,GAAG,GAAG,QAAQ,CAAC,6BAAT,CAAuC,IAAI,CAAC,SAAL,CAAe,CAAf,CAAvC,CAAZ;AACA,QAAM,GAAG,GAAG,IAAI,GAAJ,CAAQ,qCAAR,CAAZ;AACA,EAAA,GAAG,CAAC,YAAJ,CAAiB,GAAjB,CAAqB,GAArB,EAA0B,GAA1B;;AAEA,MAAI,GAAG,CAAC,QAAJ,GAAe,MAAf,GAAwB,cAA5B,EAA4C;AAC1C,IAAA,MAAM,CAAC,IAAP,CAAY,GAAG,CAAC,QAAJ,EAAZ,EAA4B,QAA5B;AACA,WAAO,IAAP;AACD,GAV2G,C;;;AAa5G,QAAM,EAAE,GAAQ,oBAAoB,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,CAApC;AACA,SAAO,EAAE,CAAC,OAAV;AACA,QAAM,IAAI,GAAG,QAAQ,CAAC,6BAAT,CAAuC,IAAI,CAAC,SAAL,CAAe,EAAf,CAAvC,CAAb;AACA,EAAA,GAAG,CAAC,YAAJ,CAAiB,GAAjB,CAAqB,GAArB,EAA0B,IAA1B;;AAEA,MAAI,GAAG,CAAC,QAAJ,GAAe,MAAf,GAAwB,cAA5B,EAA4C;AAC1C,IAAA,MAAM,CAAC,IAAP,CAAY,GAAG,CAAC,QAAJ,EAAZ,EAA4B,QAA5B;AACA,WAAO,IAAP;AACD,GArB2G,C;;;AAwB5G,EAAA,GAAG,CAAC,YAAJ,CAAiB,MAAjB,CAAwB,GAAxB;AACA,QAAM,CAAC,GAAG,MAAM,CAAC,IAAP,CAAY,GAAG,CAAC,QAAJ,EAAZ,EAA4B,QAA5B,CAAV;AACA,EAAA,CAAC,KAAA,IAAD,IAAA,CAAC,KAAA,KAAA,CAAD,GAAC,KAAA,CAAD,GAAA,CAAC,CAAE,gBAAH,CAAoB,MAApB,EAA4B,MAAA;AAC1B,IAAA,CAAC,KAAA,IAAD,IAAA,CAAC,KAAA,KAAA,CAAD,GAAC,KAAA,CAAD,GAAA,CAAC,CAAE,WAAH,CAAe,CAAf,EAAkB,GAAG,CAAC,MAAtB,CAAA;AACD,GAFD,CAAA;AAGA,SAAO,KAAP;AACF;ACjIA;;;;;;;;SASgB,I,GAAoD;AAAA,oCAA5C,UAA4C;AAA5C,IAAA,UAA4C;AAAA;;AAClE,SAAO,UAAU,CAAC,MAAX,CAAkB,OAAlB,EAA2B,IAA3B,CAAgC,GAAhC,CAAP;AACD;;SAEe,U,CAAW,K,EAAW;AACpC,SAAO,SAAS,IAAI,CAAC,MAAL,GAAc,QAAd,CAAuB,EAAvB,EAA2B,KAA3B,CAAiC,CAAjC,CAAmC,EAAnD;AACD;;SAEe,S,CAAa,C,EAAqB;AAChD,SAAO,CAAC,IAAI,IAAL,IAAa,CAAC,KAAK,CAAC,OAAN,CAAc,CAAd,CAArB;AACD;;AAED,SAAS,aAAT,CAA0B,KAA1B,EAAwD,SAAxD,EAAoF;AAClF,QAAM,CAAC,GAAG,iBAAiB,CAAC,KAAD,EAAQ,SAAR,CAA3B;AACA,SAAQ,CAAD,IAAe;AACpB,WAAO,CAAC,CAAC,CAAC,CAAC,KAAH,CAAD,CAAW,YAAlB;AACD,GAFD;AAGD;;SAEe,e,GAAe;AAC7B,SAAO,CAAC,CAAR;AACD;;SAEe,wB,CACd,S,EACA,c,EACA,S,EAA4B;AAE5B,MAAI,CAAC,SAAL,EAAgB;AACd,WAAO,SAAP;AACD;;AACD,MAAI,OAAO,SAAP,KAAqB,UAAzB,EAAqC;AACnC,WAAO,SAAP;AACD;;AACD,MAAI,KAAK,CAAC,OAAN,CAAc,SAAd,CAAJ,EAA8B;AAC5B,WAAO,aAAa,CAAC,SAAD,EAAY,SAAZ,CAApB;AACD;;AACD,QAAM,EAAE,GAAG,SAAX;;AACA,MAAI,EAAE,CAAC,OAAP,EAAgB;AACd,WAAO,EAAE,CAAC,OAAH,CAAW,IAAX,CAAgB,EAAhB,CAAP;AACD;;AACD,MAAI,CAAC,GAAwC,IAA7C;AACA,SAAQ,CAAD,IAAE;AACP,QAAI,CAAC,CAAC,OAAN,EAAe;AACb,aAAO,CAAC,CAAC,OAAF,CAAU,EAAV,CAAP;AACD;;AACD,UAAM,KAAK,GAAG,cAAc,CAAC,CAAD,EAAI,EAAJ,CAA5B;;AACA,QAAI,KAAK,IAAI,CAAb,EAAgB;AACd,aAAO,KAAP;AACD;;AACD,QAAI,CAAC,CAAL,EAAQ;AACN,MAAA,CAAC,GAAG,aAAa,CAAC,EAAE,CAAC,KAAJ,EAAW,SAAX,CAAjB;AACD;;AACD,WAAO,CAAC,CAAC,CAAD,CAAR;AACD,GAZD;AAaD;;SAEe,qB,CAAyB,S,EAA6B;;;AACpE,SAAO,KAAK,CAAC,OAAN,CAAc,SAAd,IACH,SAAS,SAAS,CAAC,MAAM,GADtB,GAEH,OAAO,SAAP,KAAqB,UAArB,GACA,GADA,G,MAEC,S,MAAyB,I,IAAA,EAAA,KAAA,KAAA,C,GAAA,KAAA,C,GAAA,EAAA,CAAE,IAJhC;AAKD;;SAEe,iB,CAAqB,K,EAA8B,S,EAA4B;AAC7F,QAAM,CAAC,GAAG,qBAAqB,CAAC,KAAD,EAAQ,SAAR,CAA/B;AACA,SAAQ,CAAD,IAAe;AACpB,WAAO,CAAC,CAAC,CAAC,CAAC,KAAH,CAAD,CAAW,YAAlB;AACD,GAFD;AAGD;;SAEe,S,GAAS;AACvB,SAAO,CAAP;AACD;;SAEe,a,CAAc,C,EAAU;AACtC,MAAI,CAAC,IAAI,IAAT,EAAe;AACb,WAAO,EAAP;AACD;;AACD,MAAI,CAAC,CAAC,QAAF,CAAW,IAAX,CAAJ,EAAsB;AACpB,WAAO,IAAI,CAAC,KAAL,CAAY,IAAI,CAAL,GAAU,MAAM,CAAC,QAAP,CAAgB,CAAhB,EAAmB,EAAnB,CAArB,CAAP;AACD;;AACD,SAAO,MAAM,CAAC,QAAP,CAAgB,CAAhB,EAAmB,EAAnB,CAAP;AACD;;SAEe,Q,CAAS,S,EAAsC;;;AAC7D,QAAM,UAAU,GAAG;AACjB,IAAA,IAAI,EAAE,OADW;AAEjB,IAAA,MAAM,EAAE,QAFS;AAGjB,IAAA,KAAK,EAAE;AAHU,GAAnB;AAKA,SAAA,CAAA,EAAA,GAAO,UAAU,CAAC,SAAD,CAAjB,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,EAA5B,GAAgC,QAAhC;AACF;ACtGA;;;;;;;;SA8BgB,mB,CACd,O,EAA8D;AAE9D,MAAI,OAAO,KAAK,QAAhB,EAA0B;AACxB,WAAO,WAAP;AACD;;AACD,MAAI,OAAO,KAAK,KAAhB,EAAuB;AACrB,WAAO,QAAP;AACD;;AACD,SAAO,OAAP;AACD;;AAED,SAAS,gBAAT,CAA0B,OAA1B,EAAqF;AACnF,SAAO,OAAO,KAAK,MAAZ,GAAqBC,WAArB,GAAiC,OAAxC;AACD;;SAqCeC,iB,CACd,Y,EAAkE;AAElE,SAAO,KAAK,CAAC,OAAN,CAAc,YAAd,CAAP;AACD;;SAEuB,mB,CACtB,I,EACA,Y,EACA,K,EACA,Y,EACA,S,EACA,gB,EACA,U,EACA,U,EACA,Y,EACA,iB,EACA,K,EACA,S,EACA,E,EACA,W,EACA,mB,EAA4B;;;AAE5B,QAAM,mBAAmB,GAAG,mBAAmB,CAAC,YAAD,CAA/C;AACA,QAAM,gBAAgB,GAAG,gBAAgB,CAAC,SAAD,CAAzC;AACA,QAAM,EAAE,GAAGA,iBAAe,CAAC,YAAD,CAAfA,GACP,YADOA,GAEP,oBAAoB,CAAC,IAAD,EAAO,MAAM,CAAC,MAAP,CAAc;AAAE,IAAA;AAAF,GAAd,EAA6B,oBAA7B,EAAmD,YAAnD,CAAP,CAFxB;AAIA,QAAM,MAAM,GAAG,EAAE,CAAC,GAAH,CAAO,KAAP,CAAf;AACA,QAAM,YAAY,GAAG,gBAAgB,CAAC,MAAD,EAAS,KAAK,CAAC,EAAN,CAAS,CAAlB,EAAqB,KAAK,CAAC,OAA3B,CAArC;AACA,QAAM,iBAAiB,GAAG,EAAE,CAAC,MAAH,CAAU,CAAC,GAAD,EAAM,CAAN,KAAY,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAC,CAAC,WAAhB,CAAtB,EAAoD,CAApD,CAA1B;AACA,QAAM,gBAAgB,GAAG,mBAAmB,KAAA,IAAnB,IAAA,mBAAmB,KAAA,KAAA,CAAnB,GAAA,mBAAA,GAAuB,iBAAhD;AACA,QAAM,eAAe,GAAG,gBAAgB,GAAG,iBAAnB,GAAuC,CAAvC,GAA2C,gBAAnE;AACA,QAAM,YAAY,GAAG,mBAAmB,CAAC,gBAAD,EAAmB,CAAC,KAAK,CAAC,EAAN,CAAS,CAAV,EAAa,eAAb,CAAnB,EAAkD;AACxF,IAAA,WAAW,EAAE,UAD2E;AAExF,IAAA,YAAY,EAAE;AAF0E,GAAlD,CAAxC;;AAIA,QAAM,SAAS,GAAI,IAAD,IAAkB,IAAI,CAAC,KAAL,CAAY,gBAAgB,GAAG,GAApB,GAA2B,GAA3B,GAAiC,IAAI,CAAC,MAAjD,CAApC;;AACA,QAAM,eAAe,GAAI,CAAD,IAAe,SAAS,CAAC,YAAY,CAAC,UAAb,GAA0B,CAA1B,CAAD,CAAhD;;AAEA,QAAM,kBAAkB,GAAG,IAAI,CAAC,MAAL,CAAY,CAAC,GAAD,EAAM,CAAN,KAAY,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAC,CAAC,WAAhB,CAAxB,EAAsD,CAAtD,CAA3B;AACA,QAAM,iBAAiB,GAAG,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAA,WAAA,GAAe,kBAAzC;AACA,QAAM,oBAAoB,GAAG,eAAe,CAAC,iBAAD,CAA5C;AACA,MAAI,mBAAmB,GAAG,eAAe,CAAC,gBAAD,CAAzC;;AAEA,OAAK,MAAM,KAAX,IAAoB,iBAApB,EAAuC;AACrC,QAAI,CAAC,KAAK,CAAC,KAAX,EAAkB;AAChB;AACD;;AACD,UAAM,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,KAAZ,CAAkB,CAAlB,CAAd;AACA,UAAM,CAAC,GAAG,KAAK,CAAC,KAAN,CAAY,UAAZ,EAAV;;AACA,SAAK,MAAM,IAAX,IAAmB,KAAnB,EAA0B;AACxB,YAAM,CAAC,GAAG,OAAO,IAAP,KAAgB,QAAhB,GAA2B,CAAC,CAAC,IAAD,CAA5B,GAAkC,CAAA,EAAA,GAAG,IAAI,CAAC,KAAR,MAAa,IAAb,IAAa,EAAA,KAAA,KAAA,CAAb,GAAa,EAAb,GAAiB,CAAC,CAAC,IAAI,CAAC,KAAN,CAA9D;AACA,YAAM,IAAI,GAAG,SAAS,CAAC,CAAD,CAAtB;;AACA,UAAI,IAAI,GAAG,mBAAX,EAAgC;AAC9B,QAAA,mBAAmB,GAAG,IAAtB;AACD;AACF;AACF;;AAED,QAAM,QAAQ,GAAG,iBAAiB,GAAG,kBAApB,GAAyC,CAAzC,GAA6C,oBAA9D;AACA,QAAM,IAAI,GAAG,mBAAmB,CAAC,iBAAD,EAAoB,CAAC,KAAK,CAAC,IAAN,CAAW,CAAZ,EAAe,QAAf,CAApB,EAA8C;AAC5E,IAAA,WAAW,EAAE,YAD+D;AAE5E,IAAA,YAAY,EAAE;AAF8D,GAA9C,CAAhC;AAIA,QAAM,OAAO,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,CAAhB;AACA,QAAM,IAAI,GAAG,gBAAgB,CAC3B,OAAO,CAAC,KAAR,GAAgB,OAAhB,EAD2B,EACF;AACzB,EAAA,KAAK,CAAC,IAAN,CAAW,CAFgB,EAG3B,KAAK,CAAC,OAHqB,CAA7B;AAKA,QAAM,CAAC,GAAI,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,SAAL,EAAT,EAA2B,YAAY,CAAC,SAAb,EAA3B,IAAuD,CAAxD,GAA6D,UAAvE;AAEA,QAAM,YAAY,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAa,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,SAAL,EAAT,EAA2B,YAAY,CAAC,SAAb,EAA3B,IAAuD,CAAxD,GAA6D,UAAzE,CAArB;AAEA,SAAO;AACL,IAAA,EAAE,EAAE,EAAE,GAAG,EAAH,GAAQ,UAAU,EADnB;AAEL,IAAA,CAFK;AAGL,IAAA,YAHK;AAIL,IAAA,IAAI,EAAE;AACJ,MAAA,CAAC,EAAE,IADC;AAEJ,MAAA,IAAI,EAAE,OAFF;AAGJ,MAAA,EAAE,EAAE,IAAI,CAAC,KAAL,GAAa,OAAb,EAHA;AAIJ,MAAA,CAAC,EAAE,IAJC;AAKJ,MAAA,UAAU,EAAE,KAAK,CAAC,IAAN,CAAW,CAAX,GAAe,QALvB;AAMJ,MAAA,CAAC,EAAG,CAAD,IAAO,IAAI,CAAC,KAAK,CAAC,CAAD,CAAN,CANV;AAOJ,MAAA,GAAG,EAAE,iBAPD;AAQJ,MAAA,SAAS,EAAE,IAAI,CAAC,SAAL,EARP;AASJ,MAAA,EAAE,EAAE,IAAI,CAAC,SAAL,KAAmB,CAAnB,GAAuB,KAAK,CAAC,EAAN,CAAS,CAThC;AAUJ,MAAA,MAAM,EAAE,IAAI,CAAC,UAAL,EAVJ;AAWJ,MAAA,WAAW,EAAE,gBAAgB,GAAG,CAAnB,GAAuB;AAXhC,KAJD;AAiBL,IAAA,EAAE,EAAE;AACF,MAAA,CAAC,EAAE,EADD;AAEF,MAAA,IAAI,EAAE,EAAE,CAAC,GAAH,CAAO,KAAP,CAFJ;AAGF,MAAA,CAAC,EAAG,CAAD,IAAO,YAAY,CAAC,KAAK,CAAC,CAAD,CAAN,CAHpB;AAIF,MAAA,GAAG,EAAE,gBAJH;AAKF,MAAA,CAAC,EAAE,YALD;AAMF,MAAA,UAAU,EAAE,KAAK,CAAC,EAAN,CAAS,CAAT,GAAa,eANvB;AAOF,MAAA,EAAE,EAAE,YAAY,CAAC,SAAb,KAA2B,CAP7B;AAQF,MAAA,SAAS,EAAE,YAAY,CAAC,SAAb,EART;AASF,MAAA,MAAM,EAAE,YAAY,CAAC,UAAb,EATN;AAUF,MAAA,GAAG,EAAE,CAAC,CAAD,EAAI,CAAJ,KAAK;AACR,cAAM,EAAE,GAAG,KAAK,CAAC,CAAD,CAAhB;AACA,eAAO,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,IAAnB,CAAyB,EAAD,IAAQ,KAAK,CAAC,EAAD,CAAL,KAAc,EAA9C,CAAP;AACD,OAbC;AAcF,MAAA,WAAW,EAAE,mBAAmB,GAAG,CAAtB,GAA0B;AAdrC,KAjBC;AAiCL,IAAA,KAjCK;AAkCL,IAAA,SAlCK;AAmCL,IAAA,cAAc,EAAE,uBAAuB,CAAC,EAAD,EAAK,eAAL,EAAsB,KAAtB;AAnClC,GAAP;AAqCF;AClMA;;;;;;;;SAWwB,mB,CACtB,K,EACA,M,EACA,M,EACA,U,EACA,W,EACA,Y,EACA,S,EACA,iB,EACA,E,EACA,e,EACA,uB,EAA+B;AAE/B,QAAM,eAAe,GAAG,SAAS,CAAC,MAAV,CACtB,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,IAAI,CAAC,CAAC,QAAF,KAAe,QAAf,GAA0B,CAAC,CAAC,IAAF,GAAS,eAAnC,GAAqD,CAAzD,CADO,EAEtB,CAFsB,CAAxB;AAIA,QAAM,cAAc,GAAG,SAAS,CAAC,MAAV,CACrB,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,IAAI,CAAC,CAAC,QAAF,KAAe,QAAf,GAA0B,CAAC,CAAC,IAAF,GAAS,eAAnC,GAAqD,CAAzD,CADM,EAErB,CAFqB,CAAvB;AAIA,QAAM,uBAAuB,GAAG,iBAAiB,CAAC,MAAlB,CAC9B,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,IAAI,CAAC,CAAC,QAAF,KAAe,QAAf,GAA0B,CAAC,CAAC,IAAF,GAAS,eAAnC,GAAqD,CAAzD,CADe,EAE9B,CAF8B,CAAhC;AAIA,QAAM,sBAAsB,GAAG,iBAAiB,CAAC,MAAlB,CAC7B,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,IAAI,CAAC,CAAC,QAAF,KAAe,QAAf,GAA0B,CAAC,CAAC,IAAF,GAAS,eAAnC,GAAqD,CAAzD,CADc,EAE7B,CAF6B,CAA/B;AAIA,QAAM,CAAC,GAAG,MAAM,GAAG,IAAI,MAAb,GAAsB,EAAtB,GAA2B,sBAA3B,GAAoD,uBAA9D;AACA,QAAM,CAAC,GAAG,KAAK,GAAG,IAAI,MAAZ,GAAqB,eAArB,GAAuC,cAAjD;AAEA,QAAM,QAAQ,GAAG,WAAW,CAAC,CAAD,CAAX,GAAiB,CAAjB,GAAqB,WAAW,CAAC,CAAD,CAAhC,GAAsC,CAAC,GAAG,WAAW,CAAC,CAAD,CAAtE;AACA,QAAM,WAAW,GAAG,WAAW,CAAC,CAAD,CAAX,GAAiB,CAAjB,GAAqB,WAAW,CAAC,CAAD,CAAhC,GAAsC,CAAC,GAAG,WAAW,CAAC,CAAD,CAAzE;AACA,QAAM,iBAAiB,GAAG,YAAY,CAAC,CAAD,CAAZ,GAAkB,CAAlB,GAAsB,YAAY,CAAC,CAAD,CAAlC,GAAwC,CAAC,GAAG,YAAY,CAAC,CAAD,CAAlF;AACA,SAAO;AACL,IAAA,EAAE,EAAE,EAAE,GAAG,EAAH,GAAQ,UAAU,EADnB;AAEL,IAAA,EAAE,EAAE;AACF,MAAA,MAAM,EAAE,uBADN;AAEF,MAAA,KAAK,EAAE,sBAFL;AAGF,MAAA,CAAC,EAAE,eAAe,GAAG,QAAlB,GAA6B,WAH9B;AAIF,MAAA,CAAC,EAAE,uBAJD;AAKF,MAAA,CAAC,EAAE,CAAC,GAAG,QAAJ,GAAe,WALhB;AAMF,MAAA,CAAC,EAAE,iBAND;AAOF,MAAA,MAAM,EAAE,iBAPN;AAQF,MAAA,YAAY,EAAE;AARZ,KAFC;AAYL,IAAA,MAAM,EAAE;AACN,MAAA,CAAC,EAAE,eAAe,GAAG,QADf;AAEN,MAAA,CAAC,EAAE,uBAAuB,GAAG,iBAFvB;AAGN,MAAA,CAAC,EAAE,WAHG;AAIN,MAAA,CAAC,EAAE,CAAC,GAAG;AAJD,KAZH;AAkBL,IAAA,IAAI,EAAE;AACJ,MAAA,MAAM,EAAE,eADJ;AAEJ,MAAA,KAAK,EAAE,cAFH;AAGJ,MAAA,CAAC,EAAE,eAHC;AAIJ,MAAA,CAAC,EAAE,uBAAuB,GAAG,iBAJzB;AAKJ,MAAA,CAAC,EAAE,QALC;AAMJ,MAAA,CAAC,EAAE,CAAC,GAAG,iBANH;AAOJ,MAAA,MAAM,EAAE,SAPJ;AAQJ,MAAA,YAAY,EAAE;AARV,KAlBD;AA4BL,IAAA,OAAO,EAAE,UA5BJ;AA6BL,IAAA,MAAM,EAAE;AACN,MAAA,CAAC,EAAE,KAAK,GAAG;AADL,KA7BH;AAgCL,IAAA,MAAM,EAAE,MAhCH;AAiCL,IAAA,CAAC,EAAE,KAjCE;AAkCL,IAAA,CAAC,EAAE;AAlCE,GAAP;AAoCF;AClFA;;;;;;;;SAUwB,oB,CACtB,K,EACA,M,EACA,U,EACA,e,EACA,yB,EACA,O,EACA,iB,EACA,O,EACA,c,EACA,c,EACA,c,EACA,K,EACA,W,EACA,Q,EACA,iB,EAAqE;AAErE,SAAO;AACL,IAAA,KADK;AAEL,IAAA,MAFK;AAGL,IAAA,UAAU,EAAE,UAHP;AAIL,IAAA,EAAE,EAAE;AACF,MAAA,IAAI,EAAE,eADJ;AAEF,MAAA,MAAM,EAAE;AAFN,KAJC;AAQL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,OADF;AAEJ,MAAA,MAAM,EAAE;AAFJ,KARD;AAYL,IAAA,cAZK;AAaL,IAAA,EAAE,EAAE,OAbC;AAcL,IAAA,cAdK;AAeL,IAAA,cAfK;AAgBL,IAAA,KAhBK;AAiBL,IAAA,WAjBK;AAkBL,IAAA,QAlBK;AAmBL,IAAA;AAnBK,GAAP;AAqBF;AChDA;;;;;;;;SAUwB,a,QAUvB;AAAA,MAVqC;AACpC,IAAA,SADoC;AAEpC,IAAA,OAFoC;AAGpC,IAAA,aAHoC;AAIpC,IAAA;AAJoC,GAUrC;;AACC,MAAI,CAAC,aAAL,EAAoB;AAClB,WAAO,IAAP;AACD;;AACD,QAAM,QAAQ,GAAG,EAAjB;AACA,QAAM,QAAQ,GAAG,EAAjB;AACA,QAAM,SAAS,GAAG,EAAlB;AACA,QAAM,SAAS,GAAG,EAAlB;AACA,QAAM,UAAU,GAAG,EAAnB;AACA,QAAM,KAAK,GAAG,CAAd;AACA,MAAI,GAAG,GAAG,CAAV;AACA,QAAM,OAAO,GAAsB,EAAnC;;AACA,MAAI,aAAa,KAAK,IAAlB,IAA0B,aAAa,CAAC,GAAd,KAAsB,KAApD,EAA2D;AACzD,IAAA,GAAG,IAAI,QAAP;AACA,IAAA,OAAO,CAAC,IAAR,CACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAC,KADN;AAEE,MAAA,SAAS,EAAE,gBAAgB,OAAO,EAFpC;AAGE,MAAA,OAAO,EAAE,WAHX;AAGsB,mBACV,KAJZ;AAKE,MAAA,SAAS,EAAE,cAAc,GAAG;AAL9B,KAAA,EAOE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAA,oBAAA,CAPF,EAQE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAE,CAAC,CAAV;AAAa,MAAA,KAAK,EAAE,QAApB;AAA8B,MAAA,MAAM,EAAE,EAAtC;AAA0C,MAAA,EAAE,EAAE,CAA9C;AAAiD,MAAA,EAAE,EAAE;AAArD,KAAA,CARF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,SAAS,EAAE,mBAAmB,OAAO,EAA3C;AAA+C,MAAA,CAAC,EAAE,QAAQ,GAAG;AAA7D,KAAA,EAA8D,KAA9D,CATF,CADF;AAeA,IAAA,GAAG,IAAI,KAAP;AACD;;AACD,MAAI,aAAa,KAAK,IAAlB,IAA0B,aAAa,CAAC,GAAd,KAAsB,KAApD,EAA2D;AACzD,IAAA,GAAG,IAAI,QAAP;AACA,IAAA,OAAO,CAAC,IAAR,CACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAC,KADN;AAEE,MAAA,SAAS,EAAE,gBAAgB,OAAO,EAFpC;AAGE,MAAA,OAAO,EAAE,WAHX;AAGsB,mBACV,KAJZ;AAKE,MAAA,SAAS,EAAE,cAAc,GAAG;AAL9B,KAAA,EAOE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAA,oBAAA,CAPF,EAQE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAE,CAAC,CAAV;AAAa,MAAA,KAAK,EAAE,QAApB;AAA8B,MAAA,MAAM,EAAE,EAAtC;AAA0C,MAAA,EAAE,EAAE,CAA9C;AAAiD,MAAA,EAAE,EAAE;AAArD,KAAA,CARF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,SAAS,EAAE,mBAAmB,OAAO,EAA3C;AAA+C,MAAA,CAAC,EAAE,QAAQ,GAAG;AAA7D,KAAA,EAA8D,KAA9D,CATF,CADF;AAeA,IAAA,GAAG,IAAI,KAAP;AACD;;AACD,MAAI,aAAa,KAAK,IAAlB,IAA0B,aAAa,CAAC,IAAd,KAAuB,KAArD,EAA4D;AAC1D,IAAA,GAAG,IAAI,SAAP;AACA,IAAA,OAAO,CAAC,IAAR,CACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAC,MADN;AAEE,MAAA,SAAS,EAAE,gBAAgB,OAAO,EAFpC;AAGE,MAAA,OAAO,EAAE,WAHX;AAGsB,mBACV,MAJZ;AAKE,MAAA,SAAS,EAAE,cAAc,GAAG;AAL9B,KAAA,EAOE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAA,kCAAA,CAPF,EAQE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAE,CAAC,CAAV;AAAa,MAAA,KAAK,EAAE,SAApB;AAA+B,MAAA,MAAM,EAAE,EAAvC;AAA2C,MAAA,EAAE,EAAE,CAA/C;AAAkD,MAAA,EAAE,EAAE;AAAtD,KAAA,CARF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,SAAS,EAAE,mBAAmB,OAAO,EAA3C;AAA+C,MAAA,CAAC,EAAE,SAAS,GAAG;AAA9D,KAAA,EAA+D,MAA/D,CATF,CADF;AAeA,IAAA,GAAG,IAAI,KAAP;AACD;;AACD,MAAI,aAAa,KAAK,IAAlB,IAA0B,aAAa,CAAC,IAAd,KAAuB,KAArD,EAA4D;AAC1D,IAAA,GAAG,IAAI,SAAP;AACA,IAAA,OAAO,CAAC,IAAR,CACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAC,MADN;AAEE,MAAA,SAAS,EAAE,gBAAgB,OAAO,EAFpC;AAGE,MAAA,OAAO,EAAE,WAHX;AAGsB,mBACV,MAJZ;AAKE,MAAA,SAAS,EAAE,cAAc,GAAG;AAL9B,KAAA,EAOE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAA,6BAAA,CAPF,EAQE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAE,CAAC,CAAV;AAAa,MAAA,KAAK,EAAE,SAApB;AAA+B,MAAA,MAAM,EAAE,EAAvC;AAA2C,MAAA,EAAE,EAAE,CAA/C;AAAkD,MAAA,EAAE,EAAE;AAAtD,KAAA,CARF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,SAAS,EAAE,mBAAmB,OAAO,EAA3C;AAA+C,MAAA,CAAC,EAAE,SAAS,GAAG;AAA9D,KAAA,EAA+D,MAA/D,CATF,CADF;AAeA,IAAA,GAAG,IAAI,KAAP;AACD;;AACD,MAAI,aAAa,KAAK,IAAlB,IAA0B,aAAa,CAAC,KAAd,KAAwB,KAAtD,EAA6D;AAC3D,IAAA,GAAG,IAAI,UAAP;AACA,IAAA,OAAO,CAAC,IAAR,CACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAC,OADN;AAEE,MAAA,SAAS,EAAE,gBAAgB,OAAO,EAFpC;AAGE,MAAA,OAAO,EAAE,WAHX;AAGsB,mBACV,OAJZ;AAKE,MAAA,SAAS,EAAE,cAAc,GAAG;AAL9B,KAAA,EAOE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAA,sBAAA,CAPF,EAQE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAE,CAAC,CAAV;AAAa,MAAA,KAAK,EAAE,UAApB;AAAgC,MAAA,MAAM,EAAE,EAAxC;AAA4C,MAAA,EAAE,EAAE,CAAhD;AAAmD,MAAA,EAAE,EAAE;AAAvD,KAAA,CARF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,SAAS,EAAE,mBAAmB,OAAO,EAA3C;AAA+C,MAAA,CAAC,EAAE,UAAU,GAAG;AAA/D,KAAA,EAAgE,OAAhE,CATF,CADF;AAeA,IAAA,GAAG,IAAI,KAAP;AACD;;AACD,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,iBAAiB,OAAO,EAAtC;AAA0C,IAAA,SAAS,EAAE;AAArD,GAAA,EACG,OADH,CADF;AAKF;ACpIA;;;;;;;;AAWA,MAAM,WAAW;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,WAAT,QAU5C;AAAA,MAVoE;AACpE,IAAA,OADoE;AAEpE,IAAA,CAFoE;AAGpE,IAAA,KAHoE;AAIpE,IAAA;AAJoE,GAUpE;AACA,SACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,SAAS,EAAE,aAAa,CAAC,KAD3B;AAEE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,MAFtB;AAGE,IAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,MAAjD;AAHjB,GAAA,EAKG,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAK;AAChB,QAAI,KAAK,GAAkB,IAA3B;;AACA,QAAI,UAAU,CAAC,CAAD,CAAd,EAAmB;AACjB,MAAA,KAAK,GAAG,CAAC,CAAC,GAAF,CAAM,WAAd;AACD,KAFD,MAEO,IAAI,WAAW,CAAC,CAAD,CAAf,EAAoB;AACzB,MAAA,KAAK,GAAG,CAAC,CAAC,KAAF,YAAmB,GAAnB,GAAyB,CAAC,CAAC,KAAF,CAAQ,IAAjC,GAAwC,CAAC,CAAC,KAAF,CAAQ,MAAxD;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe;AAAC,MAAA,GAAG,EAAE,CAAC,CAAC;AAAR,KAAf,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,MAAA,SAAS,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,EAAE;AAAtC,KAAA,EAA2C,MAA3C,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EACG,CAAC,CAAC,IADL,EAEG,KAAK,IAAI,IAAT,GAAgB,KAAK,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,KAAjB,CAAuB,EAA5C,GAAiD,EAFpD,CAFF,CADF;AASD,GAhBA,CALH,CADF;AAyBD,CApCkC,CAAnC;ACXA;;;;;;;AAsCA,MAAM,cAAc;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,cAAT,QAOlB;AAAA,MAP0C;AACvE,IAAA,GADuE;AAEvE,IAAA,OAFuE;AAGvE,IAAA,aAHuE;AAIvE,IAAA,MAJuE;AAKvE,IAAA,IALuE;AAMvE,IAAA;AANuE,GAO1C;AAC7B,QAAM,CAAC,GAAG,MAAM,KAAK,KAAX,IAAoB,MAAM,KAAK,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAAvD;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,gBAAgB,GAAG,GAAG,GAAG;AAAvC,GAAA,EACG,IAAI,IACH,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,GAAG,OADT;AAEE,IAAA,EAAE,EAAE,QAFN;AAGE,IAAA,SAAS,EAAE,IAAI,CACb,iBAAiB,KAAK,CAAC,EAAE,EADZ,EAEb,MAAM,KAAK,OAAX,GAAqB,aAAa,KAAK,CAAC,EAAE,EAA1C,GAA+C,WAAW,KAAK,CAAC,EAAE,EAFrD,EAGb,KAAK,CAAC,UAAN,CAAiB,QAHJ,CAHjB;AAQE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AARtB,GAAA,EAUG,IAVH,CAFJ,EAeE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,EAAE,EAAE,CAAC,GAAG,aAAd;AAA6B,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE;AAA5D,GAAA,CAfF,CADF;AAmBD,CA5BqC,CAAtC;AA8BA,MAAM,YAAY;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,YAAT,QAOhB;AAAA,MAPsC;AACnE,IAAA,GADmE;AAEnE,IAAA,IAFmE;AAGnE,IAAA,OAHmE;AAInE,IAAA,MAJmE;AAKnE,IAAA,aALmE;AAMnE,IAAA;AANmE,GAOtC;AAC7B,QAAM,CAAC,GAAG,MAAM,KAAK,KAAX,IAAoB,MAAM,KAAK,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAAvD;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,GAAG,GAAG,GAAG;AAApC,GAAA,EACG,IAAI,IACH,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,GAAG,OADT;AAEE,IAAA,EAAE,EAAE,MAAM,KAAK,KAAX,GAAmB,KAAnB,GAA2B,QAFjC;AAGE,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,QAA/C,CAHjB;AAIE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AAJtB,GAAA,EAMG,IANH,CAFJ,EAWE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,EAAE,EAAE,CAAC,GAAG,aAAd;AAA6B,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE;AAA5D,GAAA,CAXF,CADF;AAeD,CAxBmC,CAApC;;SA0BwB,I,QAUO;AAAA,MAVF;AAC3B,IAAA,KAD2B;AAE3B,IAAA,MAF2B;AAG3B,IAAA,aAAa,GAAG,CAHW;AAI3B,IAAA,aAAa,GAAG,CAJW;AAK3B,IAAA,WAAW,GAAG,CALa;AAM3B,IAAA,IAN2B;AAO3B,IAAA,KAP2B;AAQ3B,IAAA,KAR2B;AAS3B,IAAA;AAT2B,GAUE;AAC7B,QAAM,OAAO,GAAG,IAAI,CAAC,GAAL,CAAS,aAAT,EAAwB,CAAxB,IAA6B,WAA7C;AACA,QAAM,MAAM,GAAG,KAAf;AACA,QAAM,MAAM,GAAG,IAAf;AAEA,QAAM,CAAC,GAAG,MAAM,KAAK,KAAX,IAAoB,MAAM,KAAK,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAAvD;AACA,QAAM,IAAI,GAAG,MAAM,KAAK,MAAX,IAAqB,MAAM,KAAK,OAAhC,GAA0C,cAA1C,GAA2D,YAAxE;AAEA,QAAM,MAAM,GAAiD,KAAK,CAC/D,KAD0D,GAE1D,GAF0D,CAErD,CAAD,IAAQ,OAAO,CAAP,KAAa,QAAb,GAAwB;AAAE,IAAA,KAAK,EAAE,CAAT;AAAY,IAAA,KAAK,EAAE,MAAM,CAAC,CAAD;AAAzB,GAAxB,GAAyD,CAFX,CAA7D;AAIA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE;AAAd,GAAA,EACG,MAAM,CAAC,GAAP,CAAY,CAAD,IACV,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,GAAG,EAAE,CAAC,CAAC,KADJ;AAEH,IAAA,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,KAAH,CAFP;AAGH,IAAA,IAAI,EAAE,CAAC,CAAC,KAHL;AAIH,IAAA,OAAO,EAAE,OAJN;AAKH,IAAA,aAAa,EAAE,aALZ;AAMH,IAAA,MAAM,EAAE,MANL;AAOH,IAAA,KAAK,EAAE;AAPJ,GAAL,CADD,CADH,EAYE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE,EADjC;AAEE,IAAA,CAAC,EACC,MAAM,KAAK,MAAX,IAAqB,MAAM,KAAK,OAAhC,GACI,aAAa,GACX,IAAI,CAAC,GAAG,aAAa,IAAI,MAAM,QAAQ,MAAM,IAAI,CAAC,GAAG,aAAa,EADvD,GAEX,QAAQ,MAAM,IAAI,MAAM,EAH9B,GAII,aAAa,GACb,IAAI,MAAM,IAAI,CAAC,GAAG,aAAa,QAAQ,MAAM,IAAI,CAAC,GAAG,aAAa,EADrD,GAEb,IAAI,MAAM,QAAQ,MAAM;AAThC,GAAA,CAZF,CADF;AA2BF;AC/IA;;;;;;;;AAUA,MAAM,aAAa;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,aAAT,QAc/C;AAAA,MAdsE;AACrE,IAAA,KADqE;AAErE,IAAA,IAFqE;AAGrE,IAAA,EAHqE;AAIrE,IAAA,CAJqE;AAKrE,IAAA,KALqE;AAMrE,IAAA;AANqE,GActE;AACC,QAAM,GAAG,GAAG,MAAM,CAAkB,IAAlB,CAAlB;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,QAAQ,CAAW,OAAO,IAAP,KAAgB,QAAhB,GAA2B,CAAC,IAAD,CAA3B,GAAoC,EAA/C,CAAlC,CAFD,C;;AAKC,EAAA,eAAe,CAAC,MAAA;AACd,QAAI,OAAO,IAAP,KAAgB,QAApB,EAA8B;AAC5B,MAAA,QAAQ,CAAC,CAAC,IAAD,CAAD,CAAR;AACD,KAFD,MAEO;AACL,MAAA,QAAQ,CAAC,EAAD,CAAR;AACD;AACF,GANc,EAMZ,CAAC,IAAD,CANY,CAAf;AAQA,EAAA,eAAe,CAAC,MAAA;AACd,QACE,CAAC,GAAG,CAAC,OAAL,IACA,GAAG,CAAC,OAAJ,CAAY,iBAAZ,GAAgC,CADhC,IAEA,OAAO,IAAP,KAAgB,QAFhB,IAGA,OAAO,GAAG,CAAC,OAAJ,CAAY,qBAAnB,KAA6C,UAJ/C,EAKE;;AAEA;AACD;;AACD,UAAM,GAAG,GAAG,GAAG,CAAC,OAAJ,CAAY,qBAAZ,EAAZ;AACA,UAAM,KAAK,GAAa,EAAxB;AACA,QAAI,SAAS,GAAG,KAAhB;AACA,QAAI,KAAK,GAAG,CAAZ,CAbc,C;;AAed,UAAM,CAAC,GAAG,GAAG,CAAC,OAAJ,CAAY,sBAAZ,CAAmC,CAAnC,CAAV;;AACA,WAAO,GAAG,GAAG,SAAb,EAAwB;AACtB,MAAA,CAAC,CAAC,CAAF,GAAM,SAAN;AACA,YAAM,GAAG,GAAG,GAAG,CAAC,OAAJ,CAAY,oBAAZ,CAAiC,CAAjC,CAAZ;AACA,YAAM,KAAK,GAAG,IAAI,CAAC,WAAL,CAAiB,GAAjB,EAAsB,GAAtB,CAAd;;AACA,UAAI,KAAK,GAAG,KAAZ,EAAmB;AACjB;AACD;;AACD,MAAA,KAAK,CAAC,IAAN,CAAW,IAAI,CAAC,KAAL,CAAW,KAAX,EAAkB,KAAK,GAAG,CAA1B,CAAX;AACA,YAAM,IAAI,GAAG,GAAG,CAAC,OAAJ,CAAY,oBAAZ,CAAiC,KAAK,GAAG,CAAzC,EAA4C,CAAzD;AACA,MAAA,KAAK,GAAG,KAAK,GAAG,CAAhB,CATsB,C;;AAWtB,MAAA,SAAS,GAAG,IAAI,GAAG,KAAnB;AACD;;AACD,IAAA,KAAK,CAAC,IAAN,CAAW,IAAI,CAAC,KAAL,CAAW,KAAX,CAAX;AACA,IAAA,QAAQ,CAAC,KAAD,CAAR;AACD,GA/Bc,EA+BZ,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,CA/BY,CAAf;;AAiCA,MAAI,CAAC,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AACD,SACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,IAAA,GAAG,EAAE,GAAZ;AAAiB,IAAA,EAAE,EAAE,EAArB;AAAyB,IAAA,KAAK,EAAE,KAAhC;AAAuC,IAAA,CAAC,EAAE,CAA1C;AAA6C,IAAA,SAAS,EAAE;AAAxD,GAAA,EACG,KAAK,CAAC,MAAN,GAAe,CAAf,GACG,KAAK,CAAC,GAAN,CAAU,CAAC,CAAD,EAAI,CAAJ,KACR,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,IAAA,GAAG,EAAE,CAAZ;AAAe,IAAA,CAAC,EAAE,CAAlB;AAAqB,IAAA,EAAE,EAAE,CAAC,GAAG,CAAJ,GAAQ,OAAR,GAAkB;AAA3C,GAAA,EACG,CADH,CADF,CADH,GAMG,IAPN,CADF;AAWD,CA1EoC,CAArC;AA4EA,IAAA,UAAA;AAAe;AAAe,KAAK,CAAC,IAAN,CAAW,SAAS,UAAT,QAcvC;AAAA,MAd2D;AAC3D,IAAA,KAD2D;AAE3D,IAAA,gBAAgB,GAAG,KAFwC;AAG3D,IAAA;AAH2D,GAc3D;;AACA,MAAI,CAAC,KAAK,CAAC,KAAP,IAAgB,CAAC,KAAK,CAAC,WAA3B,EAAwC;AACtC,WAAO,IAAP;AACD;;AACD,SACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,IAAA,IAAI,EAAE,KAAK,CAAC,KADA;AAEZ,IAAA,KAAK,EAAE,KAFK;AAGZ,IAAA,EAAE,EAAC,MAHS;AAIZ,IAAA,SAAS,EAAE,IAAI,CAAC,kBAAkB,KAAK,CAAC,EAAE,EAA3B,EAA+B,KAAK,CAAC,UAAN,CAAiB,KAAhD,CAJH;AAKZ,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AALR,GAAd,CADF,EAQE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,IAAA,CAAC,EAAE,CADS;AAEZ,IAAA,KAAK,EAAE,gBAFK;AAGZ,IAAA,EAAE,EAAE,KAAK,CAAC,KAAN,GAAc,KAAd,GAAsB,MAHd;AAIZ,IAAA,IAAI,EAAE,KAAK,CAAC,WAJA;AAKZ,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,WAA/C,CALH;AAMZ,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AANR,GAAd,CARF,CADF;AAmBD,CArC6B,CAA9B;ACtFA;;;;;;;AAUA,SAAS,IAAT,GAAa;AACX,SAAO,SAAP;AACD;;SAEe,I,CAAQ,C,EAAmF;AACzG,MAAI,CAAC,CAAL,EAAQ;AACN,WAAO,IAAP;AACD;;AACD,SAAO,CAAC,GAAD,EAAmB,MAAnB,KAA2D;AAChE,WAAO,UAAqB,GAArB,EAA0C;AAC/C,aAAO,CAAC,CAAC,IAAF,CACL,IADK,EAEL,GAFK,EAGL,GAAG,CAAC,WAHC,EAIL,MAAM,CAAC,GAAP,CAAY,CAAD,IAAQ,CAAC,CAAC,mBAAF,GAAwB,CAAC,CAAC,mBAAF,CAAsB,GAAtB,CAAxB,GAAqD,IAAxE,CAJK,CAAP;AAMD,KAPD;AAQD,GATD;AAUD;;SAEe,sB,CAAuB,K,EAAe,O,EAAe;AACnE,MAAI,SAAS,GAAG,CAAhB;AACA,MAAI,QAAQ,GAAG,CAAf;AACA,SAAQ,KAAD,IAAuD;AAC5D,QAAI,CAAC,GAAG,CAAR;;AACA,QAAI,KAAK,CAAC,QAAN,KAAmB,QAAvB,EAAiC;AAC/B,MAAA,SAAS,IAAI,KAAK,CAAC,IAAN,GAAa,OAA1B;AACA,MAAA,CAAC,GAAG,CAAC,SAAL;AACD,KAHD,MAGO;AACL,MAAA,CAAC,GAAG,KAAK,GAAG,QAAR,GAAmB,OAAvB;AACA,MAAA,QAAQ,IAAI,KAAK,CAAC,IAAN,GAAa,OAAzB;AACD;;AACD,WAAO,CAAP;AACD,GAVD;AAWD;;SAEe,U,CAAW,K,EAA6B,K,EAA6B;AAAA,MAAb,IAAa,uEAAN,MAAM;;AACnF,MAAI,CAAC,KAAL,EAAY;AACV,WAAO,KAAP;AACD;;AACD,MAAI,CAAC,KAAL,EAAY;AACV,WAAO,CAAC,KAAD,GAAS,SAAT,GAAqB;AAAE,OAAC,IAAD,GAAQ;AAAV,KAA5B;AACD;;AACD,SAAO,MAAM,CAAC,MAAP,CAAc;AAAE,KAAC,IAAD,GAAQ;AAAV,GAAd,EAAiC,KAAjC,CAAP;AACF;ACtDA;;;;;;;;AAsBA,MAAM,SAAS;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,SAAT,QAA8D;AAAA,MAAxC;AAAE,IAAA,IAAF;AAAQ,IAAA,KAAR;AAAe,IAAA;AAAf,GAAwC;AACxG,QAAM,SAAS,GAAG,sBAAsB,CAAC,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,MAAL,CAAY,CAA1B,GAA8B,IAAI,CAAC,EAAL,CAAQ,CAAvC,EAA0C,IAAI,CAAC,IAAL,CAAU,YAApD,CAAxC;AACA,QAAM,iBAAiB,GAAG,sBAAsB,CAAC,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,IAAI,CAAC,IAAL,CAAU,CAAvB,EAA0B,IAAI,CAAC,EAAL,CAAQ,YAAlC,CAAhD;AACA,QAAM,YAAY,GAAG,KAAK,CAAC,EAAN,CAAS,MAAT,KAAoB,MAApB,GAA6B,IAAI,CAAC,EAAL,CAAQ,WAArC,GAAmD,KAAK,CAAC,EAAN,CAAS,MAAjF;AACA,QAAM,aAAa,GAAG,KAAK,CAAC,IAAN,CAAW,MAAX,KAAsB,MAAtB,GAA+B,IAAI,CAAC,IAAL,CAAU,WAAzC,GAAuD,KAAK,CAAC,IAAN,CAAW,MAAxF;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,YAAZ,GAA2B;AAAjD,GAAX,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAL,CAAQ,CAAC,IAAI,IAAI,CAAC,EAAL,CAAQ,CAAC,GAAjD;AAAoD,kBAAa;AAAjE,GAAA,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAhB;AAAmB,IAAA,MAAM,EAAC,MAA1B;AAAiC,IAAA,IAAI,EAAE,IAAI,CAAC,EAAL,CAAQ,CAA/C;AAAkD,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,IAAI,CAAC,EAAL,CAAQ,UAA7E;AAAyF,IAAA,KAAK,EAAE;AAAhG,GAAL,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,EAAE,EAAE,CAAV;AAAa,IAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAzB;AAA4B,IAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,CAA5C;AAA+C,IAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,CAA/D;AAAkE,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE;AAAjG,GAAA,CAFF,EAGE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,UAAjD,CADjB;AAEE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,UAFtB;AAGE,IAAA,SAAS,EAAE,aAAa,CAAC,YAAY,KAAK,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,CAAC;AAHzD,GAAA,EAKG,KAAK,CAAC,EAAN,CAAS,IALZ,CAHF,EAUG,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAoB,KAAD,IAAM;AACxB,UAAM,GAAG,GAAG,iBAAiB,CAAC,KAAD,CAA7B;AACA,UAAM,KAAK,GACT,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,KAAK,CAAC,IADb;AAEE,MAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,UAAjD,CAFjB;AAGE,MAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,UAHtB;AAIE,MAAA,SAAS,EAAE,aAAa,CAAC,YAAY,KAAK,GAAG,GAAG,KAAK,CAAC,IAAN,GAAa,CAAC;AAJhE,KAAA,EAMG,KAAK,CAAC,IANT,CADF;;AAUA,QAAI,CAAC,KAAK,CAAC,KAAX,EAAkB;AAChB,aAAO,KAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe;AAAC,MAAA,GAAG,EAAE,KAAK,CAAC;AAAZ,KAAf,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,KAAK,CAAC,KADV;AAEH,MAAA,MAAM,EAAC,MAFJ;AAGH,MAAA,IAAI,EAAE,KAAK,CAAC,IAHT;AAIH,MAAA,KAAK,EAAE,CAJJ;AAKH,MAAA,KAAK,EAAE,KALJ;AAMH,MAAA,SAAS,EAAE,eAAe,GAAG;AAN1B,KAAL,CADF,EASG,KATH,CADF;AAaD,GA5BA,CAVH,CAFF,EA0CE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAC,IAAI,IAAI,CAAC,IAAL,CAAU,CAAC,GAArD;AAAwD,kBAAa;AAArE,GAAA,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,IAAA,KAAK,EAAE,IAAI,CAAC,IAAL,CAAU,CADd;AAEH,IAAA,MAAM,EAAC,QAFJ;AAGH,IAAA,IAAI,EAAE,IAAI,CAAC,IAAL,CAAU,CAHb;AAIH,IAAA,KAAK,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,IAAL,CAAU,UAJ5B;AAKH,IAAA,SAAS,EAAE,gBAAgB,IAAI,CAAC,IAAL,CAAU,CAAC,GALnC;AAMH,IAAA,KAAK,EAAE;AANJ,GAAL,CADF,EASE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,UAAjD,CADjB;AAEE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,UAFtB;AAGE,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,CAAC,KAAK,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,aAAa;AAHzE,GAAA,EAKG,KAAK,CAAC,IAAN,CAAW,IALd,CATF,EAgBG,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,GAAjB,CAAsB,KAAD,IAAM;AAC1B,UAAM,GAAG,GAAG,SAAS,CAAC,KAAD,CAArB;AACA,UAAM,KAAK,GACT,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,KAAK,CAAC,IADb;AAEE,MAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,UAAjD,CAFjB;AAGE,MAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,UAHtB;AAIE,MAAA,SAAS,EAAE,aAAa,GAAG,GAAG,KAAK,CAAC,IAAN,GAAa,CAAC,KAAK,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,aAAa;AAJ9E,KAAA,EAMG,KAAK,CAAC,IANT,CADF;;AAUA,QAAI,CAAC,KAAK,CAAC,KAAX,EAAkB;AAChB,aAAO,KAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe;AAAC,MAAA,GAAG,EAAE,KAAK,CAAC;AAAZ,KAAf,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,MAAA,KAAK,EAAE,KAAK,CAAC,KADV;AAEH,MAAA,MAAM,EAAC,QAFJ;AAGH,MAAA,IAAI,EAAE,KAAK,CAAC,IAHT;AAIH,MAAA,KAAK,EAAE,CAJJ;AAKH,MAAA,SAAS,EAAE,aAAa,GAAG,KAAK,IAAI,CAAC,IAAL,CAAU,CAAC,GALxC;AAMH,MAAA,KAAK,EAAE;AANJ,KAAL,CADF,EASG,KATH,CADF;AAaD,GA5BA,CAhBH,CA1CF,CADF;AA2FD,CAhGgC,CAAjC;ACtBA;;;;;;;AAUA,MAAM,QAAQ;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,QAAT,SAgBzC;AAAA,MAhB2D;AAC3D,IAAA,EAD2D;AAE3D,IAAA,CAF2D;AAG3D,IAAA,EAH2D;AAI3D,IAAA,IAJ2D;AAK3D,IAAA,SAL2D;AAM3D,IAAA,KAN2D;AAO3D,IAAA;AAP2D,GAgB3D;AACA,SACE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,CAAC,EAAE,CAAX;AAAc,IAAA,EAAE,EAAE,EAAlB;AAAsB,IAAA,EAAE,EAAE,EAA1B;AAA8B,IAAA,SAAS,EAAE,SAAzC;AAAoD,IAAA,KAAK,EAAE,UAAU,CAAC,KAAD,EAAQ,IAAR;AAArE,GAAA,EACG,IAAI,IAAI,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,IAAR,CADX,CADF;AAKD,CAtB+B,CAAhC;ACVA;;;;;;;SAkBgB,qB,CAAsB,K,EAAe,G,EAAa,K,EAA4B;AAC5F,QAAM,MAAM,GAAG,CAAC,KAAK,CAAC,KAAD,CAAN,CAAf;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,uBAAuB,CAAC,MAA5B,IAAsC,KAAK,GAAG,GAA9D,EAAmE,CAAC,EAApE,EAAwE;AACtE,IAAA,KAAK,IAAI,GAAT;AACA,IAAA,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,KAAD,CAAjB;AACD;;AACD,SAAO,MAAP;AACD;;AAWD,MAAM,gBAAgB;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,gBAAT,SAQxB;AAAA,MARqD;AAC9E,IAAA,CAD8E;AAE9E,IAAA,CAF8E;AAG9E,IAAA,SAH8E;AAI9E,IAAA,IAJ8E;AAK9E,IAAA,IAL8E;AAM9E,IAAA,KAN8E;AAO9E,IAAA;AAP8E,GAQrD;AACzB,QAAM,OAAO,GAAG,qBAAqB,CAAC,CAAC,CAAC,WAAH,EAAgB,IAAI,CAAC,EAAL,CAAQ,GAAxB,EAA6B,IAAI,CAAC,EAAL,CAAQ,CAArC,CAArC;AAEA,QAAM,WAAW,GAAG,sBAAsB,CAAC,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,IAAI,CAAC,IAAL,CAAU,CAAvB,EAA0B,IAAI,CAAC,EAAL,CAAQ,YAAlC,CAA1C;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAY,MADtC;AAEE,IAAA,YAAY,EAAE,CAAC,CAAC,YAAF,CAAe,CAAf,EAAkB,IAAI,CAAC,EAAL,CAAQ,MAA1B,CAFhB;AAGE,IAAA,YAAY,EAAE,CAAC,CAAC,YAHlB;AAIE,IAAA,OAAO,EAAE,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,IAAI,CAAC,EAAL,CAAQ,MAArB,CAJX;AAKE,IAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,CAAhB,EAAmB,IAAI,CAAC,EAAL,CAAQ,MAA3B,CALjB;AAME,IAAA,WAAW,EAAE,CAAC,CAAC,WAAF,CAAc,CAAd,EAAiB,IAAI,CAAC,EAAL,CAAQ,MAAzB,CANf;AAOE,IAAA,SAAS,EAAE,SAPb;AAOsB,wBACF,CAAC,CAAC;AARtB,GAAA,EAUG,KAAK,CAAC,QAAN,IACC,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EACG,CAAC,CAAC,IADL,E,IAAA,EACa,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,CAAC,CAAC,WAAjB,CADb,CAXJ,EAeE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,IAAI,CAAC,EAAL,CAAQ,MADd;AAEE,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,SAFjB;AAGE,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,EAAL,CAAQ,CAAtB,GAA0B,IAAI,CAAC,EAAL,CAAQ,MAAlC,GAA2C,IAAI,CAAC,EAAL,CAAQ,KAH7D;AAIE,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE;AAJjC,GAAA,CAfF,EAqBG,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAK;AAChB,UAAM,MAAM,GAAG,CAAC,GAAG,CAAJ,GAAQ,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,EAAL,CAAQ,SAAR,GAAoB,uBAAuB,CAAC,CAAC,GAAG,CAAL,CAAtD,CAAR,GAAyE,CAAxF;AACA,WACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,CAAC,EAAE,MAFL;AAGE,MAAA,CAAC,EAAE,CAHL;AAIE,MAAA,MAAM,EAAE,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,CAJtB;AAKE,MAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,SAAR,GAAoB,MAAM,GAAG,CALtC;AAME,MAAA,SAAS,EAAE,IAAI,CACb,eAAe,KAAK,CAAC,EAAE,EADV,EAEb,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArB,IAA0B,eAAe,OAAO,CAAC,MAAR,GAAiB,CAAjB,GAAqB,CAAC,IAAI,KAAK,CAAC,EAAE,EAF9D,EAGb,KAAK,CAAC,UAAN,CAAiB,GAHJ,CANjB;AAWE,MAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,CAAC,KAArB;AAXnB,KAAA,CADF;AAeD,GAjBA,CArBH,EAuCE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,OAAO,CAAC,CAAD,CAAP,GAAa,KAAK,CAAC,cADxB;AAEE,IAAA,CAAC,EAAE,IAAI,CAAC,EAAL,CAAQ,SAAR,GAAoB,CAFzB;AAGE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,QAHtB;AAIE,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,QAA/C;AAJjB,GAAA,EAMG,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,CAAC,CAAC,WAAjB,CANH,CAvCF,EA+CE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,KAAK,CAAC,cAAP,GAAwB,IAAI,CAAC,EAAL,CAAQ,MADrC;AAEE,IAAA,CAAC,EAAE,IAAI,CAAC,EAAL,CAAQ,SAAR,GAAoB,CAFzB;AAGE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,QAHtB;AAIE,IAAA,SAAS,EAAE,IAAI,CAAC,qBAAqB,KAAK,CAAC,EAAE,EAA9B,EAAkC,KAAK,CAAC,UAAN,CAAiB,QAAnD;AAJjB,GAAA,EAMG,CAAC,CAAC,IANL,CA/CF,EAuDG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KAAK;AACpB,QAAI,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAJ,EAAuB;;AAErB,aAAO,IAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AACP,MAAA,GAAG,EAAE,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,CAAf,CADE;AAEP,MAAA,CAAC,EAAE,IAAI,CAAC,CAFD;AAGP,MAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,EAHL;AAIP,MAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,IAAkB,IAAI,CAAC,IAAL,CAAU,EAJzB;AAKP,MAAA,IAAI,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC,IAAnB,GAA0B,EALzB;AAMP,MAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,GANb;AAOP,MAAA,IAAI,EAAE,SAPC;AAQP,MAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,GAA/C;AARR,KAAT,CADF;AAYD,GAjBA,CAvDH,EAyEG,CAAC,CAAC,IAAF,CAAO,IAAP,GAAc,CAAd,IACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,EADd;AAEE,IAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAZ,CAAkB,CAAD,IAAO,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAxB,CAAZ,IAA4D,IAAI,CAAC,IAAL,CAAU,EAAtE,IAA4E,IAAI,CAAC,CAAL,GAAS,CAArF,CAFN;AAGE,IAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,EAHd;AAIE,IAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAI,CAAC,IAAL,CAAU,EAAV,CAAa,IAAb,CAAmB,CAAD,IAAO,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAzB,CAAZ,IAA6D,IAAI,CAAC,IAAL,CAAU,EAAvE,IAA6E,IAAI,CAAC,CAAL,GAAS,CAAtF,CAJN;AAKE,IAAA,KAAK,EAAE,CAAC,CAAC,KAAF,GAAU;AAAE,MAAA,MAAM,EAAE,CAAC,CAAC;AAAZ,KAAV,GAAgC,SALzC;AAME,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAE;AANjC,GAAA,CA1EJ,EAmFG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KAAK;;;AACpB,QAAI,CAAC,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAL,EAAwB;;AAEtB,aAAO,IAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AACP,MAAA,GAAG,EAAE,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,CAAf,CADE;AAEP,MAAA,CAAC,EAAE,IAAI,CAAC,CAFD;AAGP,MAAA,EAAE,EAAE,IAAI,CAAC,EAAL,CAAQ,EAHL;AAIP,MAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,IAAkB,IAAI,CAAC,IAAL,CAAU,EAJzB;AAKP,MAAA,IAAI,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC,IAAnB,GAA0B,EALzB;AAMP,MAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,GANb;AAOP,MAAA,IAAI,EAAA,CAAA,EAAA,GAAE,CAAC,CAAC,KAAJ,MAAS,IAAT,IAAS,EAAA,KAAA,KAAA,CAAT,GAAS,EAAT,GAAa,CAAC,CAAC,KAPZ;AAQP,MAAA,SAAS,EAAE,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE,EAAxB,EAA4B,KAAK,CAAC,UAAN,CAAiB,GAA7C;AARR,KAAT,CADF;AAYD,GAjBA,CAnFH,EAqGG,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAoB,KAAD,IAClB,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,GAAG,EAAE,KAAK,CAAC,IAAd;AAAoB,IAAA,SAAS,EAAE,eAAe,WAAW,CAAC,KAAD,CAAO;AAAhE,GAAA,EACG,KAAK,CAAC,MAAN,CAAa;AAAE,IAAA,GAAG,EAAE,CAAP;AAAU,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,SAAzB;AAAoC,IAAA,MAAM,EAAE,KAAK,CAAC,IAAlD;AAAwD,IAAA,KAAK,EAAE,KAAK,CAAC;AAArE,GAAb,CADH,CADD,CArGH,EA0GG,QA1GH,CADF;AA8GD,CA1HuC,CAAxC;ACpCA;;;;;;;AA4BA,MAAM,QAAQ;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,QAAT,SASxB;AAAA,MAT6C;AAC9D,IAAA,CAD8D;AAE9D,IAAA,CAF8D;AAG9D,IAAA,CAH8D;AAI9D,IAAA,SAJ8D;AAK9D,IAAA,IAL8D;AAM9D,IAAA,IAN8D;AAO9D,IAAA,KAP8D;AAQ9D,IAAA;AAR8D,GAS7C;AACjB,QAAM,OAAO,GAAG,qBAAqB,CAAC,CAAC,CAAC,WAAH,EAAgB,IAAI,CAAC,IAAL,CAAU,GAA1B,EAA+B,IAAI,CAAC,IAAL,CAAU,CAAzC,CAArC;AACA,QAAM,WAAW,GAAG,sBAAsB,CAAC,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,MAAL,CAAY,CAA1B,GAA8B,IAAI,CAAC,EAAL,CAAQ,CAAvC,EAA0C,IAAI,CAAC,IAAL,CAAU,YAApD,CAA1C;AACA,QAAM,YAAY,GAChB,KAAK,CAAC,iBAAN,KAA4B,QAA5B,GACI,IAAI,CAAC,MAAL,CAAY,CAAZ,GAAgB,CADpB,GAEI,KAAK,CAAC,iBAAN,KAA4B,MAA5B,GACA,CADA,GAEA,IAAI,CAAC,MAAL,CAAY,CAAZ,GAAgB,CALtB;AAMA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,IAAA,SAAS,EAAE,gBAAgB,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,CAAc,GAD3C;AAEE,IAAA,YAAY,EAAE,CAAC,CAAC,YAAF,CAAe,CAAf,EAAkB,IAAI,CAAC,IAAL,CAAU,MAA5B,CAFhB;AAGE,IAAA,YAAY,EAAE,CAAC,CAAC,YAHlB;AAIE,IAAA,OAAO,EAAE,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,IAAI,CAAC,IAAL,CAAU,MAAvB,CAJX;AAKE,IAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,CAAhB,EAAmB,IAAI,CAAC,IAAL,CAAU,MAA7B,CALjB;AAME,IAAA,WAAW,EAAE,CAAC,CAAC,WAAF,CAAc,CAAd,EAAiB,IAAI,CAAC,IAAL,CAAU,MAA3B,CANf;AAOE,IAAA,SAAS,EAAE,SAPb;AAOsB,wBACF,CAAC,CAAC;AARtB,GAAA,EAUG,KAAK,CAAC,QAAN,IACC,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EACG,CAAC,CAAC,IADL,E,IAAA,EACa,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,CAAC,CAAC,WAAnB,CADb,CAXJ,EAeE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,IAAI,CAAC,IAAL,CAAU,MADhB;AAEE,IAAA,KAAK,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,MAAL,CAAY,CAA1B,GAA8B,IAAI,CAAC,EAAL,CAAQ,CAAtC,GAA0C,IAAI,CAAC,IAAL,CAAU,KAF7D;AAGE,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,SAHpB;AAIE,IAAA,SAAS,EAAE,YAAY,KAAK,CAAC,EAAE;AAJjC,GAAA,CAfF,EAqBG,CAAC,GAAG,CAAJ,KAAU,CAAV,IACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,CAAU,CADf;AAEE,IAAA,KAAK,EAAE,IAAI,CAAC,MAAL,CAAY,CAAZ,GAAgB,IAAI,CAAC,EAAL,CAAQ,CAAxB,GAA4B,IAAI,CAAC,IAAL,CAAU,KAF/C;AAGE,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,SAHpB;AAIE,IAAA,SAAS,EAAE,mBAAmB,KAAK,CAAC,EAAE;AAJxC,GAAA,CAtBJ,EA6BG,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAK;AAChB,UAAM,MAAM,GAAG,CAAC,GAAG,CAAJ,GAAQ,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,uBAAuB,CAAC,CAAC,GAAG,CAAL,CAAxD,CAAR,GAA2E,CAA1F;AACA,WACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,CAAC,EAAE,CAFL;AAGE,MAAA,CAAC,EAAE,MAHL;AAIE,MAAA,KAAK,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,CAJvB;AAKE,MAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,MAAM,GAAG,CALzC;AAME,MAAA,SAAS,EAAE,IAAI,CACb,eAAe,KAAK,CAAC,EAAE,EADV,EAEb,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArB,IAA0B,eAAe,OAAO,CAAC,MAAR,GAAiB,CAAjB,GAAqB,CAAC,IAAI,KAAK,CAAC,EAAE,EAF9D,EAGb,KAAK,CAAC,UAAN,CAAiB,GAHJ,CANjB;AAWE,MAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,CAAC,KAArB;AAXnB,KAAA,CADF;AAeD,GAjBA,CA7BH,EA+CE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,OAAO,CAAC,CAAD,CADZ;AAEE,IAAA,EAAE,EAAE,CAAC,KAAK,CAAC,cAFb;AAGE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,CAH3B;AAIE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,QAJtB;AAKE,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,QAA/C;AALjB,GAAA,EAOG,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,CAAC,CAAC,WAAnB,CAPH,CA/CF,EAwDE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,YADnB;AAEE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,CAF3B;AAGE,IAAA,SAAS,EAAE,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE,EAAzB,EAA6B,KAAK,CAAC,UAAN,CAAiB,QAA9C,CAHjB;AAIE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,QAJtB;AAKE,IAAA,QAAQ,EAAE,aAAa,IAAI,CAAC,EAAE;AALhC,GAAA,EAOG,CAAC,CAAC,IAPL,CAxDF,EAiEG,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,GAAjB,CAAsB,KAAD,IACpB,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,GAAG,EAAE,KAAK,CAAC,IAAd;AAAoB,IAAA,SAAS,EAAE,aAAa,WAAW,CAAC,KAAD,CAAO;AAA9D,GAAA,EACG,KAAK,CAAC,MAAN,CAAa;AAAE,IAAA,GAAG,EAAE,CAAP;AAAU,IAAA,KAAK,EAAE,KAAK,CAAC,IAAvB;AAA6B,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,SAA/C;AAA0D,IAAA,KAAK,EAAE,KAAK,CAAC;AAAvE,GAAb,CADH,CADD,CAjEH,EAsEG,QAtEH,CADF;AA0ED,CA5F+B,CAAhC;AC5BA;;;;;;;AAyBA,MAAM,UAAU;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,UAAT,SAOxB;AAAA,MAP+C;AAClE,IAAA,IADkE;AAElE,IAAA,IAFkE;AAGlE,IAAA,KAHkE;AAIlE,IAAA,CAJkE;AAKlE,IAAA,kBALkE;AAMlE,IAAA;AANkE,GAO/C;AACnB,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,CAAC,CAAC,QAAF,GAAa,aAAa,KAAK,CAAC,EAAE,EAAlC,GAAuC;AAArD,GAAA,EACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAC,IAAI,IAAI,CAAC,IAAL,CAAU,CAAC,GAArD;AAAwD,kBAAa;AAArE,GAAA,EACG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KACf,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AACP,IAAA,GAAG,EAAE,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,CAAf,CADE;AAEP,IAAA,CAAC,EAAE,CAFI;AAGP,IAAA,CAAC,EAAE,CAHI;AAIP,IAAA,CAAC,EAAE,CAJI;AAKP,IAAA,SAAS,EAAE,CAAC,CAAC,QAAF,IAAc,CAAC,CAAC,QAAhB,GAA2B,eAAe,KAAK,CAAC,EAAE,EAAlD,GAAuD,SAL3D;AAMP,IAAA,IAAI,EAAE,IANC;AAOP,IAAA,KAAK,EAAE,KAPA;AAQP,IAAA,IAAI,EAAE;AARC,GAAT,EAUG,kBAAkB,IAAI,kBAAkB,CAAC,CAAD,CAV3C,CADD,CADH,CADF,EAkBE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAL,CAAQ,CAAC,IAAI,IAAI,CAAC,EAAL,CAAQ,CAAC,GAAjD;AAAoD,kBAAa;AAAjE,GAAA,EACG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,GAAV,CAAc,CAAC,CAAD,EAAI,CAAJ,KACb,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,IAAA,GAAG,EAAE,IAAI,CAAC,EAAL,CAAQ,IAAR,CAAa,CAAb,CADU;AAEf,IAAA,CAAC,EAAE,CAFY;AAGf,IAAA,CAAC,EAAE,CAHY;AAIf,IAAA,SAAS,EAAE,CAAC,CAAC,QAAF,IAAc,CAAC,CAAC,QAAhB,GAA2B,eAAe,KAAK,CAAC,EAAE,EAAlD,GAAuD,SAJnD;AAKf,IAAA,IAAI,EAAE,IALS;AAMf,IAAA,KAAK,EAAE,KANQ;AAOf,IAAA,IAAI,EAAE;AAPS,GAAjB,EASG,0BAA0B,IAAI,0BAA0B,CAAC,CAAD,CAT3D,CADD,CADH,CAlBF,CADF;AAoCD,CA5CiC,CAAlC;ACzBA;;;;;;;AAkBA,SAAS,yBAAT,SAsBE;AAAA,MAtBoC;AACpC,IAAA,IADoC;AAEpC,IAAA,IAFoC;AAGpC,IAAA,KAHoC;AAIpC,IAAA,WAJoC;AAKpC,IAAA,SALoC;AAMpC,IAAA,OANoC;AAOpC,IAAA,MAPoC;AAQpC,IAAA,SARoC;AASpC,IAAA,KAToC;AAUpC,IAAA;AAVoC,GAsBpC;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,EAAL,CAAQ,SAAtB;AACA,QAAM,WAAW,GAAG,IAAI,CAAC,EAAL,CAAQ,CAAR,GAAY,IAAI,CAAC,IAAL,CAAU,CAA1C;AACA,QAAM,MAAM,GAAG,IAAI,CAAC,EAAL,CAAQ,CAAvB;AACA,QAAM,SAAS,GAAG,IAAI,CAAC,OAAO,MAAM,EAAd,EAAkB,CAAC,OAAD,IAAY,SAAS,KAAK,CAAC,EAAE,EAA/C,EAAmD,KAAK,CAAC,UAAN,CAAiB,GAApE,CAAtB;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,SAAd;AAAuB,kBAAc,SAAS,GAAG,MAAH,GAAY;AAA1D,GAAA,EACG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,GAAV,CAAc,CAAC,CAAD,EAAI,CAAJ,KAAK;AAClB,UAAM,CAAC,GAAG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAV;AACA,UAAM,GAAG,GAAG,IAAI,CAAC,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAZ;;AACA,QAAI,KAAK,IAAI,CAAC,SAAd,EAAyB;AACvB,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,QAAA,GAAG,EAAE,GADP;AAEE,QAAA,CAAC,EAAE,CAFL;AAGE,QAAA,CAAC,EAAE,MAHL;AAIE,QAAA,MAAM,EAAE,CAJV;AAKE,QAAA,KAAK,EAAE,KALT;AAME,QAAA,SAAS,EAAE,SANb;AAOE,QAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAPnB,OAAA,EASG,OAAO,IAAI,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,CATd,CADF;AAaD;;AACD,UAAM,CAAC,GAAG,WAAW,CAAC,CAAD,CAArB;;AACA,QAAI,CAAC,KAAK,CAAV,EAAa;AACX,aAAO,IAAP;AACD;;AACD,UAAM,OAAO,GAAG,qBAAqB,CAAC,CAAD,EAAI,IAAI,CAAC,EAAL,CAAQ,GAAZ,EAAiB,IAAI,CAAC,EAAL,CAAQ,CAAzB,CAArC;AAEA,UAAM,KAAK,GAAG,OAAO,IAAI,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,GAAG,CAAC,CAAC,IAAI,MAAM,OAAO,KAAK,CAAC,EAApC,CAAzB;AACA,UAAM,OAAO,GAAG,SAAS,GACvB,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,GADP;AAEE,MAAA,SAAS,EAAE,aAAa,CAAC,KAAK,OAAO,CAAC,CAAD,CAAG,GAF1C;AAGE,MAAA,CAAC,EAAE,UAAU,KAAK,YAAY,CAAC,KAAK,QAAQ,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,MACjF,IAAI,CAAC,YACP,IAAI,IAAI,CAAC,YAAY,IALvB;AAME,MAAA,SAAS,EAAE,SANb;AAMsB,gBACZ,CAPV;AAOW,0BACS,CARpB;AASE,MAAA,KAAK,EAAE,UAAU,CAAC,SAAD,EAAY,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAA9C;AATnB,KAAA,EAWG,KAXH,CADuB,GAevB,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAK;AACf,YAAM,MAAM,GAAG,CAAC,GAAG,CAAJ,GAAQ,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,EAAL,CAAQ,SAAR,GAAoB,uBAAuB,CAAC,CAAC,GAAG,CAAL,CAAtD,CAAR,GAAyE,CAAxF;AACA,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,QAAA,GAAG,EAAE,CADP;AAEE,QAAA,CAAC,EAAE,CAAC,GAAG,MAFT;AAGE,QAAA,CAAC,EAAE,CAHL;AAIE,QAAA,MAAM,EAAE,MAAM,GAAG,CAJnB;AAKE,QAAA,KAAK,EAAE,KAAK,GAAG,MAAM,GAAG,CAL1B;AAK2B,kBACjB,CAAC,GAAG,CAAJ,GAAQ,IAAR,GAAe,CANzB;AAM0B,4BACN,CAAC,GAAG,CAAJ,GAAQ,IAAR,GAAe,CAPnC;AAQE,QAAA,SAAS,EAAE,IAAI,CACb,SADa,EAEb,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArB,IAA0B,eAAe,OAAO,CAAC,MAAR,GAAiB,CAAjB,GAAqB,CAAC,IAAI,KAAK,CAAC,EAAE,EAF9D,CARjB;AAYE,QAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAZnB,OAAA,EAcG,KAdH,CADF;AAkBD,KApBD,CAfF;AAsCA,UAAM,WAAW,GAAG,sBAAsB,CAAC,WAAD,EAAc,IAAI,CAAC,EAAL,CAAQ,YAAtB,CAA1C;AACA,UAAM,MAAM,GAAG,iBAAiB,CAC7B,GADY,CACP,KAAD,IAAM;AACT,YAAM,CAAC,GAAG,WAAW,CAAC,KAAD,CAArB;AACA,YAAM,OAAO,GAAG,KAAK,CAAC,MAAN,CAAa;AAAE,QAAA,GAAG,EAAE,CAAP;AAAU,QAAA,KAAV;AAAiB,QAAA,MAAM,EAAE,KAAK,CAAC,IAA/B;AAAqC,QAAA,KAAK,EAAE,KAAK,CAAC;AAAlD,OAAb,CAAhB;;AACA,UAAI,CAAC,OAAL,EAAc;AACZ,eAAO,IAAP;AACD;;AACD,aACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,QAAA,GAAG,EAAE,KAAK,CAAC,IAAd;AAAoB,QAAA,SAAS,EAAE,aAAa,CAAC,IAAI,CAAC;AAAlD,OAAA,EACG,OADH,CADF;AAKD,KAZY,EAaZ,MAbY,CAaL,OAbK,CAAf;;AAeA,QAAI,MAAM,CAAC,MAAP,KAAkB,CAAtB,EAAyB;AACvB,aAAO,OAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,MAAA,GAAG,EAAE;AAAR,KAAA,EACG,OADH,EAEG,MAFH,CADF;AAMD,GAxFA,CADH,CADF;AA6FF;AC1IA;;;;;;;;AAkBA,SAAS,iBAAT,SAsBE;AAAA,MAtB4B;AAC5B,IAAA,IAD4B;AAE5B,IAAA,IAF4B;AAG5B,IAAA,KAH4B;AAI5B,IAAA,WAJ4B;AAK5B,IAAA,MAL4B;AAM5B,IAAA,SAN4B;AAO5B,IAAA,KAP4B;AAQ5B,IAAA,OAR4B;AAS5B,IAAA,SAT4B;AAU5B,IAAA;AAV4B,GAsB5B;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,IAAL,CAAU,CAAxB;AACA,QAAM,UAAU,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,MAAL,CAAY,CAA1B,GAA8B,IAAI,CAAC,EAAL,CAAQ,CAAzD;AACA,QAAM,MAAM,GAAG,IAAI,CAAC,IAAL,CAAU,SAAzB;AACA,QAAM,SAAS,GAAG,IAAI,CAAC,OAAO,MAAM,EAAd,EAAkB,CAAC,OAAD,IAAY,UAAU,KAAK,CAAC,EAAE,EAAhD,EAAoD,KAAK,CAAC,UAAN,CAAiB,GAArE,CAAtB;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,SAAd;AAAuB,kBAAc,SAAS,GAAG,QAAH,GAAc;AAA5D,GAAA,EACG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KAAK;AACpB,UAAM,CAAC,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,CAAV;AACA,UAAM,GAAG,GAAG,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,CAAf,CAAZ;;AACA,QAAI,KAAK,IAAI,CAAC,SAAd,EAAyB;AACvB,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,QAAA,GAAG,EAAE,GADP;AAEE,QAAA,CAAC,EAAE,KAFL;AAGE,QAAA,CAAC,EAAE,CAHL;AAIE,QAAA,KAAK,EAAE,CAJT;AAKE,QAAA,MAAM,EAAE,MALV;AAME,QAAA,SAAS,EAAE,SANb;AAOE,QAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAPnB,OAAA,EASG,KAAK,CAAC,QAAN,IAAkB,OAAlB,IAA6B,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,CAThC,CADF;AAaD;;AACD,UAAM,CAAC,GAAG,WAAW,CAAC,CAAD,CAArB;;AACA,QAAI,CAAC,KAAK,CAAV,EAAa;AACX,aAAO,IAAP;AACD;;AACD,UAAM,OAAO,GAAG,qBAAqB,CAAC,CAAD,EAAI,IAAI,CAAC,IAAL,CAAU,GAAd,EAAmB,IAAI,CAAC,IAAL,CAAU,CAA7B,CAArC;AACA,UAAM,KAAK,GAAG,KAAK,CAAC,QAAN,IAAkB,OAAlB,IAA6B,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,GAAG,CAAC,CAAC,IAAI,MAAM,OAAO,KAAK,CAAC,EAApC,CAA3C;AAEA,UAAM,OAAO,GAAG,SAAS,GACvB,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,GADP;AAEE,MAAA,SAAS,EAAE,aAAa,OAAO,CAAC,CAAD,CAAG,KAAK,CAAC,GAAG,MAAM,GAFnD;AAGE,MAAA,CAAC,EAAE,WAAW,CAAC,MAAM,aAAa,MAAM,MAAM,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,KAClF,IAAI,CAAC,YACP,IAAI,IAAI,CAAC,YAAY,IALvB;AAK2B,gBACjB,CANV;AAMW,0BACS,CAPpB;AAQE,MAAA,SAAS,EAAE,SARb;AASE,MAAA,KAAK,EAAE,UAAU,CAAC,SAAD,EAAY,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAA9C;AATnB,KAAA,EAWG,KAXH,CADuB,GAevB,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAK;AACf,YAAM,MAAM,GAAG,CAAC,GAAG,CAAJ,GAAQ,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,uBAAuB,CAAC,CAAC,GAAG,CAAL,CAAxD,CAAR,GAA2E,CAA1F;AACA,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,QAAA,GAAG,EAAE,CADP;AACQ,kBACE,CAAC,GAAG,CAAJ,GAAQ,IAAR,GAAe,CAFzB;AAE0B,4BACN,CAAC,GAAG,CAAJ,GAAQ,IAAR,GAAe,CAHnC;AAIE,QAAA,CAAC,EAAE,CAJL;AAKE,QAAA,CAAC,EAAE,CAAC,GAAG,MALT;AAME,QAAA,KAAK,EAAE,KAAK,GAAG,CANjB;AAOE,QAAA,MAAM,EAAE,MAAM,GAAG,MAAM,GAAG,CAP5B;AAQE,QAAA,SAAS,EAAE,IAAI,CACb,SADa,EAEb,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArB,IAA0B,eAAe,OAAO,CAAC,MAAR,GAAiB,CAAjB,GAAqB,CAAC,IAAI,KAAK,CAAC,EAAE,EAF9D,CARjB;AAYE,QAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAZnB,OAAA,EAcG,KAdH,CADF;AAkBD,KApBD,CAfF;AAsCA,UAAM,WAAW,GAAG,sBAAsB,CAAC,UAAD,EAAa,IAAI,CAAC,IAAL,CAAU,YAAvB,CAA1C;AACA,UAAM,MAAM,GAAG,SAAS,CACrB,GADY,CACP,KAAD,IAAM;AACT,YAAM,CAAC,GAAG,WAAW,CAAC,KAAD,CAArB;AACA,YAAM,OAAO,GAAG,KAAK,CAAC,MAAN,CAAa;AAAE,QAAA,GAAG,EAAE,CAAP;AAAU,QAAA,KAAK,EAAE,KAAK,CAAC,IAAvB;AAA6B,QAAA,MAA7B;AAAqC,QAAA,KAAK,EAAE,KAAK,CAAC;AAAlD,OAAb,CAAhB;;AACA,UAAI,CAAC,OAAL,EAAc;AACZ,eAAO,IAAP;AACD;;AACD,aACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,QAAA,GAAG,EAAE,KAAK,CAAC,IAAd;AAAoB,QAAA,SAAS,EAAE,aAAa,CAAC,IAAI,CAAC;AAAlD,OAAA,EACG,OADH,CADF;AAKD,KAZY,EAaZ,MAbY,CAaL,OAbK,CAAf;;AAeA,QAAI,MAAM,CAAC,MAAP,KAAkB,CAAtB,EAAyB;AACvB,aAAO,OAAP;AACD;;AACD,WACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,MAAA,GAAG,EAAE;AAAR,KAAA,EACG,OADH,EAEG,MAFH,CADF;AAMD,GAxFA,CADH,CADF;AA6FF;AC1IA;;;;;;;;AAgBA,MAAMC,aAAW,GAAU,EAA3B;AAWO,MAAM,YAAY;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,YAAT,SAO/B;AAAA,MAPwD;AAC7E,IAAA,IAD6E;AAE7E,IAAA,IAF6E;AAG7E,IAAA,KAH6E;AAI7E,IAAA,QAJ6E;AAK7E,IAAA,SAL6E;AAM7E,IAAA;AAN6E,GAOxD;AACrB,QAAM,SAAS,GACb,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,IAAjB,CAAuB,CAAD,IAAO,CAAC,CAAC,WAAF,IAAiB,IAA9C,KAAuD,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,IAAf,CAAqB,CAAD,IAAO,CAAC,CAAC,WAAF,IAAiB,IAA5C,CADzD;AAEA,QAAM,EAAE,GAAG,OAAO,CAChB,MACE,OAAO,CAAC,GAAR,CAAa,CAAD,IAAE,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACT,CADS,CAAA,EACR;AACJ,IAAA,OAAO,EAAE,YAAY,CAAC,CAAD,EAAI,cAAJ,EAAoB,IAAI,CAAC,SAAzB,CADjB;AAEJ,IAAA,WAAW,EAAE,SAAS,GAAG,gBAAgB,CAAC,CAAD,EAAI,cAAJ,EAAoB,IAAI,CAAC,SAAzB,CAAnB,GAAyD;AAF3E,GADQ,CAAd,CAFc,EAOhB,CAAC,OAAD,EAAU,SAAV,EAAqB,IAAI,CAAC,SAA1B,CAPgB,CAAlB;;AAUA,WAAS,SAAT,CACE,KADF,EAEE,KAFF,EAGE,KAHF,EAIE,UAJF,EAKE,SALF,EAKoB;AAElB,WAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,MAAA,MAAM,EAAG,KAAD,IAA6B;AACnC,cAAM,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,GAAP,CAA1B;AACA,eAAO,KAAK,CAAC,WAAN,GAAoB,KAAK,CAAC,WAAN,CAAiB,MAAA,CAAA,MAAA,CAAA;AAAG,UAAA,KAAH;AAAU,UAAA,OAAV;AAAmB,UAAA,KAAnB;AAA0B,UAAA;AAA1B,SAAA,EAAwC,KAAxC,CAAjB,CAApB,GAAwF,IAA/F;AACD;AAJO,KADV,CAAA;AAOD;;AAED,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,QAAQ,IAAI,CAAC,SAAb,GAAyB,SAAS,KAAK,CAAC,EAAE,EAA1C,GAA+C;AAA7D,GAAA,EACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAC,IAAI,IAAI,CAAC,IAAL,CAAU,CAAC;AAArD,GAAA,EACG,EAAE,CAAC,GAAH,CAAO,CAAC,CAAD,EAAI,CAAJ,KACN,KAAA,CAAA,aAAA,CAAC,iBAAD,EAAkB;AAChB,IAAA,GAAG,EAAE,CAAC,CAAC,IADS;AAEhB,IAAA,IAAI,EAAE,IAFU;AAGhB,IAAA,IAAI,EAAE,IAHU;AAIhB,IAAA,KAAK,EAAE,KAJS;AAKhB,IAAA,WAAW,EAAE,CAAC,CAAC,OALC;AAMhB,IAAA,MAAM,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EANR;AAOhB,IAAA,SAAS,EAAE,SAAS,IAAI,CAAC,GAAG,CAPZ;AAQhB,IAAA,OAAO,EAAE,QAAQ,IAAI,EAAE,SAAS,IAAI,CAAC,GAAG,CAAnB,CAAZ,GAAoC,SAApC,GAAgD,CAAC,CAAC,IAR3C;AAShB,IAAA,SAAS,EACP,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,MAAjB,KAA4B,CAA5B,GACIA,aADJ,GAEI,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,GAAjB,CAAqB,CAAC,CAAD,EAAI,CAAJ,KAAU,SAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAC,CAAC,WAAZ,EAA0B,SAAS,IAAI,CAAC,GAAG,CAA3C,CAAxC;AAZU,GAAlB,CADD,CADH,CADF,EAoBE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAL,CAAQ,CAAC,IAAI,IAAI,CAAC,EAAL,CAAQ,CAAC;AAAjD,GAAA,EACG,EAAE,CAAC,GAAH,CAAO,CAAC,CAAD,EAAI,CAAJ,KACN,KAAA,CAAA,aAAA,CAAC,yBAAD,EAA0B;AACxB,IAAA,GAAG,EAAE,CAAC,CAAC,IADiB;AAExB,IAAA,IAAI,EAAE,IAFkB;AAGxB,IAAA,IAAI,EAAE,IAHkB;AAIxB,IAAA,KAAK,EAAE,KAJiB;AAKxB,IAAA,WAAW,EAAE,CAAC,CAAC,OALS;AAMxB,IAAA,MAAM,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EANA;AAOxB,IAAA,SAAS,EAAE,SAAS,IAAI,CAAC,GAAG,CAPJ;AAQxB,IAAA,OAAO,EAAE,QAAQ,IAAI,EAAE,SAAS,IAAI,CAAC,GAAG,CAAnB,CAAZ,GAAoC,SAApC,GAAgD,CAAC,CAAC,IARnC;AASxB,IAAA,iBAAiB,EACf,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,MAAf,KAA0B,CAA1B,GACIA,aADJ,GAEI,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAmB,CAAC,CAAD,EAAI,CAAJ,KAAU,SAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAC,CAAC,WAAZ,EAA0B,SAAS,IAAI,CAAC,GAAG,CAA3C,CAAtC;AAZkB,GAA1B,CADD,CADH,CApBF,CADF;AA0CD,CA9E0C,CAApC;AC3BP;;;;;;;SAawB,e,SAUtB;AAAA,MAVyC;AACzC,IAAA,IADyC;AAEzC,IAAA,IAFyC;AAGzC,IAAA,KAHyC;AAIzC,IAAA;AAJyC,GAUzC;;AACA,MAAI,CAAC,SAAD,IAAc,SAAS,CAAC,IAAV,KAAmB,KAAjC,IAA0C,CAAC,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,QAAf,CAAwB,IAAI,CAAC,KAAL,CAAW,SAAX,CAAxB,CAA/C,EAA+F;AAC7F,WAAO,IAAP;AACD;;AACD,QAAM,CAAC,GAAG,SAAV;AACA,SACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,CADL;AAEE,IAAA,KAAK,EAAE,IAAI,CAAC,MAAL,CAAY,CAAZ,GAAgB,IAAI,CAAC,EAAL,CAAQ,CAAxB,GAA4B,IAAI,CAAC,IAAL,CAAU,KAF/C;AAGE,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,SAHpB;AAIE,IAAA,SAAS,EAAE,iBAAiB,KAAK,CAAC,EAAE;AAJtC,GAAA,CADF;AAQF;ACpCA;;;;;;;;AAgBA,SAAS,mBAAT,SAUE;AAAA,MAV8B;AAC9B,IAAA,IAD8B;AAE9B,IAAA,IAF8B;AAG9B,IAAA,KAH8B;AAI9B,IAAA;AAJ8B,GAU9B;AACA,QAAM,EAAE,GAAG,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,CAAjC;AACA,QAAM,EAAE,GAAG,IAAI,CAAC,EAAL,CAAQ,EAAnB;AACA,QAAM,CAAC,GAAG,IAAI,CAAC,CAAf;AACA,QAAM,MAAM,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,GAAc,IAAI,CAAC,IAAL,CAAU,KAAvC;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,EAAL,CAAQ,SAAtB;;AAEA,MAAI,CAAC,SAAD,IAAc,SAAS,CAAC,IAAV,KAAmB,KAAjC,IAA0C,CAAC,IAAI,CAAC,EAApD,EAAwD;AACtD,WAAO,IAAP;AACD;;AACD,QAAM,CAAC,GAAG,SAAV;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,EAAL,CAAQ,IAAR,CAAa,OAAb,CAAqB,IAAI,CAAC,KAAL,CAAW,CAAX,CAArB,CAAd;;AACA,MAAI,KAAK,GAAG,CAAZ,EAAe;AACb,WAAO,IAAP;AACD;;AAED,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,MAAL,CAAY,CAAZ,GAAgB,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAa,MAAxD;AAA8D,kBAAa,OAA3E;AAAkF,cAAS;AAA3F,GAAA,EACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,KAAK,EAAE,KAAb;AAAoB,IAAA,MAAM,EAAE,MAA5B;AAAoC,IAAA,SAAS,EAAE,iBAAiB,KAAK,CAAC,EAAE;AAAxE,GAAA,CADF,EAEG,CAAC,CAAC,IAAF,CAAO,IAAP,GAAc,CAAd,IACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,EAAE,EAAE,EADN;AAEE,IAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAZ,CAAkB,CAAD,IAAO,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAxB,CAAZ,IAA4D,EAA5D,IAAkE,IAAI,CAAC,CAAL,GAAS,CAA3E,CAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,IAAI,CAAC,IAAL,CAAU,EAAV,CAAa,IAAb,CAAmB,CAAD,IAAO,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CAAzB,CAAZ,IAA6D,EAA7D,IAAmE,IAAI,CAAC,CAAL,GAAS,CAA5E,CAJN;AAKE,IAAA,SAAS,EAAE,sBAAsB,IAAI,CAAC,EAAE,EAL1C;AAME,IAAA,KAAK,EAAE,UAAU,CAAC,SAAD,EAAY,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAA9C,EAAyD,QAAzD;AANnB,GAAA,CAHJ,EAYG,IAAI,CAAC,IAAL,CAAU,CAAV,CACE,MADF,CACU,CAAD,IAAO,IAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,CAAZ,EAAe,CAAf,CADhB,EAEE,GAFF,CAEO,CAAD,IACH,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AACP,IAAA,GAAG,EAAE,IAAI,CAAC,KAAL,CAAW,CAAX,CADE;AAEP,IAAA,CAAC,EAAE,CAAC,GAAG,GAFA;AAGP,IAAA,EAAE,EAAE,EAHG;AAIP,IAAA,EAAE,EAAE,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,IAAkB,EAJf;AAKP,IAAA,IAAI,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC,IAAnB,GAA0B,EALzB;AAMP,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,SAAS,KAAK,CAAC,EAAE,EAA/C,EAAmD,KAAK,CAAC,UAAN,CAAiB,GAApE,CANR;AAOP,IAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAPV,GAAT,CAHH,CAZH,CADF;AA4BF;ACtEA;;;;;;;;AAmBA,MAAMA,aAAW,GAAU,EAA3B;;SAEwB,c,SAYtB;AAAA,MAZwC;AACxC,IAAA,IADwC;AAExC,IAAA,IAFwC;AAGxC,IAAA,KAHwC;AAIxC,IAAA,SAJwC;AAKxC,IAAA;AALwC,GAYxC;AACA,QAAM,KAAK,GAAG,KAAK,CAAC,cAApB;AAEA,QAAM,gBAAgB,GAAG,wBAAwB,CAAC,SAAD,EAAY,IAAI,CAAC,cAAjB,EAAiC,IAAI,CAAC,SAAtC,CAAjD;AACA,QAAM,aAAa,GAAG,qBAAqB,CAAC,SAAD,CAA3C;AAEA,QAAM,SAAS,GACb,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,IAAjB,CAAuB,CAAD,IAAO,CAAC,CAAC,eAAF,IAAqB,IAAlD,KAA2D,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,IAAf,CAAqB,CAAD,IAAO,CAAC,CAAC,eAAF,IAAqB,IAAhD,CAD7D;AAEA,QAAM,oBAAoB,GACxB,SAAS,IAAI,OAAO,SAAP,KAAqB,UAAlC,IAAgD,SAAhD,GACI,iBAAiB,CAAC,KAAK,CAAC,OAAN,CAAc,SAAd,IAA2B,SAA3B,GAAwC,SAAyB,CAAC,KAAnE,EAA0E,IAAI,CAAC,SAA/E,CADrB,GAEI,IAHN;;AAKA,WAAS,SAAT,CAA0C,KAA1C,EAAkF;AAChF,WAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,MAAA,MAAM,EAAG,KAAD,IAA6B;AACnC,cAAM,OAAO,GAAG,oBAAoB,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAP,CAAvB,GAAqC,IAAzE;AACA,eAAO,KAAK,CAAC,eAAN,GACH,KAAK,CAAC,eAAN,CAAqB,MAAA,CAAA,MAAA,CAAA;AACnB,UAAA,SADmB;AAEnB,UAAA,cAAc,EAAE,KAAK,CAAC,cAAN,IAAwB,KAAK,CAAC,GAAN,CAAU,KAAlC,IAA2C,QAFxC;AAGnB,UAAA;AAHmB,SAAA,EAIhB,KAJgB,CAArB,CADG,GAOH,IAPJ;AAQD;AAXO,KADV,CAAA;AAcD;;AAED,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,QAAQ,GAAG,SAAS,KAAK,CAAC,EAAE,EAApB,GAAyB;AAA/C,GAAA,EACG,CAAC,SAAS,IAAI,KAAd,KACC,KAAA,CAAA,aAAA,CAAC,yBAAD,EAA0B;AACxB,IAAA,IAAI,EAAE,IADkB;AAExB,IAAA,IAAI,EAAE,IAFkB;AAGxB,IAAA,KAAK,EAAE,KAHiB;AAIxB,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,EAAL,CAAQ,CAAC,IAAI,IAAI,CAAC,EAAL,CAAQ,CAAC,GAJtB;AAKxB,IAAA,KAAK,EAAE,KAAK,IAAI,CAAC,SALO;AAMxB,IAAA,WAAW,EAAE,gBANW;AAOxB,IAAA,MAAM,EAAE,aAAa,KAAK,CAAC,EAAE,EAPL;AAQxB,IAAA,OAAO,EAAE,QAAQ,GAAG,SAAH,GAAe,aARR;AASxB,IAAA,iBAAiB,EAAE,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,MAAf,KAA0B,CAA1B,GAA8BA,aAA9B,GAA4C,IAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAmB,SAAnB;AATvC,GAA1B,CAFJ,EAcG,CAAC,SAAS,IAAI,KAAd,KACC,KAAA,CAAA,aAAA,CAAC,iBAAD,EAAkB;AAChB,IAAA,IAAI,EAAE,IADU;AAEhB,IAAA,IAAI,EAAE,IAFU;AAGhB,IAAA,KAAK,EAAE,KAHS;AAIhB,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAC,IAAI,IAAI,CAAC,IAAL,CAAU,CAAC,GAJlC;AAKhB,IAAA,KAAK,EAAE,KAAK,IAAI,CAAC,SALD;AAMhB,IAAA,WAAW,EAAE,gBANG;AAOhB,IAAA,MAAM,EAAE,aAAa,KAAK,CAAC,EAAE,EAPb;AAQhB,IAAA,OAAO,EAAE,QAAQ,GAAG,SAAH,GAAe,aARhB;AAShB,IAAA,SAAS,EAAE,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,MAAjB,KAA4B,CAA5B,GAAgCA,aAAhC,GAA8C,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,GAAjB,CAAqB,SAArB;AATzC,GAAlB,CAfJ,EA2BE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,MAAL,CAAY,CAAC,IAAI,IAAI,CAAC,MAAL,CAAY,CAAC;AAAzD,GAAA,EACG,SAAS,CAAC,SAAD,CAAT,IAAwB,KAAA,CAAA,aAAA,CAAC,eAAD,EAAgB;AAAC,IAAA,IAAI,EAAE,IAAP;AAAa,IAAA,IAAI,EAAE,IAAnB;AAAyB,IAAA,KAAK,EAAE,KAAhC;AAAuC,IAAA,SAAS,EAAE;AAAlD,GAAhB,CAD3B,EAEG,SAAS,CAAC,SAAD,CAAT,IAAwB,KAAA,CAAA,aAAA,CAAC,mBAAD,EAAoB;AAAC,IAAA,IAAI,EAAE,IAAP;AAAa,IAAA,IAAI,EAAE,IAAnB;AAAyB,IAAA,KAAK,EAAE,KAAhC;AAAuC,IAAA,SAAS,EAAE;AAAlD,GAApB,CAF3B,CA3BF,CADF;AAkCF;;AC9FA,SAAS,QAAT,CAAkB,KAAlB,EAAgF;AAAA,MAAlB,IAAkB,uEAAX,WAAW;AAC9E,SAAO,KAAK,GAAG,GAAG,IAAI,KAAK,KAAK,GAApB,GAA0B,EAAtC;AACD;;SAEe,S,CACd,O,EACA,K,EACA,U,EACA,S,EAA6B;AAE7B,QAAM,IAAI,GAAa,EAAvB;;AACA,MAAI,KAAK,CAAC,iBAAV,EAA6B;AAC3B,IAAA,IAAI,CAAC,IAAL,CAAU,SAAS,KAAK,CAAC,iBAAiB,GAA1C;AACD;;AACD,QAAM,mBAAmB,GAAG,KAAK,CAAC,mBAAN,IAA6B,IAA7B,IAAqC,KAAK,CAAC,mBAAN,IAA6B,CAA9F;;AACA,MAAI,mBAAJ,EAAyB;AACvB,IAAA,IAAI,CAAC,IAAL,CAAU,iBAAiB,KAAK,CAAC,mBAAmB,GAApD;AACD;;AACD,SAAO;AACL,IAAA,CAAC,EAAE,QADE;AAEL,IAAA,IAAI,EAAE;UACA,OAAO;MACX,QAAQ,CAAC,UAAD,EAAa,aAAb,CAA2B;;AAEtC,GANM;AAOL,IAAA,IAAI,EAAE;oBACU,OAAO;YACf,KAAK,CAAC,SAAS;MACrB,QAAQ,CAAC,SAAS,CAAC,KAAX,CAAiB;;mBAEZ,OAAO;YACd,KAAK,CAAC,SAAS;MACrB,QAAQ,CAAC,SAAS,CAAC,WAAX,CAAuB;;;qBAGhB,OAAO;YAChB,KAAK,CAAC,SAAS;MACrB,QAAQ,CAAC,SAAS,CAAC,MAAX,CAAkB;;;;;AAK7B,GAxBM;AAyBL,IAAA,QAAQ,EAAE,IAAI,CAAC,IAAL,CAAU,GAAV,CAzBL;AA0BL,IAAA,UAAU,EAAE,IAAI,CAAC,IAAL,CAAU,GAAV,EAAe,OAAf,CAAuB,OAAvB,EAAgC,SAAhC,EAA2C,OAA3C,CAAmD,OAAnD,EAA4D,SAA5D,CA1BP;AA2BL,IAAA,IAAI,EAAE;iBACO,OAAO,YAAY,KAAK,CAAC,KAAK,mBAAmB,KAAK,CAAC,OAAO;mBAC5D,OAAO,oBAAoB,KAAK,CAAC,OAAN,GAAgB,uBAAuB,CAAC,CAAD,CAAG;mBACrE,OAAO,oBAAoB,KAAK,CAAC,OAAN,GAAgB,uBAAuB,CAAC,CAAD,CAAG;IACpF,IAAI,CAAC,MAAL,GAAc,CAAd,GAAkB,SAAS,OAAO,iCAAiC,OAAO,MAAM,IAAI,CAAC,IAAL,CAAU,GAAV,CAAc,IAA9F,GAAqG,EAAE;IAEvG,mBAAmB,GACf;cACM,OAAO,mCAAmC,OAAO,oBACrD,KAAK,CAAC,OAAN,GAAgB,uBAAuB,CAAC,CAAD,CACzC;cACM,OAAO,mCAAmC,OAAO,oBACrD,KAAK,CAAC,OAAN,GAAgB,uBAAuB,CAAC,CAAD,CACzC,KAPe,GAQf,EACN;IACE,KAAK,CAAC,cAAN,GAAuB,kBAAkB,OAAO,YAAY,KAAK,CAAC,cAAc,KAAhF,GAAwF,EAAE;qBACzE,OAAO;;mBAET,OAAO;;;MAGpB,QAAQ,CAAC,KAAK,CAAC,cAAP,EAAuB,QAAvB,CAAgC;;eAE/B,OAAO;;;;eAIP,OAAO;;;aAGT,OAAO;;;WAGT,OAAO;;AAEd,IA/DK;AAgEL,IAAA,MAAM,EAAE;qBACS,OAAO;YAChB,KAAK,CAAC,SAAS;MACrB,QAAQ,CAAC,SAAS,CAAC,WAAX,CAAuB;;mBAElB,OAAO;;;kBAGR,OAAO;;;;kBAIP,OAAO;;;kBAGP,OAAO;;cAEX,KAAK,CAAC,SAAS;;AAE1B;AAnFM,GAAP;AAqFF;;SCtGwB,U,CAAW,C,EAAsB;AACvD,QAAM,OAAO,GAAG,CAAC,CAAC,OAAlB;AACA,SAAO,OAAO,CACZ,OAAO;AACL,IAAA,QAAQ,EAAE,OAAO,IAAI,IADhB;AAEL,IAAA,QAAQ,EAAE,CAAC,CAAC,OAAF,IAAa,IAFlB;AAGL,IAAA,OAAO,EAAE,IAAI,CAAC,OAAD,CAHR;AAIL,IAAA,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC,OAAH,CAJb;AAKL,IAAA,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC,aAAH,CALd;AAML,IAAA,YAAY,EAAE,CAAC,CAAC,OAAF,GAAa,GAAD,IAA2B,CAAC,CAAC,OAAF,CAAW,IAAX,EAAiB,GAAG,CAAC,WAArB,EAAkC,EAAlC,CAAvC,GAA+E,SANxF;AAOL,IAAA,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,WAAH,CAPZ;AAQL,IAAA,KAAK,EAAG,GAAD,IAAwC,OAAO,GAAG,OAAO,CAAC,IAAD,EAAO,GAAG,CAAC,WAAX,EAAwB,EAAxB,CAAV,GAAwC;AARzF,GAAP,CADY,EAWZ,CAAC,OAAD,EAAU,CAAC,CAAC,OAAZ,EAAqB,CAAC,CAAC,aAAvB,EAAsC,CAAC,CAAC,WAAxC,CAXY,CAAd;AAaF;ACnBA;;;;;;;AAyBA;;;;;;;MAKa,OAAO;AAAA;AAAkB,KAAK,CAAC,UAAN,CAAiB,SAAS,OAAT,CACrD,KADqD,EAErD,GAFqD,EAE9B;;;AAEvB,QAAM,CAAC,GAAG,YAAY,CAAI,KAAJ,CAAtB;AACA,QAAM;AAAE,IAAA,SAAS,GAAG,IAAd;AAAoB,IAAA,OAAO,GAAG,EAA9B;AAAkC,IAAA;AAAlC,MAAgD,CAAtD,CAHuB,C;;AAMvB,QAAM,OAAO,GAAG,OAAO,CACrB,MACE,CAAC,CAAC,EAAF,GACI,CAAC,CAAC,EADN,GAEI,UAAU,CAAC,CACT,CAAC,CAAC,UADO,EAET,SAAS,CAAC,QAFD,EAGT,SAAS,CAAC,QAHD,EAIT,SAAS,CAAC,UAJD,EAKT,SAAS,CAAC,MALD,EAMT,SAAS,CAAC,QAND,EAOT,SAAS,CAAC,KAPD,EAQT,SAAS,CAAC,WARD,EAST,SAAS,CAAC,WATD,EAUT,CAAC,CAAC,SAVO,EAWT,CAAC,CAAC,cAXO,EAYT,CAAC,CAAC,KAZO,EAaT,CAAC,CAAC,iBAbO,EAcT,CAAC,CAAC,cAdO,EAeT,CAAC,CAAC,cAfO,EAgBT,CAAC,CAAC,0BAhBO,EAiBT,CAAC,CAAC,OAjBO,EAkBT,CAAC,CAAC,mBAlBO,CAAD,CAJK,EAwBrB,CACE,CAAC,CAAC,EADJ,EAEE,CAAC,CAAC,UAFJ,EAGE,SAAS,CAAC,QAHZ,EAIE,SAAS,CAAC,QAJZ,EAKE,SAAS,CAAC,UALZ,EAME,SAAS,CAAC,MANZ,EAOE,SAAS,CAAC,QAPZ,EAQE,SAAS,CAAC,KARZ,EASE,SAAS,CAAC,WATZ,EAUE,SAAS,CAAC,WAVZ,EAWE,CAAC,CAAC,SAXJ,EAYE,CAAC,CAAC,cAZJ,EAaE,CAAC,CAAC,KAbJ,EAcE,CAAC,CAAC,iBAdJ,EAeE,CAAC,CAAC,cAfJ,EAgBE,CAAC,CAAC,cAhBJ,EAiBE,CAAC,CAAC,0BAjBJ,EAkBE,CAAC,CAAC,OAlBJ,EAmBE,CAAC,CAAC,mBAnBJ,CAxBqB,CAAvB;AA8CA,QAAM,SAAS,GAAG,OAAO,CACvB,MACE,oBAAoB,CAClB,CAAC,CAAC,KADgB,EAElB,CAAC,CAAC,MAFgB,EAGlB,CAAC,CAAC,UAHgB,EAIlB,CAAC,CAAC,eAJgB,EAKlB,CAAC,CAAC,yBALgB,EAMlB,CAAC,CAAC,OANgB,EAOlB,CAAC,CAAC,iBAPgB,EAQlB,OARkB,EASlB,CAAC,CAAC,cATgB,EAUlB,CAAC,CAAC,cAVgB,EAWlB,CAAC,CAAC,cAXgB,EAYlB,CAAC,CAAC,KAZgB,EAalB,CAAC,CAAC,WAbgB,EAclB,CAAC,CAAC,QAdgB,EAelB,CAAC,CAAC,iBAfgB,CAFC,EAmBvB,CACE,CAAC,CAAC,KADJ,EAEE,CAAC,CAAC,MAFJ,EAGE,CAAC,CAAC,UAHJ,EAIE,CAAC,CAAC,cAJJ,EAKE,CAAC,CAAC,eALJ,EAME,CAAC,CAAC,yBANJ,EAOE,CAAC,CAAC,OAPJ,EAQE,CAAC,CAAC,iBARJ,EASE,OATF,EAUE,CAAC,CAAC,cAVJ,EAWE,CAAC,CAAC,cAXJ,EAYE,CAAC,CAAC,KAZJ,EAaE,CAAC,CAAC,WAbJ,EAcE,CAAC,CAAC,QAdJ,EAeE,CAAC,CAAC,iBAfJ,CAnBuB,CAAzB;AAsCA,QAAM,QAAQ,GAAG,OAAO,CACtB,MACE,mBAAmB,CACjB,CAAC,CAAC,KADe,EAEjB,CAAC,CAAC,MAFe,EAGjB,CAAC,CAAC,OAHe,EAIjB,CAAC,CAAC,UAJe,EAKjB,CAAC,CAAC,WALe,EAMjB,CAAC,CAAC,YANe,EAOjB,CAAC,CAAC,SAPe,EAQjB,CAAC,CAAC,iBARe,EASjB,CAAC,CAAC,EATe,EAUjB,CAAC,CAAC,eAVe,EAWjB,CAAC,CAAC,uBAXe,CAFC,EAetB,CACE,CAAC,CAAC,KADJ,EAEE,CAAC,CAAC,MAFJ,EAGE,CAAC,CAAC,OAHJ,EAIE,CAAC,CAAC,UAJJ,EAKE,CAAC,CAAC,WALJ,EAME,CAAC,CAAC,YANJ,EAOE,CAAC,CAAC,SAPJ,EAQE,CAAC,CAAC,iBARJ,EASE,CAAC,CAAC,EATJ,EAUE,CAAC,CAAC,eAVJ,EAWE,CAAC,CAAC,uBAXJ,CAfsB,CAAxB;AA8BA,QAAM,QAAQ,GAAG,OAAO,CACtB,MACE,mBAAmB,CACjB,CAAC,CAAC,IADe,EAEjB,CAAC,CAAC,YAFe,EAGjB,QAHiB,EAIjB,CAAC,CAAC,YAJe,EAKjB,CAAC,CAAC,SALe,EAMjB,CAAC,CAAC,cAAF,GAAmB,aAAa,CAAC,SAAS,CAAC,QAAX,CANf,EAOjB,CAAC,CAAC,UAPe,EAQjB,CAAC,CAAC,UARe,EASjB,aAAa,CAAC,SAAS,CAAC,QAAX,CATI,EAUjB,CAAC,CAAC,iBAVe,EAWjB,CAAC,CAAC,KAXe,EAYjB,CAAC,CAAC,SAZe,EAajB,CAAC,CAAC,EAbe,EAcjB,CAAC,CAAC,WAde,EAejB,CAAC,CAAC,mBAfe,CAFC,EAmBtB,CACE,CAAC,CAAC,IADJ,EAEE,CAAC,CAAC,YAFJ,EAGE,QAHF,EAIE,CAAC,CAAC,YAJJ,EAKE,CAAC,CAAC,SALJ,EAME,CAAC,CAAC,cANJ,EAOE,SAAS,CAAC,QAPZ,EAQE,CAAC,CAAC,UARJ,EASE,CAAC,CAAC,UATJ,EAUE,SAAS,CAAC,QAVZ,EAWE,CAAC,CAAC,iBAXJ,EAYE,CAAC,CAAC,KAZJ,EAaE,CAAC,CAAC,SAbJ,EAcE,CAAC,CAAC,EAdJ,EAeE,CAAC,CAAC,WAfJ,EAgBE,CAAC,CAAC,mBAhBJ,CAnBsB,CAAxB;AAuCA,QAAM,WAAW,GAAG,SAAS,CAAC,OAAD,EAAU,CAAV,EAAa,CAAC,CAAC,UAAf,EAA2B,SAA3B,CAA7B;AAEA,QAAM,CAAC,GAAG,UAAU,CAAC,CAAD,CAApB;AAEA,QAAM,KAAK,GAAG;IACZ,WAAW,CAAC,IAAI;IAChB,WAAW,CAAC,IAAI;;mBAED,OAAO;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;kBAGrB,OAAO;YACb,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;mBAEpB,OAAO;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;mBAGpB,OAAO;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;;uBAIhB,OAAO;MACxB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;YAC3B,CAAC,CAAC,cAAc;;;;kBAIV,OAAO;YACb,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;mBACpB,QAAQ,CAAC,CAAC,CAAC,iBAAH,CAAqB;;;qBAG3B,OAAO;YAChB,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,UAAxB,CAAmC;;;qBAGpB,OAAO;YAChB,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,UAAxB,CAAmC;;;;;IAKrC,WAAW,CAAC,IAAI;mBACD,OAAO,YAAY,CAAC,CAAC,cAAc;qBACjC,OAAO,YAAY,CAAC,CAAC,0BAAF,IAAgC,aAAa;;cAEvE,OAAO;;cAEP,CAAC,CAAC,SAAS;;cAEX,OAAO;;;;iBAIJ,OAAO,sBAAsB,OAAO;cACvC,CAAC,CAAC,cAAc;;iBAEb,OAAO,+BAA+B,OAAO;;;;IAI1D,WAAW,CAAC,MAAM;;eAEP,QAAQ,CAAC,EAAE;oBACN,QAAQ,CAAC,CAAT,GAAa,GAAG;cACtB,CAAC,CAAC,KAAK;sBACC,CAAC,CAAC,OAAO;;IAG3B,WAAW,CAAC,UAAZ,GACI,SAAS,OAAO,+BAA+B,QAAQ,CAAC,EAAE,MAAM,WAAW,CAAC,UAAU,IAD1F,GAEI,EACN;;wBAEsB,QAAQ,CAAC,EAAE;oBACf,QAAQ,CAAC,CAAT,GAAa,GAAb,GAAmB,GAAG;MACpC,WAAW,CAAC,CAAZ,CAAc,CAAC,CAAC,cAAhB,EAAgC,QAAhC,CAAyC;;;;IAI3C,OAAO,CACN,GADD,CAEE,CAAC,CAAD,EAAI,CAAJ,KAAU,SAAS,CAAC,IAAI,QAAQ,CAAC,EAAE;YAC7B,CAAC,CAAC,KAAK;AACf,IAJA,EAMC,IAND,CAMM,IANN,CAMW;AACZ,GA7FD;AA+FA,QAAM,WAAW,GAAG,WAAW,CAC5B,GAAD,IAAkC;AAChC,UAAM,GAAG,GAAG,GAAG,CAAC,aAAJ,CAAkB,OAAlB,CAA0B,KAA1B,CAAZ;AACA,UAAM,IAAI,GAAI,GAAG,CAAC,aAAJ,CAAkB,OAAlB,CAA0B,IAA1B,IAAkC,KAAhD;;AACA,YAAQ,IAAR;AACE,WAAK,MAAL;AACE,QAAA,cAAc,CAAC,GAAD,CAAd;AACA;;AACF,WAAK,MAAL;AACE,QAAA,UAAU,CAAC,GAAD,EAAM,KAAN,EAAa,QAAb,CAAV;AACA;;AACF,WAAK,OAAL;AACE,QAAA,gBAAgB,CAAC,KAAD,EAAQ,QAAR,CAAhB;AACA;;AACF,WAAK,KAAL;AACA,WAAK,KAAL;AACE,QAAA,SAAS,CAAC,GAAD,EAAM;AACb,UAAA,IADa;AAEb,UAAA,QAAQ,EAAE,IAAI,GAAG,CAAC,aAAJ,CAAkB,YAAlB,CAA+B,OAA/B,CAAuC;AAFxC,SAAN,CAAT;AAZJ;AAiBD,GArB4B,EAsB7B,CAAC,QAAD,EAAW,KAAX,CAtB6B,CAA/B;AAyBA,QAAM,aAAa,GAAG,qBAAqB,CAAC,SAAD,CAA3C;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,EAAE,EAAE,CAAC,CAAC,EADR;AAEE,IAAA,SAAS,EAAE,IAAI,CAAC,QAAQ,OAAO,EAAhB,EAAoB,CAAC,CAAC,SAAtB,CAFjB;AAGE,IAAA,KAAK,EAAE,CAAC,CAAC,KAHX;AAIE,IAAA,KAAK,EAAE,CAAC,CAAC,KAJX;AAKE,IAAA,MAAM,EAAE,CAAC,CAAC,MALZ;AAME,IAAA,GAAG,EAAE,GANP;AAOE,IAAA,OAAO,EAAE,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,EAPrC;AAOuC,kBAAA,CAAA,EAAA,GACzB,CAAC,CAAC,KADuB,MAClB,IADkB,IAClB,EAAA,KAAA,KAAA,CADkB,GAClB,EADkB,GACd,OARzB;AAQgC,sBACd,aAAa,GAAG,aAAH,GAAmB;AATlD,GAAA,EAWE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,KAAR,CAXF,EAYE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA;AAAU,IAAA,EAAE,EAAE,QAAQ,QAAQ,CAAC,EAAE;AAAjC,GAAA,EACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,QAAQ,CAAC,IAAT,CAAc,CAAvB;AAA0B,IAAA,CAAC,EAAE,CAA7B;AAAgC,IAAA,KAAK,EAAE,QAAQ,CAAC,MAAT,CAAgB,CAAvD;AAA0D,IAAA,MAAM,EAAE,QAAQ,CAAC,IAAT,CAAc;AAAhF,GAAA,CADF,CADF,CAZF,EAiBG,CAAC,CAAC,WAAF,IAAiB,KAAA,CAAA,aAAA,CAAC,WAAD,EAAY;AAAC,IAAA,OAAO,EAAE,OAAV;AAAmB,IAAA,CAAC,EAAE,QAAQ,CAAC,MAAT,CAAgB,CAAtC;AAAyC,IAAA,KAAK,EAAE,SAAhD;AAA2D,IAAA,IAAI,EAAE;AAAjE,GAAZ,CAjBpB,EAkBE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,IAAA,SAAS,EAAE,aAAa,QAAQ,CAAC,CAAT,GAAa,CAAC,IAAI,QAAQ,CAAC,CAAT,GAAa,CAAC,GAD5C;AAEZ,IAAA,OAAO,EAAE,OAFG;AAGZ,IAAA,aAAa,EAAE,CAAC,CAAC,aAHL;AAIZ,IAAA,WAAW,EAAE;AAJD,GAAd,CAlBF,EAwBE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,GAAjD;AAAoD,kBAAa;AAAjE,GAAA,EACG,CAAC,CAAC,OAAF,IACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,KAAK,EAAE,QAAQ,CAAC,EAAT,CAAY,CADrB;AAEE,IAAA,MAAM,EAAE,QAAQ,CAAC,IAAT,CAAc,CAFxB;AAGE,IAAA,OAAO,EAAE,CAAC,CAAC,KAHb;AAIE,IAAA,SAAS,EAAE,mBAAmB,OAAO;AAJvC,GAAA,CAFJ,EASE,KAAA,CAAA,aAAA,CAAC,SAAD,EAAU;AAAC,IAAA,IAAI,EAAE,QAAP;AAAiB,IAAA,KAAK,EAAE,SAAxB;AAAmC,IAAA,IAAI,EAAE;AAAzC,GAAV,CATF,EAUE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AACT,IAAA,IAAI,EAAE,QADG;AAET,IAAA,KAAK,EAAE,SAFE;AAGT,IAAA,IAAI,EAAE,QAHG;AAIT,IAAA,CAAC,EAAE,CAJM;AAKT,IAAA,kBAAkB,EAAE,CAAC,CAAC,kBALb;AAMT,IAAA,0BAA0B,EAAE,CAAC,CAAC;AANrB,GAAX,CAVF,EAkBE,KAAA,CAAA,aAAA,CAAC,cAAD,EAAe;AAAC,IAAA,IAAI,EAAE,QAAP;AAAiB,IAAA,KAAK,EAAE,SAAxB;AAAmC,IAAA,IAAI,EAAE,QAAzC;AAAmD,IAAA,QAAQ,EAAE,CAAC,CAAC,QAA/D;AAAyE,IAAA,SAAS,EAAE;AAApF,GAAf,CAlBF,EAmBE,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa;AACX,IAAA,IAAI,EAAE,QADK;AAEX,IAAA,KAAK,EAAE,SAFI;AAGX,IAAA,IAAI,EAAE,QAHK;AAIX,IAAA,QAAQ,EAAE,CAAC,CAAC,QAJD;AAKX,IAAA,OAAO,EAAE,OALE;AAMX,IAAA,SAAS,EAAE,CAAC,CAAC,OAAF,IAAa,IAAb,IAAqB,SAAS,IAAI;AANlC,GAAb,CAnBF,CAxBF,EAoDG,KAAK,CAAC,QApDT,CADF;AAwDD,CAvVqC,C;;SCKd,U,SA4BtB;AAAA,MA5BoC;AACpC,IAAA,KADoC;AAEpC,IAAA,KAFoC;AAGpC,IAAA,IAHoC;AAIpC,IAAA,CAJoC;AAKpC,IAAA,IALoC;AAMpC,IAAA,IANoC;AAOpC,IAAA,QAPoC;AAQpC,IAAA,WARoC;AASpC,IAAA,aAToC;AAUpC,IAAA;AAVoC,GA4BpC;;;;AACA,SACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,EAAE,EAAE,CAAC,CAAC,EADR;AAEE,IAAA,SAAS,EAAE,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE,EAAjB,EAAqB,CAAC,CAAC,SAAvB,CAFjB;AAGE,IAAA,KAAK,EAAE,CAAC,CAAC,KAHX;AAIE,IAAA,KAAK,EAAE,CAAC,CAAC,KAJX;AAKE,IAAA,MAAM,EAAE,CAAC,CAAC,MALZ;AAME,IAAA,GAAG,EAAE,IANP;AAOE,IAAA,OAAO,EAAE,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,EAPrC;AAOuC,kBAAA,CAAA,EAAA,GACzB,CAAC,CAAC,KADuB,MAClB,IADkB,IAClB,EAAA,KAAA,KAAA,CADkB,GAClB,EADkB,GACd,OARzB;AAQgC,sBACd,aAAa,GAAG,aAAH,GAAmB;AATlD,GAAA,EAWE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,KAAR,CAXF,EAYG,CAAC,CAAC,OAAF,IAAa,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,KAAK,EAAE,IAAI,CAAC,CAAlB;AAAqB,IAAA,MAAM,EAAE,IAAI,CAAC,CAAlC;AAAqC,IAAA,OAAO,EAAE,CAAC,CAAC,KAAhD;AAAuD,IAAA,SAAS,EAAE,mBAAmB,KAAK,CAAC,EAAE;AAA7F,GAAA,CAZhB,EAaG,CAAC,CAAC,WAAF,IAAiB,KAAA,CAAA,aAAA,CAAC,WAAD,EAAY;AAAC,IAAA,OAAO,EAAA,CAAA,EAAA,GAAE,CAAC,CAAC,OAAJ,MAAW,IAAX,IAAW,EAAA,KAAA,KAAA,CAAX,GAAW,EAAX,GAAe,EAAvB;AAA2B,IAAA,CAAC,EAAE,IAAI,CAAC,MAAL,CAAY,CAA1C;AAA6C,IAAA,KAAK,EAAE,KAApD;AAA2D,IAAA,IAAI,EAAE;AAAjE,GAAZ,CAbpB,EAcE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AACZ,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,CAAL,GAAS,CAAC,IAAI,IAAI,CAAC,CAAL,GAAS,CAAC,GADpC;AAEZ,IAAA,OAAO,EAAE,KAAK,CAAC,EAFH;AAGZ,IAAA,aAAa,EAAE,CAAC,CAAC,aAHL;AAIZ,IAAA,WAAW,EAAE;AAJD,GAAd,CAdF,EAoBE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,GAAjD;AAAoD,kBAAa;AAAjE,GAAA,EACG,QADH,CApBF,EAuBG,CAAC,CAAC,QAvBL,CADF;AA2BF;AC3FA;;;;;;;;SAyBgB,oB,CAAqB,C,EAAc,I,EAAiD;AAAA,MAAL,CAAK,uEAAD,CAAC;;AAClG,MAAI,CAAC,CAAC,IAAN,EAAY;AACV,WAAO,CAAC,CAAC,IAAT;AACD;;AACD,SAAO,KAAK,CAAC,CAAC,EAAF,GAAO,CAAC,IAAI,CAAC,CAAC,EAAF,GAAO,CAAC,IAAI,CAAC,CAAC,IAAF,CACjC,GADiC,CAC5B,GAAD,IAAI;AACP,UAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAL,CAAJ,CAAc,CAA1B;AACA,UAAM,EAAE,GAAG,SAAS,CAAC,GAAD,CAAT,GAAiB,GAAG,CAAC,EAArB,GAA0B,GAAG,CAAC,CAAzC;AACA,UAAM,EAAE,GAAG,SAAS,CAAC,GAAD,CAAT,GAAiB,GAAG,CAAC,EAArB,GAA0B,GAAG,CAAC,CAAzC;AACA,UAAM,GAAG,GAAG,SAAS,CAAC,GAAD,CAAT,GAAiB,GAAG,CAAC,QAArB,GAAgC,CAA5C;AACA,WAAO,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,KAAJ,GAAY,CAAZ,GAAgB,CAAC,IAAI,GAAG,CAAC,KAAJ,GAAY,CAAZ,GAAgB,CAAC,IAAI,GAAG,CAAC,EAAJ,GAAS,CAAC,IAAI,GAAG,CAAC,EAAJ,GAAS,CAAC,EAAzG;AACD,GAPiC,EAQjC,IARiC,CAQ5B,GAR4B,CAQxB,EARZ;AASF;;SCpCwB,gB,CAAiB,C,EASxC;;;AACC,MAAI,CAAC,CAAC,CAAF,IAAO,CAAP,IAAY,CAAC,CAAC,CAAF,IAAO,CAAvB,EAA0B;AACxB,WAAO,IAAP;AACD;;AACD,QAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,CAAC,CAAF,GAAM,IAAjB,IAAyB,GAAvC;AACA,SACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA;AACE,IAAA,EAAE,EAAE,CAAC,CAAC,EADR;AAEE,IAAA,KAAK,EAAC,GAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,mBAAmB,EAAC,mBAJtB;AAKE,IAAA,gBAAgB,EAAE,UAAU,CAAA,EAAA,GAAA,CAAC,CAAC,MAAF,MAAQ,IAAR,IAAQ,EAAA,KAAA,KAAA,CAAR,GAAQ,EAAR,GAAY,CAAC;AAL3C,GAAA,EAOG,CAAC,CAAC,QAAF,IACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAC,GAAR;AAAY,IAAA,CAAC,EAAC,GAAd;AAAkB,IAAA,KAAK,EAAC,GAAxB;AAA4B,IAAA,MAAM,EAAC,KAAnC;AAAyC,IAAA,KAAK,EAAE;AAAE,MAAA,IAAI,EAAE,CAAC,CAAC;AAAV,KAAhD;AAAoE,IAAA,SAAS,EAAE,eAAe,CAAC,CAAC,OAAO;AAAvG,GAAA,CARJ,EAUE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAC,GADJ;AAEE,IAAA,CAAC,EAAC,GAFJ;AAGE,IAAA,KAAK,EAAC,GAHR;AAIE,IAAA,MAAM,EAAE,KAJV;AAKE,IAAA,SAAS,EAAE,OAAO,CAAC,CAAC,MAAM,EAL5B;AAME,IAAA,KAAK,EAAE,CAAC,CAAC,IAAF,GAAS;AAAE,MAAA,IAAI,EAAE,CAAC,CAAC;AAAV,KAAT,GAA4B;AANrC,GAAA,CAVF,CADF,CADF;AAuBF;ACvCA;;;;;;;;AAmBA,SAAS,WAAT,CAAqB,KAArB,EAA2C,MAA3C,EAA6E;AAC3E,MAAI,KAAK,CAAC,IAAN,CAAW,CAAX,KAAiB,MAAM,CAAC,EAA5B,EAAgC;AAC9B,WAAO,CAAP;AACD;;AACD,MAAI,KAAK,CAAC,IAAN,CAAW,CAAX,GAAe,MAAM,CAAC,EAA1B,EAA8B;AAC5B,WAAO,KAAK,CAAC,IAAN,CAAW,CAAX,IAAgB,MAAM,CAAC,EAAvB,GAA4B,EAA5B,GAAiC,CAAC,EAAzC;AACD;;AACD,SAAO,KAAK,CAAC,IAAN,CAAW,CAAX,IAAgB,MAAM,CAAC,EAAvB,GAA4B,CAAC,EAA7B,GAAkC,EAAzC;AACD;;AAED,SAAS,aAAT,CACE,CADF,EAEE,CAFF,EAGE,KAHF,EAIE,SAJF,EAKE,EALF,EAME,OANF,EAOE,IAPF,EAQE,EARF,EAQY;AAEV,QAAM,EAAE,GAAG,IAAI,CAAC,MAAL,CAAY,CAAC,CAAC,WAAd,CAAX;AACA,QAAM,QAAQ,GAAG,CAAC,KAAD,GAAS,CAAC,CAAC,IAAX,GAAkB,GAAG,CAAC,CAAC,IAAI,MAAM,KAAK,EAAvD;AACA,QAAM,eAAe,GAAG,CAAC,KAAD,GAAS,EAAT,GAAc,GAAG,IAAI,CAAC,MAAL,CAAY,CAAZ,CAAc,IAAI,EAAE,EAA7D;;AACA,MAAI,EAAE,CAAC,MAAH,KAAc,CAAlB,EAAqB;AACnB,WAAO;AACL,MAAA,OAAO,EAAE,GAAG,QAAQ,KAAK,eAAe,EADnC;AAEL,MAAA,KAAK,EACH,CAAC,CAAC,IAAF,KAAW,KAAX,GACE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,QAAA,EAAE,EAAC;AAAV,OAAA,EAAoB,CAAC,CAAC,IAAtB,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,QAAA,CAAC,EAAE,EAAV;AAAc,QAAA,EAAE,EAAC;AAAjB,OAAA,EACG,eADH,CAFF,CADF,GAQE;AAXC,KAAP;AAcD;;AAED,MAAI,EAAE,CAAC,MAAH,KAAc,CAAd,IAAmB,CAAC,SAApB,IAAiC,CAAC,KAAtC,EAA6C;AAC3C,WAAO;AACL,MAAA,OAAO,EAAE,GAAG,CAAC,CAAC,IAAI,MAAM,OAAO,CAAC,CAAD,CAAP,CAAW,IAAI,KAAK,IAAI,CAAC,MAAL,CAAY,EAAE,CAAC,CAAD,CAAd,CAAkB,IAAI,EAAE,EAD/D;AAEL,MAAA,KAAK,EACH,CAAC,CAAC,IAAF,KAAW,KAAX,GACE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,QAAA,EAAE,EAAC;AAAV,OAAA,EAAoB,CAAC,CAAC,IAAtB,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,QAAA,CAAC,EAAE,EAAV;AAAc,QAAA,EAAE,EAAC;AAAjB,OAAA,EACG,GAAG,IAAI,CAAC,MAAL,CAAY,EAAE,CAAC,CAAD,CAAd,CAAkB,IAAI,EAAE,EAD9B,CAFF,CADF,GAQE,GAAG,IAAI,CAAC,MAAL,CAAY,EAAE,CAAC,CAAD,CAAd,CAAkB,IAAI,EAAE;AAX1B,KAAP;AAcD;;AAED,QAAM,SAAS,GACb,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,IAAA,CAAC,EAAE,EAAV;AAAc,IAAA,EAAE,EAAC;AAAjB,GAAA,EACG,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,KACX,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe;AAAC,IAAA,GAAG,EAAE,CAAC,CAAC;AAAR,GAAf,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,IAAA,SAAS,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,EAAE;AAAtC,GAAA,EAA2C,GAA3C,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,IAAI,IAAI,CAAC,MAAL,CAAY,EAAE,CAAC,CAAD,CAAd,CAAkB,IAAI,EAAE,GAAG,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArB,GAAyB,GAAzB,GAA+B,EAAE,EAAxE,CAFF,CADD,CADH,CADF;AAWA,SAAO;AACL,IAAA,OAAO,EAAE,GAAG,QAAQ,KAAK,eAAe,KAAK,OAAO,CACjD,GAD0C,CACtC,CAAC,CAAD,EAAI,CAAJ,KAAU,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,MAAL,CAAY,EAAE,CAAC,CAAD,CAAd,CAAkB,IAAI,EAAE,EADtB,EAE1C,IAF0C,CAErC,IAFqC,CAEhC,EAHR;AAIL,IAAA,KAAK,EACH,CAAC,CAAC,IAAF,KAAW,KAAX,GACE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,MAAA,EAAE,EAAC;AAAV,KAAA,EAAoB,CAAC,CAAC,IAAtB,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,MAAA,CAAC,EAAE,EAAV;AAAc,MAAA,EAAE,EAAC;AAAjB,KAAA,EACG,eADH,CAFF,EAKG,SALH,CADF,GASE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AAAO,MAAA,EAAE,EAAC;AAAV,KAAA,EAAoB,eAApB,CADF,EAEG,SAFH;AAdC,GAAP;AAoBD;;SAEuB,qB,SA4BtB;AAAA,MA5B+C;AAC/C,IAAA,KAD+C;AAE/C,IAAA,CAF+C;AAG/C,IAAA,CAH+C;AAI/C,IAAA,IAJ+C;AAK/C,IAAA,KAL+C;AAM/C,IAAA,WAN+C;AAO/C,IAAA,QAP+C;AAQ/C,IAAA,aAR+C;AAS/C,IAAA,CAT+C;AAU/C,IAAA,OAV+C;AAW/C,IAAA,IAX+C;AAY/C,IAAA,IAZ+C;AAa/C,IAAA;AAb+C,GA4B/C;AACA,QAAM,CAAC,GAAG,oBAAoB,CAAC,KAAD,EAAQ,IAAI,CAAC,IAAL,CAAU,CAAlB,CAA9B;AACA,QAAM,MAAM,GAAG,WAAW,CAAC,KAAD,EAAQ,IAAI,CAAC,IAAb,CAA1B;AAEA,QAAM,CAAC,GAAG,WAAW,GAAG,WAAW,CAAC,CAAD,CAAd,GAAoB,CAAzC;AACA,QAAM,iBAAiB,GAAI,CAAC,KAAK,CAAC,CAAC,WAAR,IAAuB,CAAC,CAAC,WAAF,GAAgB,CAAxC,IAA8C,QAAxE;AACA,QAAM,SAAS,GAAG,IAAI,CACpB,OAAO,KAAK,CAAC,EAAE,EADK,EAEpB,CAAC,KAAK,CAAN,IAAW,CAAC,QAAZ,IAAwB,GAAG,IAAI,GAAG,aAAH,GAAmB,MAAM,IAAI,KAAK,CAAC,EAAE,EAFhD,EAGpB,iBAAiB,IAAI,iBAAiB,KAAK,CAAC,EAAE,EAH1B,EAIpB,KAAK,CAAC,UAAN,CAAiB,GAJG,CAAtB;AAMA,QAAM,EAAE,GAAG,SAAS,KAAK,CAAC,EAAE,IAAI,CAAC,EAAjC;AACA,QAAM,SAAS,GAAG,WAAW,IAAI,IAAf,IAAuB,CAAC,CAAC,YAAF,IAAkB,IAA3D;AACA,QAAM,UAAU,GAAG,EAAE,CAAC,GAAH,CAAQ,CAAD,IAAO,CAAC,CAAC,CAAD,CAAf,CAAnB;AAEA,QAAM;AAAE,IAAA,KAAF;AAAS,IAAA;AAAT,MAAqB,aAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,aAAP,EAAsB,SAAtB,EAAiC,UAAjC,EAA6C,OAA7C,EAAsD,IAAtD,EAA4D,KAAK,CAAC,IAAN,CAAW,CAAvE,CAAxC;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AACf,IAAA,EAAE,EAAE,EADW;AAEf,IAAA,CAAC,EAAE,CAAC,KAAK,CAAN,GAAU,CAAV,GAAc,CAAC,GAAG,CAAC,CAAC,WAFR;AAGf,IAAA,MAAM,EAAE,aAAa,KAAK,CAAC,EAAE,EAHd;AAIf,IAAA,MAAM,EAAE,MAJO;AAKf,IAAA,MAAM,EAAE,CAAC,CAAC,KALK;AAMf,IAAA,QAAQ,EAAE,CAAC,CAAC,KAAF,IAAW,IAAX,IAAmB,IANd;AAOf,IAAA,IAAI,EAAE,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAPzB;AAQf,IAAA,OAAO,EAAE,KAAK,CAAC;AARA,GAAjB,CADF,EAWE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,YAAY,EAAE,CAAC,CAAC,YAAF,CAAe,CAAf,EAAkB,EAAlB,CADhB;AAEE,IAAA,YAAY,EAAE,CAAC,CAAC,YAFlB;AAGE,IAAA,OAAO,EAAE,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,EAAb,CAHX;AAIE,IAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,CAAhB,EAAmB,EAAnB,CAJjB;AAKE,IAAA,WAAW,EAAE,CAAC,CAAC,WAAF,CAAc,CAAd,EAAiB,EAAjB,CALf;AAME,IAAA,CAAC,EAAE,CANL;AAOE,IAAA,SAAS,EAAE,SAPb;AAQE,IAAA,KAAK,EAAE,UAAU,CACf,KAAK,CAAC,MAAN,CAAa,GADE,EAEf,CAAC,GAAG,CAAJ,IAAS,CAAC,GAAG,CAAC,CAAC,WAAf,GAA6B,QAAQ,EAAE,GAAvC,GAA6C,CAAC,iBAAD,IAAsB,CAAC,KAAK,CAAC,cAA7B,GAA8C,CAAC,CAAC,KAAhD,GAAwD,SAFtF;AARnB,GAAA,EAaG,KAAK,CAAC,QAAN,IAAkB,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,OAAR,CAbrB,CAXF,EA0BE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,KAAK,CAAC,IAAN,CAAW,CADhB;AAEE,IAAA,CAAC,EAAE,KAAK,CAAC,IAAN,CAAW,CAFhB;AAGE,IAAA,SAAS,EAAE,IAAI,CACb,GAAG,CAAC,CAAC,IAAF,KAAW,KAAX,GAAmB,KAAnB,GAA2B,OAAO,aAAa,KAAK,CAAC,EAAE,EAD7C,EAEb,SAAS,KAAK,CAAC,EAAE,EAFJ,C;;AAAA;AAHjB,GAAA,EAUG,KAVH,CA1BF,CADF;AAyCF;ACpMA;;;;;;;;SAyCwB,uB,CACtB,I,EACA,Y,EACA,I,EACA,M,EACA,M,EACA,K,EACA,S,EACA,E,EAAW;AAEX,QAAM,EAAE,GAAG,IAAI,CAAC,MAAL,GAAc,MAAM,CAAC,OAArB,GAA+B,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,MAAM,CAAC,OAArB,CAA/B,GAA+D,IAA1E;AACA,QAAM;AAAE,IAAA,EAAF;AAAM,IAAA,OAAN;AAAe,IAAA;AAAf,MAA0B,qBAAqB,CAAI,EAAJ,EAAQ,KAAR,EAAe,YAAf,CAArD;AAEA,QAAM,CAAC,GAAG,MAAM,CAAC,OAAP,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAI,CAAC,IAAL,CAAU,CAAjC,EAAoC,IAAI,CAAC,IAAL,CAAU,CAA9C,CAAV;AAEA,SAAO;AACL,IAAA,EAAE,EAAE,EAAE,GAAG,EAAH,GAAQ,UAAU,EADnB;AAEL,IAAA,IAAI,EAAE;AACJ,MAAA,CAAC,EAAE,CAAC,CAAC,IAAF,CAAO,GAAP,CAAW,CAAC,CAAD,EAAI,CAAJ,MAAW;AAAE,QAAA,CAAC,EAAE,EAAE,CAAC,CAAD,CAAP;AAAY,QAAA,CAAZ;AAAe,QAAA,GAAG,EAAE,OAAO,CAAC,CAAD;AAA3B,OAAX,CAAX,CADC;AAEJ,MAAA,CAAC,EAAE,EAFC;AAGJ,MAAA;AAHI,KAFD;AAOL,IAAA,MAPK;AAQL,IAAA,EAAE,EAAE;AACF,MAAA,CAAC,EAAE,CAAC,CAAC,aAAF,CAAgB,GAAhB,CAAoB,CAAC,CAAD,EAAI,CAAJ,MAAW;AAAE,QAAA,CAAC,EAAE,EAAE,CAAC,CAAD,CAAP;AAAY,QAAA,CAAZ;AAAe,QAAA,GAAG,EAAE,MAAM,CAAC,CAAD;AAA1B,OAAX,CAApB,CADD;AAEF,MAAA,CAAC,EAAE,EAFD;AAGF,MAAA,GAAG,EAAE,CAAC,CAAD,EAAI,CAAJ,KAAK;AACR,cAAM,EAAE,GAAG,KAAK,CAAC,CAAD,CAAhB;AACA,eAAO,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,IAAnB,CAAyB,EAAD,IAAQ,KAAK,CAAC,EAAD,CAAL,KAAc,EAA9C,CAAP;AACD;AANC,KARC;AAgBL,IAAA,KAhBK;AAiBL,IAAA,SAjBK;AAkBL,IAAA,cAAc,EAAE,+BAA+B,CAAC,EAAD,EAAK,eAAL,EAAsB,KAAtB;AAlB1C,GAAP;AAoBD;;SAEe,qB,CACd,E,EACA,K,EACA,Y,EACyD;AAAA,MAAzD,OAAyD,uEAAV;AAAE,IAAA,GAAG,EAAE;AAAP,GAAU;AAEzD,QAAM,OAAO,GAAG,EAAE,CAAC,GAAH,CAAO,KAAP,CAAhB;AAEA,MAAI,EAAE,GAAwB,EAA9B;;AACA,MAAID,iBAAe,CAAC,YAAD,CAAnB,EAAmC;AACjC,UAAM,KAAK,GAAG,IAAI,GAAJ,CAAQ,YAAY,CAAC,GAAb,CAAkB,CAAD,IAAO,CAAC,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,GAAnB,CAAuB,KAAvB,EAA8B,IAA9B,GAAqC,IAArC,CAA0C,GAA1C,CAAD,EAAiD,CAAjD,CAAxB,CAAR,CAAd;AACA,UAAM,UAAU,GAAG,EAAE,CAAC,GAAH,CAAQ,CAAD,KAAQ;AAChC,MAAA,IAAI,EAAE,KAD0B;AAEhC,MAAA,WAAW,EAAE,CAFmB;AAGhC,MAAA,KAAK,EAAE,EAHyB;AAIhC,MAAA,IAAI,EAAE,CAAC,CAAC,IAJwB;AAKhC,MAAA;AALgC,KAAR,CAAP,CAAnB,CAFiC,C;;AAUjC,IAAA,EAAE,GAAG,oBAAoB,CACvB,UADuB,EAEvB,MAAM,CAAC,MAAP,CACE;AACE,MAAA,IAAI,EAAE,sBADR;AAEE,MAAA,KAAK,EAAE,IAFT;AAGE,MAAA,KAAK,EAAE,CAAC,YAAD,EAAe,WAAf;AAHT,KADF,EAME,OANF,CAFuB,CAApB,CAUH,GAVG,CAUE,CAAD,IAAE;AACN,YAAM,GAAG,GAAG,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EACT,GADS,CACJ,CAAD,IAAO,KAAK,CAAG,CAAgC,CAAC,CAApC,CADP,EAET,IAFS,GAGT,IAHS,CAGJ,GAHI,CAAZ;;AAIA,UAAI,KAAK,CAAC,GAAN,CAAU,GAAV,CAAJ,EAAoB;AAClB,eAAO,KAAK,CAAC,GAAN,CAAU,GAAV,CAAP;AACD,OAPK,C;;;AASN,aAAO;AACL,QAAA,IAAI,EAAE,CAAC,CAAC,IADH;AAEL,QAAA,WAAW,EAAE,CAFR;AAGL,QAAA,MAAM,EAAE,CAAC,CAAC,MAHL;AAIL,QAAA,KAAK,EAAE,EAJF;AAKL,QAAA,IAAI,EAAE,IAAI,GAAJ,CAAQ,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,GAAnB,CAAwB,CAAD,IAAS,CAAgC,CAAC,CAAjE,CAAR,CALD;AAML,QAAA,IAAI,EAAE;AAND,OAAP;AAQD,KA3BI,CAAL;AA4BD,GAtCD,MAsCO;AACL,IAAA,EAAE,GAAG,oBAAoB,CACvB,EADuB,EAEvB,MAAM,CAAC,MAAP,CACE;AACE,MAAA,IAAI,EAAE,sBADR;AAEE,MAAA,KAAK,EAAE,IAFT;AAGE,MAAA,KAAK,EAAE,CAAC,YAAD,EAAe,WAAf;AAHT,KADF,EAME,OANF,EAOE,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAA,YAAA,GAAgB,EAPlB,CAFuB,CAAzB;AAYD;;AAED,QAAM,MAAM,GAAG,EAAE,CAAC,GAAH,CAAO,KAAP,CAAf;AACA,SAAO;AAAE,IAAA,EAAF;AAAM,IAAA,OAAN;AAAe,IAAA;AAAf,GAAP;AACF;AC9IA;;;;;;;;SASwB,uB,CAAwB,K,EAAe,M,EAAgB,M,EAAgB,E,EAAU;AACvG,QAAM,CAAC,GAAG,MAAM,GAAG,IAAI,MAAvB;AACA,QAAM,CAAC,GAAG,KAAK,GAAG,IAAI,MAAtB;AACA,QAAM,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,CAA3B;AACA,SAAO;AACL,IAAA,EAAE,EAAE,EAAE,GAAG,EAAH,GAAQ,UAAU,EADnB;AAEL,IAAA,MAAM,EAAE;AACN,MAAA,CAAC,EAAE,KAAK,GAAG;AADL,KAFH;AAKL,IAAA,IAAI,EAAE;AACJ,MAAA,CADI;AAEJ,MAAA,CAFI;AAGJ,MAAA,EAAE,EAAE,CAAC,GAAG,CAHJ;AAIJ,MAAA,EAAE,EAAE,CAAC,GAAG,CAJJ;AAKJ,MAAA;AALI,KALD;AAYL,IAAA,MAAM,EAAE,MAZH;AAaL,IAAA,CAAC,EAAE,KAbE;AAcL,IAAA,CAAC,EAAE;AAdE,GAAP;AAgBF;AC7BA;;;;;;;;SAUwB,wB,CACtB,K,EACA,M,EACA,U,EACA,O,EACA,c,EACA,K,EACA,W,EACA,Q,EAAiB;AAEjB,SAAO;AACL,IAAA,KADK;AAEL,IAAA,MAFK;AAGL,IAAA,UAAU,EAAE,UAHP;AAIL,IAAA,EAAE,EAAE,OAJC;AAKL,IAAA,cALK;AAML,IAAA,KANK;AAOL,IAAA,WAPK;AAQL,IAAA;AARK,GAAP;AAUF;AC9BA;;;;;;;;SAuBgB,e,CACd,C,EACiE;AAEjE,QAAM;AAAE,IAAA,OAAO,GAAG,EAAZ;AAAgB,IAAA;AAAhB,MAA8B,CAApC,CAFiE,C;;AAIjE,QAAM,OAAO,GAAG,OAAO,CACrB,MACE,CAAC,CAAC,EAAF,GACI,CAAC,CAAC,EADN,GAEI,UAAU,CAAC,CACT,CAAC,CAAC,UADO,EAET,SAAS,CAAC,UAFD,EAGT,SAAS,CAAC,MAHD,EAIT,SAAS,CAAC,QAJD,EAKT,SAAS,CAAC,KALD,EAMT,SAAS,CAAC,WAND,EAOT,SAAS,CAAC,WAPD,EAQT,CAAC,CAAC,SARO,EAST,CAAC,CAAC,KATO,EAUT,CAAC,CAAC,iBAVO,EAWT,CAAC,CAAC,WAXO,EAYT,CAAC,CAAC,cAZO,EAaT,CAAC,CAAC,cAbO,EAcT,CAAC,CAAC,OAdO,EAeT,CAAC,CAAC,mBAfO,CAAD,CAJK,EAqBrB,CACE,CAAC,CAAC,EADJ,EAEE,CAAC,CAAC,UAFJ,EAGE,SAAS,CAAC,UAHZ,EAIE,SAAS,CAAC,MAJZ,EAKE,SAAS,CAAC,QALZ,EAME,SAAS,CAAC,KANZ,EAOE,SAAS,CAAC,WAPZ,EAQE,SAAS,CAAC,WARZ,EASE,CAAC,CAAC,SATJ,EAUE,CAAC,CAAC,KAVJ,EAWE,CAAC,CAAC,iBAXJ,EAYE,CAAC,CAAC,WAZJ,EAaE,CAAC,CAAC,cAbJ,EAcE,CAAC,CAAC,cAdJ,EAeE,CAAC,CAAC,OAfJ,EAgBE,CAAC,CAAC,mBAhBJ,CArBqB,CAAvB;AAyCA,QAAM,SAAS,GAAG,OAAO,CACvB,MACE,wBAAwB,CACtB,CAAC,CAAC,KADoB,EAEtB,CAAC,CAAC,MAFoB,EAGtB,CAAC,CAAC,UAHoB,EAItB,OAJsB,EAKtB,CAAC,CAAC,cALoB,EAMtB,CAAC,CAAC,KANoB,EAOtB,CAAC,CAAC,WAPoB,EAQtB,CAAC,CAAC,QARoB,CAFH,EAYvB,CAAC,CAAC,CAAC,KAAH,EAAU,CAAC,CAAC,MAAZ,EAAoB,CAAC,CAAC,UAAtB,EAAkC,OAAlC,EAA2C,CAAC,CAAC,cAA7C,EAA6D,CAAC,CAAC,KAA/D,EAAsE,CAAC,CAAC,WAAxE,EAAqF,CAAC,CAAC,QAAvF,CAZuB,CAAzB;AAeA,QAAM,QAAQ,GAAG,OAAO,CAAC,MAAM,uBAAuB,CAAC,CAAC,CAAC,KAAH,EAAU,CAAC,CAAC,MAAZ,EAAoB,CAAC,CAAC,OAAtB,EAA+B,CAAC,CAAC,EAAjC,CAA9B,EAAoE,CAC1F,CAAC,CAAC,KADwF,EAE1F,CAAC,CAAC,MAFwF,EAG1F,CAAC,CAAC,OAHwF,EAI1F,CAAC,CAAC,EAJwF,CAApE,CAAxB;AAOA,QAAM,CAAC,GAAG,UAAU,CAAC,CAAD,CAApB;AACA,QAAM,EAAE,GAAG,KAAK,CAAC,OAAN,CAAc,MAAM,OAAO,CAAC,GAAR,CAAa,CAAD,IAAO,YAAY,CAAC,CAAD,EAAI,cAAJ,EAAoB,CAAC,CAAC,SAAtB,CAA/B,CAApB,EAAsF,CAC/F,OAD+F,EAE/F,CAAC,CAAC,SAF6F,CAAtF,CAAX;AAKA,QAAM,WAAW,GAAG,SAAS,CAAC,OAAD,EAAU,CAAV,EAAa,CAAC,CAAC,UAAf,EAA2B,SAA3B,CAA7B;AAEA,SAAO;AACL,IAAA,OADK;AAEL,IAAA,IAAI,EAAE,QAFD;AAGL,IAAA,KAAK,EAAE,SAHF;AAIL,IAAA,CAJK;AAKL,IAAA,EALK;AAML,IAAA;AANK,GAAP;AAQD;;SAWe,c,CACd,Q,EACA,K,EACA,I,EAAqB;AAErB,SAAO,WAAW,CACf,GAAD,IAAkC;AAChC,UAAM,GAAG,GAAG,GAAG,CAAC,aAAJ,CAAkB,OAAlB,CAA0B,KAA1B,CAAZ;AACA,UAAM,IAAI,GAAI,GAAG,CAAC,aAAJ,CAAkB,OAAlB,CAA0B,IAA1B,IAAkC,KAAhD;;AACA,YAAQ,IAAR;AACE,WAAK,MAAL;AACE,QAAA,UAAU,CAAC,GAAD,EAAM,KAAN,EAAa,QAAb,EAAuB,IAAvB,CAAV;AACA;;AACF,WAAK,OAAL;AACE,QAAA,gBAAgB,CAAC,KAAD,EAAQ,QAAR,EAAkB,IAAlB,CAAhB;AACA;;AACF,WAAK,KAAL;AACA,WAAK,KAAL;AACE,QAAA,SAAS,CAAC,GAAD,EAAM;AACb,UAAA,IADa;AAEb,UAAA,QAAQ,EAAE,IAAI,GAAG,CAAC,aAAJ,CAAkB,YAAlB,CAA+B,OAA/B,CAAuC;AAFxC,SAAN,CAAT;AATJ;AAcD,GAlBe,EAmBhB,CAAC,QAAD,EAAW,KAAX,EAAkB,IAAlB,CAnBgB,CAAlB;AAqBF;ACjJA;;;;;;;;MAkBa,WAAW;AAAA;AAAkB,KAAK,CAAC,UAAN,CAAiB,SAAS,WAAT,CACzD,KADyD,EAEzD,GAFyD,EAElC;AAEvB,QAAM,CAAC,GAAG,uBAAuB,CAAI,KAAJ,CAAjC;AACA,QAAM;AAAE,IAAA,SAAS,GAAG,IAAd;AAAoB,IAAA,OAAO,GAAG,EAA9B;AAAkC,IAAA;AAAlC,MAAgD,CAAtD;AACA,QAAM,CAAC,GAAG,eAAe,CAAC,CAAD,CAAzB;AACA,QAAM;AAAE,IAAA,IAAF;AAAQ,IAAA,KAAR;AAAe,IAAA;AAAf,MAA+B,CAArC;AAEA,QAAM,QAAQ,GAAG,OAAO,CACtB,MAAM,uBAAuB,CAAC,CAAC,CAAC,IAAH,EAAS,CAAC,CAAC,YAAX,EAAyB,IAAzB,EAA+B,CAAC,CAAC,MAAjC,EAAyC,CAAC,CAAC,WAA3C,EAAwD,CAAC,CAAC,KAA1D,EAAiE,CAAC,CAAC,SAAnE,EAA8E,CAAC,CAAC,EAAhF,CADP,EAEtB,CAAC,CAAC,CAAC,IAAH,EAAS,CAAC,CAAC,YAAX,EAAyB,IAAzB,EAA+B,CAAC,CAAC,WAAjC,EAA8C,CAAC,CAAC,KAAhD,EAAuD,CAAC,CAAC,SAAzD,EAAoE,CAAC,CAAC,EAAtE,EAA0E,CAAC,CAAC,MAA5E,CAFsB,CAAxB;AAKA,QAAM,YAAY,GAAG,SAAS,IAAI,IAAb,IAAqBF,WAAS,CAAC,SAAD,CAA9B,GAA4C,CAAC,CAAC,KAAF,CAAQ,SAAR,CAA5C,GAAiE,IAAtF;AACA,QAAM,gBAAgB,GACpB,SAAS,IAAI,IAAb,GAAoB,IAApB,GAA2B,wBAAwB,CAAC,SAAD,EAAY,QAAQ,CAAC,cAArB,EAAqC,QAAQ,CAAC,SAA9C,CADrD;AAEA,QAAM,aAAa,GAAG,qBAAqB,CAAC,SAAD,CAA3C;AAEA,QAAM,KAAK,GAAG;IACZ,WAAW,CAAC,IAAI;IAChB,WAAW,CAAC,IAAI;;oBAEA,KAAK,CAAC,EAAE;YAChB,CAAC,CAAC,cAAc;MACtB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,UAAxB,CAAmC;;;;kBAIvB,KAAK,CAAC,EAAE;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;;aAI1B,KAAK,CAAC,EAAE;;;;mBAIF,KAAK,CAAC,EAAE;;cAEb,CAAC,CAAC,WAAW;;;SAGlB,KAAK,CAAC,EAAE;;;UAGP,KAAK,CAAC,EAAE;;oBAEE,CAAC,CAAC,OAAO;;IAEzB,WAAW,CAAC,IAAI;IAChB,WAAW,CAAC,MAAM;;IAElB,WAAW,CAAC,QAAZ,GAAuB,SAAS,KAAK,CAAC,EAAE,0BAA0B,KAAK,CAAC,EAAE,MAAM,WAAW,CAAC,QAAQ,IAApG,GAA2G,EAAE;;IAE7G,OAAO,CACN,GADD,CAEE,CAAC,CAAD,EAAI,CAAJ,KAAU,SAAS,CAAC,IAAI,QAAQ,CAAC,EAAE;YAC7B,CAAC,CAAC,KAAK;AACf,IAJA,EAMC,IAND,CAMM,IANN,CAMW;AACZ,GA5CD;AA8CA,QAAM,WAAW,GAAG,cAAc,CAAC,QAAD,EAAW,CAAX,EAAc,MAAd,CAAlC;AAEA,QAAM,QAAQ,GAAG,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,MAAhB,CACf,CAAC,GAAD,EAAM,CAAN,KAAY,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAC,CAAC,CAAF,CAAI,EAAJ,IAAU,SAAS,CAAC,CAAC,CAAC,CAAH,CAAT,GAAiB,CAAC,CAAC,CAAF,CAAI,EAArB,GAA0B,CAAC,CAAC,CAAF,CAAI,CAAxC,CAAd,CADG,EAEf,IAAI,CAAC,IAAL,CAAU,CAFK,CAAjB;AAKA,SACE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AACT,IAAA,KAAK,EAAE,KADE;AAET,IAAA,KAAK,EAAE,KAFE;AAGT,IAAA,aAAa,EAAE,aAHN;AAIT,IAAA,IAAI,EAAE,IAJG;AAKT,IAAA,CAAC,EAAE,CALM;AAMT,IAAA,IAAI,EAAE,QANG;AAOT,IAAA,IAAI,EAAE,GAPG;AAQT,IAAA,CAAC,EAAE,CAAC,CAAC,CARI;AAST,IAAA,WAAW,EAAE;AATJ,GAAX,EAWE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,KAAK,EAAE;AAAtB,GAAX,CAXF,EAYE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,OAAF,IAAa,aAAa,KAAK,CAAC,EAAE,EAAnC;AAAlB,GAAA,EACG,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,GAAhB,CAAoB,CAAC,CAAD,EAAI,CAAJ,KACnB,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,GAAG,EAAE,CAAC,CAAC,GADT;AAEE,IAAA,CAAC,EAAE,CAAC,CAAC,CAAF,CAAI,IAAJ,CAAS,CAFd;AAGE,IAAA,CAAC,EAAE,CAAC,CAAC,CAAF,CAAI,IAAJ,CAAS,CAHd;AAIE,IAAA,OAAO,EAAE,CAAC,CAAC,CAAF,CAAI,OAAJ,CAAY,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,CAAhB,CAAZ,EAAgC,EAAhC,CAJX;AAKE,IAAA,YAAY,EAAE,CAAC,CAAC,CAAF,CAAI,YAAJ,CAAiB,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,CAAhB,CAAjB,EAAqC,EAArC,CALhB;AAME,IAAA,YAAY,EAAE,CAAC,CAAC,CAAF,CAAI,YANpB;AAOE,IAAA,aAAa,EAAE,CAAC,CAAC,CAAF,CAAI,aAAJ,CAAkB,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,CAAhB,CAAlB,EAAsC,EAAtC,CAPjB;AAQE,IAAA,WAAW,EAAE,CAAC,CAAC,CAAF,CAAI,WAAJ,CAAgB,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,CAAhB,CAAhB,EAAoC,EAApC,CARf;AASE,IAAA,SAAS,EAAE,IAAI,CACb,gBAAgB,KAAK,CAAC,EAAE,EADX,EAEb,GAAG,CAAC,CAAC,CAAF,CAAI,KAAK,QAAQ,KAAK,CAAC,EAAE,EAFf,EAGb,GAAG,CAAC,CAAC,CAAF,CAAI,aAAa,QAAQ,KAAK,CAAC,EAAE,EAHvB;AATjB,GAAA,EAeG,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,CAAhB,EAAmB,IAftB,CADD,CADH,CAZF,EAiCE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,OAAF,IAAa,aAAa,KAAK,CAAC,EAAE,EAAnC;AAAlB,GAAA,EACG,QAAQ,CAAC,EAAT,CAAY,CAAZ,CAAc,GAAd,CAAkB,CAAC,CAAD,EAAI,CAAJ,KACjB,KAAA,CAAA,aAAA,CAAC,qBAAD,EAAsB;AACpB,IAAA,GAAG,EAAE,CAAC,CAAC,GADa;AAEpB,IAAA,CAAC,EAAE,CAAC,CAAC,CAFe;AAGpB,IAAA,CAAC,EAAE,CAHiB;AAIpB,IAAA,KAAK,EAAE,CAAC,CAAC,CAJW;AAKpB,IAAA,IAAI,EAAE,IALc;AAMpB,IAAA,KAAK,EAAE,KANa;AAOpB,IAAA,IAAI,EAAE,QAPc;AAQpB,IAAA,IAAI,EAAE,CAAC,CAAC,MARY;AASpB,IAAA,CAAC,EAAE,CAAC,CAAC,CATe;AAUpB,IAAA,aAAa,EAAE,aAVK;AAWpB,IAAA,QAAQ,EAAE,YAAY,KAAK,CAAC,CAAC,GAAnB,IAA2B,KAAK,CAAC,SAAD,CAAL,IAAoB,QAAQ,CAAC,EAAT,CAAY,GAAZ,CAAgB,CAAC,CAAC,CAAlB,EAAqB,SAArB,CAXrC;AAYpB,IAAA,WAAW,EAAE,gBAZO;AAapB,IAAA,OAAO,EAAE,OAbW;AAcpB,IAAA,EAAE,EAAE,CAAC,CAAC;AAdc,GAAtB,CADD,CADH,CAjCF,EAqDE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACG,QAAQ,CAAC,IAAT,CAAc,CAAd,CAAgB,GAAhB,CAAqB,CAAD,IACnB,SAAS,CAAC,CAAC,CAAC,CAAH,CAAT,GACE,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA;AACE,IAAA,GAAG,EAAE,CAAC,CAAC,GADT;AAEE,IAAA,EAAE,EAAE,CAAC,CAAC,CAAF,CAAI,EAFV;AAGE,IAAA,EAAE,EAAE,CAAC,CAAC,CAAF,CAAI,EAHV;AAIE,IAAA,SAAS,EAAE,aAAa,CAAC,CAAC,CAAF,CAAI,EAAE,IAAI,CAAC,CAAC,CAAF,CAAI,EAAE,WAAW,CAAC,CAAC,CAAF,CAAI,QAAQ,GAJjE;AAKE,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,GAA/C,CALjB;AAME,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AANtB,GAAA,CADF,GAUE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AACE,IAAA,GAAG,EAAE,CAAC,CAAC,GADT;AAEE,IAAA,EAAE,EAAE,CAAC,CAAC,CAAF,CAAI,EAFV;AAGE,IAAA,EAAE,EAAE,CAAC,CAAC,CAAF,CAAI,EAHV;AAIE,IAAA,CAAC,EAAE,CAAC,CAAC,CAAF,CAAI,CAJT;AAKE,IAAA,SAAS,EAAE,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE,EAA1B,EAA8B,KAAK,CAAC,UAAN,CAAiB,GAA/C,CALjB;AAME,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa;AANtB,GAAA,CAXH,CADH,CArDF,CADF;AA+ED,CAvJyC,C;AClB1C;;;;;;;AAwBA,MAAM,QAAQ;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,QAAT,SAA0E;AAAA,MAArD;AAAE,IAAA,CAAF;AAAK,IAAA,CAAL;AAAQ,IAAA,CAAR;AAAW,IAAA,SAAX;AAAsB,IAAA,IAAtB;AAA4B,IAAA;AAA5B,GAAqD;AACnH,QAAM,CAAC,GAAG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAV;AACA,QAAM,CAAC,GAAG,IAAI,CAAC,EAAL,CAAQ,KAAR,CAAc,CAAC,CAAC,WAAhB,CAAV;AACA,QAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAL,GAAY,IAAI,CAAC,EAAL,CAAQ,SAArB,IAAkC,CAA5C;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,IAAA,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GADrC;AAEE,IAAA,YAAY,EAAE,CAAC,CAAC,YAAF,CAAe,CAAf,EAAkB,EAAlB,CAFhB;AAGE,IAAA,YAAY,EAAE,CAAC,CAAC,YAHlB;AAIE,IAAA,OAAO,EAAE,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,EAAb,CAJX;AAKE,IAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,CAAhB,EAAmB,EAAnB,CALjB;AAME,IAAA,WAAW,EAAE,CAAC,CAAC,WAAF,CAAc,CAAd,EAAiB,EAAjB,CANf;AAOE,IAAA,SAAS,EAAE,SAPb;AAOsB,wBACF,CAAC,CAAC;AARtB,GAAA,EAUG,KAAK,CAAC,QAAN,IACC,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EACG,CAAC,CAAC,IADL,E,IAAA,EACa,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,CAAC,CAAC,WAAnB,CADb,CAXJ,EAeE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,KAAK,EAAE,IAAI,CAAC,IAAlB;AAAwB,IAAA,MAAM,EAAE,IAAI,CAAC,IAArC;AAA2C,IAAA,SAAS,EAAE,mBAAmB,KAAK,CAAC,EAAE;AAAjF,GAAA,CAfF,EAgBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CADL;AAEE,IAAA,CAAC,EAAE,CAFL;AAGE,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,GAAY,CAHtB;AAIE,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,SAJjB;AAKE,IAAA,SAAS,EAAE,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE,EAAxB,EAA4B,KAAK,CAAC,UAAN,CAAiB,GAA7C,CALjB;AAME,IAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,CAAC,KAArB;AANnB,GAAA,CAhBF,EAwBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,cADf;AAEE,IAAA,CAAC,EAAE,IAAI,CAAC,IAAL,GAAY,CAFjB;AAGE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,QAHtB;AAIE,IAAA,SAAS,EAAE,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE,EAAzB,EAA6B,KAAK,CAAC,UAAN,CAAiB,QAA9C;AAJjB,GAAA,EAMG,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,CAAC,CAAC,WAAnB,CANH,CAxBF,CADF;AAmCD,CAvC+B,CAAhC;ACxBA;;;;;;;SAgBgB,gB,CAAiB,I,EAAc,M,EAAgB,M,EAAgB,K,EAAmC;AAChH,QAAM,CAAC,GAAG,IAAI,GAAG,MAAjB;AACA,QAAM,CAAC,GAAG,IAAI,GAAG,MAAjB;AACA,SAAO,CAAC,KAAK,CAAC,CAAN,CAAQ,GAAR,CAAa,CAAD,IAAO,KAAK,CAAC,GAAG,IAAI,SAAS,CAAC,EAA1C,CAAD,EAAgD,KAAK,CAAC,CAAN,CAAQ,GAAR,CAAa,CAAD,IAAO,OAAO,CAAC,GAAG,IAAI,KAAK,CAAC,IAAxC,CAAhD,EACJ,IADI,GAEJ,IAFI,CAEC,GAFD,CAAP;AAGD;;AASD,MAAM,SAAS;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAAS,SAAT,SAAiE;AAAA,MAA3C;AAAE,IAAA,IAAF;AAAQ,IAAA,KAAR;AAAe,IAAA,IAAf;AAAqB,IAAA;AAArB,GAA2C;AAC3G,QAAM,YAAY,GAAG,KAAK,CAAC,EAAN,CAAS,MAAT,KAAoB,MAApB,GAA6B,IAAI,CAAC,EAAL,CAAQ,WAArC,GAAmD,KAAK,CAAC,EAAN,CAAS,MAAjF;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,CAAL,GAAS,YAAT,GAAwB,CAAC,KAAK,IAAI,CAAC,CAAL,GAAS,IAAI,CAAC,IAAd,GAAqB,EAAE;AAAhF,GAAA,EACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AAAC,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,KAAhB;AAAuB,IAAA,MAAM,EAAC,MAA9B;AAAqC,IAAA,IAAI,EAAE,IAAI,CAAC,IAAhD;AAAsD,IAAA,KAAK,EAAE,IAAI,CAAC,EAAL,CAAQ,gBAArE;AAAuF,IAAA,KAAK,EAAE;AAA9F,GAAL,CADF,EAEE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE,EAA5B,EAAgC,KAAK,CAAC,UAAN,CAAiB,UAAjD,CADjB;AAEE,IAAA,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,UAFtB;AAGE,IAAA,SAAS,EAAE,aAAa,CAAC,YAAY,KAAK,IAAI,CAAC,IAAI;AAHrD,GAAA,EAKG,KAAK,CAAC,EAAN,CAAS,IALZ,CAFF,CADF,EAWE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KAAK;AACpB,UAAM,CAAC,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,CAAV;AACA,UAAM,IAAI,GAAG,CAAC,CAAC,IAAf;AACA,WACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,MAAA,GAAG,EAAE,IADP;AAEE,MAAA,OAAO,EAAE,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,EAAb,CAFX;AAGE,MAAA,YAAY,EAAE,CAAC,CAAC,YAAF,CAAe,CAAf,EAAkB,EAAlB,CAHhB;AAIE,MAAA,YAAY,EAAE,CAAC,CAAC,YAJlB;AAKE,MAAA,aAAa,EAAE,CAAC,CAAC,aAAF,CAAgB,CAAhB,EAAmB,EAAnB,CALjB;AAME,MAAA,WAAW,EAAE,CAAC,CAAC,WAAF,CAAc,CAAd,EAAiB,EAAjB,CANf;AAOE,MAAA,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,QAAF,IAAc,aAAa,KAAK,CAAC,EAAE,EAApC;AAPjB,KAAA,EASG,CAAC,CAAC,IAAF,CAAO,GAAP,CAAW,CAAC,CAAD,EAAI,CAAJ,KACV,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAH,GAAS,aAAT,GAAyB,EAAE,EAFnE;AAGE,MAAA,SAAS,EAAE,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE,EAAzB;AAHjB,KAAA,EAKG,IALH,CADD,CATH,CADF;AAqBD,GAxBA,CADH,EA0BG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,GAAZ,CAAgB,CAAC,CAAD,EAAI,CAAJ,KAAK;AACpB,UAAM,IAAI,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,CAAZ,EAAe,IAA5B;AACA,WACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,QAAP,EAAe;AAAC,MAAA,GAAG,EAAE;AAAN,KAAf,EACG,CAAC,CAAC,OAAF,CAAU,GAAV,CAAc,CAAC,CAAD,EAAI,CAAJ,KACb,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAH,GAAS,aAAT,GAAyB,EAAE,EAFnE;AAGE,MAAA,SAAS,EAAE,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE,EAAzB,EAA6B,OAAO,KAAK,CAAC,EAAE,EAA5C;AAHjB,KAAA,EAKG,IALH,CADD,CADH,CADF;AAaD,GAfA,CA1BH,CAXF,EAsDE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,QAAF,IAAc,aAAa,KAAK,CAAC,EAAE,EAApC;AAAlB,GAAA,EACG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,GAAV,CAAc,CAAC,CAAD,EAAI,CAAJ,KAAK;AAClB,WAAO,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AAAC,MAAA,GAAG,EAAE,IAAI,CAAC,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAN;AAAuB,MAAA,CAAC,EAAE,CAA1B;AAA6B,MAAA,CAAC,EAAE,CAAhC;AAAmC,MAAA,CAAC,EAAE,CAAtC;AAAyC,MAAA,KAAK,EAAE,KAAhD;AAAuD,MAAA,IAAI,EAAE;AAA7D,KAAT,CAAP;AACD,GAFA,CADH,CAtDF,EA2DE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,IAAI,CAAC,IAAL,CAAU,CAAC,KAAK,IAAI,CAAC,IAAL,CAAU,CAAC;AAAtD,GAAA,EACG,IAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,GAAjB,CAAqB,CAAC,CAAD,EAAI,CAAJ,KACpB,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,GAAG,EAAE,CADP;AAEE,IAAA,CAAC,EAAE,gBAAgB,CAAC,IAAI,CAAC,IAAN,EAAY,IAAI,CAAC,IAAL,CAAU,MAAtB,EAA8B,IAAI,CAAC,IAAL,CAAU,MAAxC,EAAgD,CAAhD,CAFrB;AAGE,IAAA,SAAS,EAAE,aAAa,KAAK,CAAC,EAAE,cAAc,KAAK,CAAC,EAAE,IAAI,CAAC;AAH7D,GAAA,CADD,CADH,CA3DF,CADF;AAuED,CAzEgC,CAAjC;AC/BA;;;;;;;AAcA,SAAS,WAAT,SAgBE;AAAA,MAhBsB;AACtB,IAAA,IADsB;AAEtB,IAAA,KAFsB;AAGtB,IAAA,WAHsB;AAItB,IAAA,SAJsB;AAKtB,IAAA,OALsB;AAMtB,IAAA,MANsB;AAOtB,IAAA;AAPsB,GAgBtB;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,EAAL,CAAQ,SAAtB;AACA,QAAM,MAAM,GAAG,CAAC,IAAI,CAAC,IAAL,GAAY,KAAb,IAAsB,CAArC;AACA,QAAM,SAAS,GAAG,IAAI,CAAC,OAAO,MAAM,EAAd,EAAkB,CAAC,OAAD,IAAY,SAAS,KAAK,CAAC,EAAE,EAA/C,EAAmD,KAAK,CAAC,UAAN,CAAiB,GAApE,CAAtB;AACA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAA,kBAAe,SAAS,GAAG,MAAH,GAAY;AAApC,GAAA,EACG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,GAAV,CAAc,CAAC,CAAD,EAAI,CAAJ,KAAK;AAClB,UAAM,CAAC,GAAG,IAAI,CAAC,EAAL,CAAQ,CAAR,CAAU,CAAV,CAAV;AACA,UAAM,GAAG,GAAG,IAAI,CAAC,EAAL,CAAQ,IAAR,CAAa,CAAb,CAAZ;;AACA,QAAI,KAAK,IAAI,CAAC,SAAd,EAAyB;AACvB,aACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,QAAA,GAAG,EAAE,GADP;AAEE,QAAA,CAAC,EAAE,CAAC,CAAC,CAAF,GAAM,MAFX;AAGE,QAAA,CAAC,EAAE,CAAC,CAAC,CAAF,GAAM,IAAI,CAAC,IAHhB;AAIE,QAAA,MAAM,EAAE,CAJV;AAKE,QAAA,KAAK,EAAE,KALT;AAME,QAAA,SAAS,EAAE,SANb;AAOE,QAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AAPnB,OAAA,EASG,OAAO,IAAI,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,CATd,CADF;AAaD;;AACD,UAAM,CAAC,GAAG,WAAW,CAAC,CAAD,CAArB;;AACA,QAAI,CAAC,KAAK,CAAV,EAAa;AACX,aAAO,IAAP;AACD;;AACD,UAAM,CAAC,GAAG,IAAI,CAAC,EAAL,CAAQ,KAAR,CAAc,CAAd,CAAV;AAEA,UAAM,KAAK,GAAG,OAAO,IAAI,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,GAAG,CAAC,CAAC,IAAI,MAAM,OAAO,KAAK,CAAC,EAApC,CAAzB;AACA,WAAO,SAAS,GACd,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,GADP;AAEE,MAAA,SAAS,EAAE,aAAa,CAAC,CAAC,CAAF,GAAM,MAAM,KAAK,CAAC,CAAC,CAAF,GAAM,CAAC,GAFlD;AAGE,MAAA,CAAC,EAAE,UAAU,KAAK,YAAY,CAAC,KAAK,QAAQ,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,MACjF,IAAI,CAAC,YACP,IAAI,IAAI,CAAC,YAAY,IALvB;AAME,MAAA,SAAS,EAAE,SANb;AAMsB,gBACZ,CAPV;AAOW,0BACS,CARpB;AASE,MAAA,KAAK,EAAE,UAAU,CAAC,SAAD,EAAY,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAA9C;AATnB,KAAA,EAWG,KAXH,CADc,GAed,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAE,GADP;AAEE,MAAA,CAAC,EAAE,CAAC,CAAC,CAAF,GAAM,MAFX;AAGE,MAAA,CAAC,EAAE,CAAC,CAAC,CAAF,GAAM,CAHX;AAIE,MAAA,MAAM,EAAE,IAAI,CAAC,IAAL,GAAY,CAJtB;AAIuB,gBACb,CALV;AAKW,0BACS,CANpB;AAOE,MAAA,KAAK,EAAE,KAPT;AAQE,MAAA,SAAS,EAAE,SARb;AASE,MAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,MAAN,CAAa,GAAd,EAAmB,CAAC,KAAK,CAAC,cAAP,GAAwB,CAAC,CAAC,KAA1B,GAAkC,SAArD;AATnB,KAAA,EAWG,KAXH,CAfF;AA6BD,GAtDA,CADH,CADF;AA2DF;AC7FA;;;;;;;;AAqBA,MAAMI,aAAW;AAAA;AAAkB,KAAK,CAAC,IAAN,CAAW,SAASA,aAAT,SAMxB;AAAA,MANgD;AACpE,IAAA,IADoE;AAEpE,IAAA,KAFoE;AAGpE,IAAA,QAHoE;AAIpE,IAAA,SAJoE;AAKpE,IAAA;AALoE,GAMhD;AACpB,QAAM,EAAE,GAAG,OAAO,CAChB,MACE,OAAO,CAAC,GAAR,CAAa,CAAD,IAAE,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACT,CADS,CAAA,EACR;AACJ,IAAA,OAAO,EAAE,YAAY,CAAC,CAAD,EAAI,cAAJ,EAAoB,IAAI,CAAC,SAAzB;AADjB,GADQ,CAAd,CAFc,EAMhB,CAAC,OAAD,EAAU,IAAI,CAAC,SAAf,CANgB,CAAlB;AASA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,QAAQ,IAAI,CAAC,SAAb,GAAyB,SAAS,KAAK,CAAC,EAAE,EAA1C,GAA+C;AAA7D,GAAA,EACG,EAAE,CAAC,GAAH,CAAO,CAAC,CAAD,EAAI,CAAJ,KACN,KAAA,CAAA,aAAA,CAACC,WAAD,EAAmB;AACjB,IAAA,GAAG,EAAE,CAAC,CAAC,IADU;AAEjB,IAAA,IAAI,EAAE,IAFW;AAGjB,IAAA,KAAK,EAAE,KAHU;AAIjB,IAAA,WAAW,EAAE,CAAC,CAAC,OAJE;AAKjB,IAAA,MAAM,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EALP;AAMjB,IAAA,SAAS,EAAE,SAAS,IAAI,CAAC,GAAG,CANX;AAOjB,IAAA,OAAO,EAAE,QAAQ,IAAI,EAAE,SAAS,IAAI,CAAC,GAAG,CAAnB,CAAZ,GAAoC,SAApC,GAAgD,CAAC,CAAC;AAP1C,GAAnB,CADD,CADH,CADF;AAeD,CA/BkC,CAAnC;ACrBA;;;;;;;SAcwB,a,SAUtB;AAAA,MAVuC;AACvC,IAAA,IADuC;AAEvC,IAAA,KAFuC;AAGvC,IAAA,SAHuC;AAIvC,IAAA;AAJuC,GAUvC;AACA,QAAM,KAAK,GAAG,KAAK,CAAC,cAApB;AAEA,QAAM,gBAAgB,GAAG,wBAAwB,CAAC,SAAD,EAAY,IAAI,CAAC,cAAjB,EAAiC,IAAI,CAAC,SAAtC,CAAjD;AACA,QAAM,aAAa,GAAG,qBAAqB,CAAC,SAAD,CAA3C;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,QAAQ,GAAG,SAAS,KAAK,CAAC,EAAE,EAApB,GAAyB;AAA/C,GAAA,EACG,CAAC,SAAS,IAAI,KAAd,KACC,KAAA,CAAA,aAAA,CAACA,WAAD,EAAmB;AACjB,IAAA,IAAI,EAAE,IADW;AAEjB,IAAA,KAAK,EAAE,KAFU;AAGjB,IAAA,KAAK,EAAE,KAAK,IAAI,CAAC,SAHA;AAIjB,IAAA,WAAW,EAAE,gBAJI;AAKjB,IAAA,MAAM,EAAE,aAAa,KAAK,CAAC,EAAE,EALZ;AAMjB,IAAA,OAAO,EAAE,QAAQ,GAAG,SAAH,GAAe;AANf,GAAnB,CAFJ,CADF;AAcF;;SCtCgB,M,CAAU,K,EAAe,E,EAAoB;AAC3D,SAAO,KAAK,CAAC,KAAD,CAAL,CACJ,IADI,CACC,CADD,EAEJ,GAFI,CAEA,CAAC,CAAD,EAAI,CAAJ,KAAU,EAAE,CAAC,CAAD,CAFZ,CAAP;AAGD;;SAEe,c,CAAe,O,EAAe;;AAE5C,QAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,OAAZ,CAAD,CAAL,CAA4B,IAA5B,CAAiC,CAAjC,CAAd;AACA,EAAA,MAAM,CAAC,OAAD,EAAW,CAAD,IAAE;AAChB,UAAM,KAAK,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAd;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAC,MAA1B,EAAkC,CAAC,IAAI,KAAvC,EAA8C;AAC5C,MAAA,KAAK,CAAC,CAAD,CAAL;AACD;AACF,GALK,CAAN;AAOA,QAAM,MAAM,GAAe,MAAM,CAAC,IAAI,CAAC,GAAL,CAAS,OAAT,EAAkB,CAAlB,CAAD,EAAuB,MAAM,EAA7B,CAAjC;AACA,EAAA,KAAK,CAAC,OAAN,CAAc,CAAC,CAAD,EAAI,CAAJ,KAAK;AACjB,UAAM,KAAK,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,GAAG,CAAhB,CAAd,CADiB,C;;AAGjB,IAAA,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAmB,CAAnB;AACD,GAJD,EAX4C,C;;AAiB5C,EAAA,MAAM,CAAC,MAAM,CAAC,MAAP,GAAgB,CAAjB,CAAN,CAA0B,IAA1B,CAA+B,KAAK,CAAC,MAArC;AACA,SAAO,MAAP;AACD;;SAEe,Q,CACd,I,EACA,E,EACA,G,EACA,O,EAAyB;AAEzB,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA,OAAX;AAAoB,IAAA,IAApB;AAA0B,IAAA,MAA1B;AAAkC,IAAA,MAAlC;AAA0C,IAAA,cAA1C;AAA0D,IAAA;AAA1D,MAA2E,MAAM,CAAC,IAAI,CAAC,MAAN,EAAc,OAAd,CAAvF;AAEA,QAAM,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,MAAN,EAAc,OAAd,CAAnB;AAEA,QAAM,MAAM,GAAG,mBAAmB,CAAO,IAAP,EAAa,MAAb,EAAqB,MAArB,EAA6B,GAA7B,CAAlC;AAEA,QAAM,CAAC,GAAG,EAAE,CAAC,GAAH,CAAQ,CAAD,IAAE;AACjB,UAAM,CAAC,CAAD,EAAI,CAAJ,IAAS,MAAM,CAAC,WAAP,CAAmB,CAAC,GAAD,EAAM,CAAN,KAAY,CAAC,CAAC,CAAD,EAAI,GAAJ,CAAhC,EAA0C,CAAC,CAAD,EAAI,CAAJ,CAA1C,CAAf;AACA,WAAO;AACL,MAAA,CAAC,EAAE,OAAO,GAAG,CAAC,GAAG,IADZ;AAEL,MAAA,CAAC,EAAE,OAAO,GAAG,CAAC,GAAG;AAFZ,KAAP;AAID,GANS,CAAV;AAQA,QAAM,OAAO,GAAG,cAAc,CAAC,cAAD,CAA9B;AACA,QAAM,OAAO,GAAG,cAAc,CAAC,YAAD,CAA9B;AAEA,SAAO;AACL,IAAA,CADK;AAEL,IAAA,CAFK;AAGL,IAAA,IAHK;AAIL,IAAA,IAAI,EAAE;AACJ,MAAA,CAAC,EAAE,OADC;AAEJ,MAAA,CAAC,EAAE,OAFC;AAGJ,MAAA,MAHI;AAIJ,MAAA,MAJI;AAKJ,MAAA,MAAM,EAAE,OAAO,CAAC,GAAR,CAAY,CAAC,CAAD,EAAI,CAAJ,MAAW;AAC7B,QAAA,CAAC,EAAE,CAD0B;AAE7B,QAAA,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAZ,GAAqB,OAAO,CAAC,CAAD,CAA5B,GAAkC;AAFR,OAAX,CAAZ;AALJ;AAJD,GAAP;AAeD;;SAEe,mB,CACd,I,EACA,M,EACA,M,EACA,G,EAA6B;AAE7B,SAAO,IAAI,CAAC,GAAL,CAAS,CAAC,CAAD,EAAI,CAAJ,KAAK;AACnB,UAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,GAAG,CAAf,CAAd;AACA,UAAM,GAAG,GAAG,CAAC,GAAG,CAAJ,KAAU,CAAtB;AACA,UAAM,SAAS,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,KAAZ,CAAlB;AACA,UAAM,IAAI,GAAG,CAAC,GAAG,GAAG,MAAH,GAAY,MAAhB,IAA0B,SAA1B,GAAsC,CAAnD;AAEA,WAAO,CAAC,EAAD,aAAgC;AAAA,UAAxB,CAAC,CAAD,EAAI,CAAJ,CAAwB;;AACrC,UAAI,GAAG,CAAC,EAAD,EAAK,CAAL,CAAP,EAAgB;AACd,eAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACD;;AACD,UAAI,IAAI,GAAG,CAAX,EAAc;;AAEZ,YAAI,GAAJ,EAAS;AACP,iBAAO,CAAC,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,IAAhB,EAAsB,CAAtB,CAAP;AACD;;AACD,eAAO,CAAC,CAAD,EAAI,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,IAAnB,CAAP;AACD,OAVoC,C;;;AAYrC,UAAI,GAAJ,EAAS;AACP,eAAO,CAAC,CAAC,GAAG,IAAL,EAAW,CAAX,CAAP;AACD;;AACD,aAAO,CAAC,CAAD,EAAI,CAAC,GAAG,IAAR,CAAP;AACD,KAhBD;AAiBD,GAvBM,CAAP;AAwBD;;SAEe,S,CAAU,I,EAAc,O,EAAyB;AAC/D,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA,OAAX;AAAoB,IAAA,IAApB;AAA0B,IAAA,OAA1B;AAAmC,IAAA,OAAnC;AAA4C,IAAA,MAA5C;AAAoD,IAAA;AAApD,MAA+D,MAAM,CAAC,IAAD,EAAO,OAAP,CAA3E;AAEA,QAAM,SAAS,GAAG,OAAO,CAAC,KAAR,GAAgB,OAAlC;AACA,QAAM,SAAS,GAAG,OAAO,CAAC,MAAR,GAAiB,OAAnC;AAEA,SAAO,MAAM,CAAC,IAAD,EAAQ,CAAD,IAAE;AACpB,UAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,GAAG,CAAf,CAAd;AACA,UAAM,GAAG,GAAG,CAAC,GAAG,CAAJ,KAAU,CAAtB;AACA,UAAM,SAAS,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,KAAZ,CAAlB;AACA,UAAM,IAAI,GAAG,CAAC,GAAG,GAAG,MAAH,GAAY,MAAhB,IAA0B,SAA1B,GAAsC,CAAnD;AACA,UAAM,IAAI,GAAG,GAAG,GAAG,OAAH,GAAa,OAA7B;AAEA,UAAM,MAAM,GAAG,CACb;AACE,MAAA,CAAC,EAAE,IADL;AAEE,MAAA,CAAC,EAAE,IAAI,GAAG,IAAI,GAAG,IAAP,GAAc;AAF1B,KADa,EAKb;AACE,MAAA,CAAC,EAAE,KADL;AAEE,MAAA,CAAC,EAAE,IAAI,GAAG,IAAI,GAAG,IAAP,GAAc;AAF1B,KALa,CAAf;;AAUA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,IAAI,KAArB,EAA4B,CAAC,EAA7B,EAAiC;;AAE/B,YAAM,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAP,GAAwB,IAAvC;AACA,YAAM,CAAC,GAAG,MAAM,CAAC,MAAP,GAAgB,CAA1B;AACA,MAAA,MAAM,CAAC,IAAP,CACE,GAAG,MAAM,CAAC,GAAP,CAAW,CAAC,EAAD,EAAK,CAAL,MAAY;AACxB,QAAA,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,CAAL,CAAN,CAAc,CADO;AAExB,QAAA,CAAC,EAAE,EAAE,CAAC,CAAH,GAAO;AAFc,OAAZ,CAAX,CADL;AAMD;;AACD,UAAM,YAAY,GAAG,KAAK,GAAG,CAAR,KAAc,CAAnC;AACA,UAAM,gBAAgB,GAAG,IAAI,CAAC,KAAL,CAAW,KAAK,GAAG,CAAnB,CAAzB;AAEA,QAAI,IAAI,GAAG,CAAX;;AACA,QAAI,YAAJ,EAAkB;AAChB,YAAM,GAAG,GAAG,GAAG,GAAG,SAAH,GAAe,SAA9B;AACA,MAAA,IAAI,GAAG,GAAG,GAAG,OAAO,CAAC,WAAR,IAAuB,MAAM,gBAA7B,CAAb;AACD,KAHD,MAGO;AACL,YAAM,KAAK,GAAG,GAAG,GAAG,OAAH,GAAa,OAA9B;AACA,MAAA,IAAI,GAAG,KAAK,GAAG,OAAO,CAAC,WAAR,IAAuB,MAAM,gBAA7B,CAAf;AACD;;AACD,QAAI,GAAJ,EAAS;AACP,aAAO;AACL,QAAA,GAAG,EAAE,IADA;AAEL,QAAA,IAFK;AAGL,QAAA,IAAI,EAAE,MAAM,CAAC,MAAP,CAAe,CAAD,IAAO,CAAC,CAAC,CAAvB,EAA0B,GAA1B,CAA+B,CAAD,KAAQ;AAAE,UAAA,CAAC,EAAE,CAAC,CAAC,CAAP;AAAU,UAAA,CAAC,EAAE;AAAb,SAAR,CAA9B,CAHD;AAIL,QAAA,OAAO,EAAE,MAAM,CAAC,MAAP,CAAe,CAAD,IAAO,CAAC,CAAC,CAAC,CAAxB,EAA2B,GAA3B,CAAgC,CAAD,KAAQ;AAAE,UAAA,CAAC,EAAE,CAAC,CAAC,CAAP;AAAU,UAAA,CAAC,EAAE;AAAb,SAAR,CAA/B;AAJJ,OAAP;AAMD;;AACD,WAAO;AACL,MAAA,GAAG,EAAE,KADA;AAEL,MAAA,IAFK;AAGL,MAAA,IAAI,EAAE,MAAM,CAAC,MAAP,CAAe,CAAD,IAAO,CAAC,CAAC,CAAvB,EAA0B,GAA1B,CAA+B,CAAD,KAAQ;AAAE,QAAA,CAAC,EAAE,IAAL;AAAW,QAAA,CAAC,EAAE,CAAC,CAAC;AAAhB,OAAR,CAA9B,CAHD;AAIL,MAAA,OAAO,EAAE,MAAM,CAAC,MAAP,CAAe,CAAD,IAAO,CAAC,CAAC,CAAC,CAAxB,EAA2B,GAA3B,CAAgC,CAAD,KAAQ;AAAE,QAAA,CAAC,EAAE,IAAL;AAAW,QAAA,CAAC,EAAE,CAAC,CAAC;AAAhB,OAAR,CAA/B;AAJJ,KAAP;AAMD,GArDY,CAAb;AAsDD;;SAEe,M,CAAO,I,EAAc,O,EAAyB;AAC5D,QAAM,cAAc,GAAG,IAAI,CAAC,IAAL,CAAU,IAAI,GAAG,CAAjB,CAAvB;AACA,QAAM,YAAY,GAAG,IAAI,CAAC,KAAL,CAAW,IAAI,GAAG,CAAlB,CAArB;AAEA,QAAM,MAAM,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,cAAZ,CAAf;AACA,QAAM,MAAM,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,YAAZ,CAAf;AAEA,QAAM,IAAI,GAAG,IAAI,CAAC,KAAL,CACX,IAAI,CAAC,GAAL,CACE,CAAC,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,WAAR,GAAsB,YAAvC,IAAuD,MADzD,EAEE,CAAC,OAAO,CAAC,MAAR,GAAiB,OAAO,CAAC,WAAR,GAAsB,cAAxC,IAA0D,MAF5D,CADW,CAAb;AAMA,QAAM,OAAO,GAAG,CAAC,OAAO,CAAC,KAAR,GAAgB,MAAM,GAAG,IAAzB,GAAgC,OAAO,CAAC,WAAR,GAAsB,YAAvD,IAAuE,CAAvF;AACA,QAAM,OAAO,GAAG,CAAC,OAAO,CAAC,MAAR,GAAiB,MAAM,GAAG,IAA1B,GAAiC,OAAO,CAAC,WAAR,GAAsB,cAAxD,IAA0E,CAA1F;AAEA,QAAM,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,IAAL,CAAU,YAAY,GAAG,CAAzB,IAA8B,OAAO,CAAC,WAAhE;AACA,QAAM,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,IAAL,CAAU,cAAc,GAAG,CAA3B,IAAgC,OAAO,CAAC,WAAlE;AAEA,SAAO;AAAE,IAAA,OAAF;AAAW,IAAA,cAAX;AAA2B,IAAA,OAA3B;AAAoC,IAAA,YAApC;AAAkD,IAAA,IAAlD;AAAwD,IAAA,OAAxD;AAAiE,IAAA,OAAjE;AAA0E,IAAA,MAA1E;AAAkF,IAAA;AAAlF,GAAP;AACF;AC3LA;;;;;;;;SA4DwB,2B,CACtB,I,EACA,Y,EACA,I,EACA,Y,EACA,gB,EACA,U,EACA,gB,EACA,Y,EACA,K,EACA,S,EACA,E,EACA,mB,EAA4B;AAE5B,QAAM,mBAAmB,GAAG,mBAAmB,CAAC,YAAD,CAA/C;AACA,QAAM,OAAO,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,CAAhB;AACA,QAAM,EAAE,GAAGH,iBAAe,CAAC,YAAD,CAAfA,GACP,YADOA,GAEP,oBAAoB,CAClB,IADkB,EAElB,MAAM,CAAC,MAAP,CACE;AACE,IAAA,IAAI,EAAE;AADR,GADF,EAIE,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAA,YAAA,GAAgB,EAJlB,CAFkB,CAFxB;AAWA,QAAM,MAAM,GAAG,EAAE,CAAC,GAAH,CAAO,KAAP,CAAf;;AAEA,QAAM,GAAG,GAAG,CAAC,CAAD,EAAwB,CAAxB,KAAkC;AAC5C,UAAM,EAAE,GAAG,KAAK,CAAC,CAAD,CAAhB;AACA,WAAO,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,IAAnB,CAAyB,EAAD,IAAQ,KAAK,CAAC,EAAD,CAAL,KAAc,EAA9C,CAAP;AACD,GAHD;;AAIA,QAAM,WAAW,GAAG,IAAI,CAAC,IAAL,CAAU,gBAAgB,GAAG,GAA7B,CAApB;AACA,QAAM,CAAC,GAAG,QAAQ,CAAC,IAAD,EAAO,EAAP,EAAW,GAAX,EAAgB;AAChC,IAAA,KAAK,EAAE,IAAI,CAAC,IAAL,CAAU,CADe;AAEhC,IAAA,MAAM,EAAE,IAAI,CAAC,IAAL,CAAU,CAFc;AAGhC,IAAA;AAHgC,GAAhB,CAAlB;AAMA,QAAM,gBAAgB,GAAG,mBAAmB,KAAA,IAAnB,IAAA,mBAAmB,KAAA,KAAA,CAAnB,GAAA,mBAAA,GAAuB,EAAE,CAAC,MAAH,CAAU,CAAC,GAAD,EAAM,CAAN,KAAY,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAC,CAAC,WAAhB,CAAtB,EAAoD,CAApD,CAAhD;AACA,QAAM,KAAK,GAAG,mBAAmB,CAAC,gBAAD,EAAmB,CAAC,CAAC,CAAC,IAAH,EAAS,gBAAT,CAAnB,EAA+C;AAC9E,IAAA,WAAW,EAAE,UADiE;AAE9E,IAAA,YAAY,EAAE;AAFgE,GAA/C,CAAjC;AAIA,QAAM,SAAS,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,CAAC,IAAF,IAAU,IAAI,UAAd,CAAX,CAAlB;AACA,QAAM,YAAY,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,CAAT,EAAa,SAAS,GAAG,CAAb,GAAkB,UAA9B,CAAT,EAAoD,CAApD,CAArB;;AACA,QAAM,eAAe,GAAI,CAAD,IAAe,IAAI,CAAC,KAAL,CAAY,gBAAgB,GAAG,GAApB,GAA2B,GAA3B,GAAiC,KAAK,CAAC,UAAN,GAAmB,CAAnB,EAAsB,MAAlE,CAAvC;;AAEA,QAAM,mBAAmB,GAAG,eAAe,CAAC,gBAAD,CAA3C;AAEA,SAAO;AACL,IAAA,EAAE,EAAE,EAAE,GAAG,EAAH,GAAQ,UAAU,EADnB;AAEL,IAAA,IAAI,EAAE,CAAC,CAAC,IAFH;AAGL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,OADF;AAEJ,MAAA,CAAC,EAAE,CAAC,CAAC,CAFD;AAGJ,MAAA,CAAC,EAAE,IAHC;AAIJ,MAAA,WAJI;AAKJ,MAAA,MAAM,EAAE,KAAK,CAAC,UAAN;AALJ,KAHD;AAUL,IAAA,YAVK;AAWL,IAAA,IAAI,EAAE,CAAC,CAAC,IAXH;AAYL,IAAA,EAAE,EAAE;AACF,MAAA,IAAI,EAAE,MADJ;AAEF,MAAA,CAAC,EAAE,CAAC,CAAC,CAFH;AAGF,MAAA,CAAC,EAAE,EAHD;AAIF,MAAA,gBAJE;AAKF,MAAA,GALE;AAMF,MAAA,KANE;AAOF,MAAA,SAPE;AAQF,MAAA,WAAW,EAAE,mBAAmB,GAAG,CAAtB,GAA0B;AARrC,KAZC;AAsBL,IAAA,KAtBK;AAuBL,IAAA,SAvBK;AAwBL,IAAA,cAAc,EAAE,uBAAuB,CAAC,EAAD,EAAK,eAAL,EAAsB,KAAtB;AAxBlC,GAAP;AA0BF;ACzIA;;;;;;;;SAUwBI,sB,CACtB,K,EACA,M,EACA,U,EACA,e,EACA,yB,EACA,O,EACA,c,EACA,c,EACA,c,EACA,K,EACA,W,EACA,Q,EAAiB;AAEjB,SAAO;AACL,IAAA,KADK;AAEL,IAAA,MAFK;AAGL,IAAA,UAAU,EAAE,UAHP;AAIL,IAAA,cAJK;AAKL,IAAA,EAAE,EAAE,OALC;AAML,IAAA,cANK;AAOL,IAAA,cAPK;AAQL,IAAA,KARK;AASL,IAAA,WATK;AAUL,IAAA,QAVK;AAWL,IAAA,EAAE,EAAE;AACF,MAAA,IAAI,EAAE,eADJ;AAEF,MAAA,MAAM,EAAE;AAFN;AAXC,GAAP;AAgBF;ACxCA;;;;;;;;MAsBa,WAAW;AAAA;AAAkB,KAAK,CAAC,UAAN,CAAiB,SAAS,WAAT,CACzD,KADyD,EAEzD,GAFyD,EAElC;AAEvB,QAAM,CAAC,GAAG,uBAAuB,CAAI,KAAJ,CAAjC;AACA,QAAM;AAAE,IAAA,OAAO,GAAG,EAAZ;AAAgB,IAAA,SAAhB;AAA2B,IAAA,SAAS,GAAG;AAAvC,MAAgD,CAAtD,CAHuB,C;;AAKvB,QAAM,OAAO,GAAG,OAAO,CACrB,MACE,CAAC,CAAC,EAAF,GACI,CAAC,CAAC,EADN,GAEI,UAAU,CAAC,CACT,CAAC,CAAC,UADO,EAET,SAAS,CAAC,QAFD,EAGT,SAAS,CAAC,QAHD,EAIT,SAAS,CAAC,MAJD,EAKT,SAAS,CAAC,QALD,EAMT,SAAS,CAAC,KAND,EAOT,SAAS,CAAC,WAPD,EAQT,SAAS,CAAC,WARD,EAST,CAAC,CAAC,SATO,EAUT,CAAC,CAAC,KAVO,EAWT,CAAC,CAAC,iBAXO,EAYT,CAAC,CAAC,WAZO,EAaT,CAAC,CAAC,cAbO,EAcT,CAAC,CAAC,OAdO,EAeT,CAAC,CAAC,mBAfO,CAAD,CAJK,EAqBrB,CACE,CAAC,CAAC,EADJ,EAEE,CAAC,CAAC,UAFJ,EAGE,SAAS,CAAC,QAHZ,EAIE,SAAS,CAAC,QAJZ,EAKE,SAAS,CAAC,MALZ,EAME,SAAS,CAAC,QANZ,EAOE,SAAS,CAAC,KAPZ,EAQE,SAAS,CAAC,WARZ,EASE,SAAS,CAAC,WATZ,EAUE,CAAC,CAAC,SAVJ,EAWE,CAAC,CAAC,KAXJ,EAYE,CAAC,CAAC,iBAZJ,EAaE,CAAC,CAAC,WAbJ,EAcE,CAAC,CAAC,cAdJ,EAeE,CAAC,CAAC,OAfJ,EAgBE,CAAC,CAAC,mBAhBJ,CArBqB,CAAvB;AAyCA,QAAM,KAAK,GAAG,OAAO,CACnB,MACEC,sBAA4B,CAC1B,CAAC,CAAC,KADwB,EAE1B,CAAC,CAAC,MAFwB,EAG1B,CAAC,CAAC,UAHwB,EAI1B,CAAC,CAAC,eAJwB,EAK1B,CAAC,CAAC,yBALwB,EAM1B,OAN0B,EAO1B,CAAC,CAAC,cAPwB,EAQ1B,CAAC,CAAC,cARwB,EAS1B,CAAC,CAAC,cATwB,EAU1B,CAAC,CAAC,KAVwB,EAW1B,CAAC,CAAC,WAXwB,EAY1B,CAAC,CAAC,QAZwB,CAFX,EAgBnB,CACE,CAAC,CAAC,KADJ,EAEE,CAAC,CAAC,MAFJ,EAGE,CAAC,CAAC,UAHJ,EAIE,CAAC,CAAC,eAJJ,EAKE,CAAC,CAAC,yBALJ,EAME,OANF,EAOE,CAAC,CAAC,cAPJ,EAQE,CAAC,CAAC,cARJ,EASE,CAAC,CAAC,cATJ,EAUE,CAAC,CAAC,KAVJ,EAWE,CAAC,CAAC,WAXJ,EAYE,CAAC,CAAC,QAZJ,CAhBmB,CAArB;AAgCA,QAAM,IAAI,GAAG,OAAO,CAAC,MAAM,uBAAuB,CAAC,CAAC,CAAC,KAAH,EAAU,CAAC,CAAC,MAAZ,EAAoB,CAAC,CAAC,OAAtB,EAA+B,CAAC,CAAC,EAAjC,CAA9B,EAAoE,CACtF,CAAC,CAAC,KADoF,EAEtF,CAAC,CAAC,MAFoF,EAGtF,CAAC,CAAC,OAHoF,EAItF,CAAC,CAAC,EAJoF,CAApE,CAApB;AAOA,QAAM,IAAI,GAAG,OAAO,CAClB,MACE,2BAA2B,CACzB,CAAC,CAAC,IADuB,EAEzB,CAAC,CAAC,YAFuB,EAGzB,IAHyB,EAIzB,CAAC,CAAC,YAJuB,EAKzB,CAAC,CAAC,cAAF,GAAmB,aAAa,CAAC,SAAS,CAAC,QAAX,CALP,EAMzB,CAAC,CAAC,UANuB,EAOzB,aAAa,CAAC,SAAS,CAAC,QAAX,CAPY,EAQzB,aAAa,CAAC,SAAS,CAAC,QAAX,CARY,EASzB,CAAC,CAAC,KATuB,EAUzB,CAAC,CAAC,SAVuB,EAWzB,CAAC,CAAC,EAXuB,EAYzB,CAAC,CAAC,mBAZuB,CAFX,EAgBlB,CACE,CAAC,CAAC,IADJ,EAEE,CAAC,CAAC,YAFJ,EAGE,IAHF,EAIE,CAAC,CAAC,YAJJ,EAKE,CAAC,CAAC,cALJ,EAME,SAAS,CAAC,QANZ,EAOE,CAAC,CAAC,UAPJ,EAQE,SAAS,CAAC,QARZ,EASE,SAAS,CAAC,QATZ,EAUE,CAAC,CAAC,KAVJ,EAWE,CAAC,CAAC,SAXJ,EAYE,CAAC,CAAC,EAZJ,EAaE,CAAC,CAAC,mBAbJ,CAhBkB,CAApB;AAiCA,QAAM,CAAC,GAAG,UAAU,CAAC,CAAD,CAApB;AACA,QAAM,aAAa,GAAG,qBAAqB,CAAC,SAAD,CAA3C;AAEA,QAAM,WAAW,GAAG,SAAS,CAAC,OAAD,EAAU,CAAV,EAAa,CAAC,CAAC,UAAf,EAA2B,SAA3B,CAA7B;AAEA,QAAM,KAAK,GAAG;IACZ,WAAW,CAAC,IAAI;IAChB,WAAW,CAAC,IAAI;;mBAED,OAAO;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;kBAGrB,OAAO;YACb,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;kBAGrB,KAAK,CAAC,EAAE;YACd,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,QAAxB,CAAiC;;;;qBAIlB,OAAO;YAChB,CAAC,CAAC,SAAS;MACjB,WAAW,CAAC,CAAZ,CAAc,SAAS,CAAC,UAAxB,CAAmC;;;SAGhC,KAAK,CAAC,EAAE;;;;cAIH,OAAO;;cAEP,CAAC,CAAC,SAAS;;;eAGV,KAAK,CAAC,EAAE;;cAET,CAAC,CAAC,WAAW;;;eAGZ,KAAK,CAAC,EAAE;;;eAGR,KAAK,CAAC,EAAE;;;;IAInB,WAAW,CAAC,IAAI;IAChB,WAAW,CAAC,MAAM;;IAElB,OAAO,CACN,GADD,CAEE,CAAC,CAAD,EAAI,CAAJ,KAAU,SAAS,CAAC,IAAI,IAAI,CAAC,EAAE;YACzB,CAAC,CAAC,KAAK;AACf,IAJA,EAMC,IAND,CAMM,IANN,CAMW;AACZ,GAxDD;AA0DA,QAAM,WAAW,GAAG,cAAc,CAAC,IAAD,EAAO,CAAP,EAAU,MAAV,CAAlC;AACA,QAAM,QAAQ,GAAG,IAAI,CAAC,IAAL,CAAU,CAAV,CAAY,MAAZ,CAAmB,CAAC,GAAD,EAAM,CAAN,KAAY,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAC,CAAC,IAAF,CAAO,CAAP,EAAU,CAAV,GAAc,IAAI,CAAC,IAAL,CAAU,WAAtC,CAA/B,EAAmF,IAAI,CAAC,IAAL,CAAU,CAA7F,CAAjB;AAEA,SACE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AACT,IAAA,KAAK,EAAE,KADE;AAET,IAAA,KAAK,EAAE,KAFE;AAGT,IAAA,IAAI,EAAE,IAHG;AAIT,IAAA,CAAC,EAAE,CAJM;AAKT,IAAA,IAAI,EAAE,IALG;AAMT,IAAA,IAAI,EAAE,GANG;AAOT,IAAA,aAAa,EAAE,aAPN;AAQT,IAAA,CAAC,EAAE,CARM;AAST,IAAA,WAAW,EAAE;AATJ,GAAX,EAWE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,KAAK,EAAE;AAAtB,GAAX,CAXF,EAYE,KAAA,CAAA,aAAA,CAAC,SAAD,EAAU;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,IAAI,EAAE,IAArB;AAA2B,IAAA,CAAC,EAAE,CAA9B;AAAiC,IAAA,IAAI,EAAE;AAAvC,GAAV,CAZF,EAaE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,IAAI,EAAE,IAArB;AAA2B,IAAA,QAAQ,EAAE,CAAC,CAAC,QAAvC;AAAiD,IAAA,SAAS,EAAE;AAA5D,GAAd,CAbF,EAcE,KAAA,CAAA,aAAA,CAACH,aAAD,EAAY;AACV,IAAA,KAAK,EAAE,KADG;AAEV,IAAA,IAAI,EAAE,IAFI;AAGV,IAAA,QAAQ,EAAE,CAAC,CAAC,QAHF;AAIV,IAAA,OAAO,EAAE,OAJC;AAKV,IAAA,SAAS,EAAE,CAAC,CAAC,QAAF,IAAc,SAAS,IAAI;AAL5B,GAAZ,CAdF,CADF;AAwBD,CAlNyC,C;ACtB1C;;;;;;;AAeA,MAAM,QAAQ,GAAG;AACf,EAAA,UAAU,EAAE,SADG;AAEf,EAAA,KAAK,EAAE,SAFQ;AAGf,EAAA,cAAc,EAAE;AAHD,CAAjB;;SAMgB,O,CAAQ,K,EAA2B;;;AACjD,QAAM,KAAK,GAAA,CAAA,EAAA,GAAG,KAAK,CAAC,KAAT,MAAc,IAAd,IAAc,EAAA,KAAA,KAAA,CAAd,GAAc,EAAd,GAAkB,QAAQ,CAAC,KAAtC;AACA,QAAM,SAAS,GAAA,CAAA,EAAA,GAAG,KAAK,CAAC,cAAT,MAAuB,IAAvB,IAAuB,EAAA,KAAA,KAAA,CAAvB,GAAuB,EAAvB,GAA2B,QAAQ,CAAC,cAAnD;AACA,QAAM,IAAI,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAlB,CAAb;AACA,QAAM,UAAU,GAAA,CAAA,EAAA,GAAG,KAAK,CAAC,UAAT,MAAmB,IAAnB,IAAmB,EAAA,KAAA,KAAA,CAAnB,GAAmB,EAAnB,GAAuB,QAAQ,CAAC,UAAhD;AACA,SAAO,IAAI,CAAC,KAAZ;AACA,SAAO,IAAI,CAAC,cAAZ;AACA,SAAO,IAAI,CAAC,UAAZ;;AAEA,MAAI,UAAJ,EAAgB;AACd,IAAA,IAAI,CAAC,KAAL,GAAa,MAAM,CAAC,MAAP,CAAc;AAAE,MAAA;AAAF,KAAd,EAA4B,CAAA,EAAA,GAAE,IAAI,CAAC,KAAP,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,EAAZ,GAAgB,EAA5C,CAAb;AACD;;AACD,SAAO;AAAE,IAAA,KAAF;AAAS,IAAA,SAAT;AAAoB,IAAA;AAApB,GAAP;AACD;AAED;;;;;;;MAKM,eAAe;AAAA;AAAkB,KAAK,CAAC,IAAN;AACrC;AAAe,KAAK,CAAC,UAAN,CAAiB,SAAS,eAAT,CAAyB,KAAzB,EAAsD,GAAtD,EAA6E;AAC3G,QAAM;AAAE,IAAA,KAAF;AAAS,IAAA,SAAT;AAAoB,IAAA;AAApB,MAA6B,OAAO,CAAC,KAAD,CAA1C;AAEA,QAAM,EAAE,GAAG,EAAX;AACA,QAAM,OAAO,GAAG,EAAhB;AAEA,QAAM,MAAM,GAAG,EAAf;AACA,QAAM,EAAE,GAAG,GAAX;AAEA,QAAM,OAAO,GAAG,GAAhB;AACA,QAAM,GAAG,GAAG,EAAZ;AAEA,QAAM,QAAQ,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,CAAjB;AACA,QAAM,QAAQ,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAjB;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,IAAA,GAAG,EAAE;AAAhC,GAAA,EAAyC,IAAzC,CAAA,EACG,QAAQ,CAAC,GAAT,CAAa,CAAC,MAAD,EAAS,CAAT,KACZ,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,GAAG,EAAE,CAAX;AAAc,IAAA,CAAC,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,GAAG,OAAT,CAAxB;AAA2C,IAAA,CAAC,EAAE,MAA9C;AAAsD,IAAA,KAAK,EAAE,EAA7D;AAAiE,IAAA,MAAM,EAAE,OAAO,GAAG,MAAnF;AAA2F,IAAA,IAAI,EAAE;AAAjG,GAAA,CADD,CADH,EAIG,QAAQ,CAAC,GAAT,CAAa,CAAC,MAAD,EAAS,CAAT,KACZ,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,GAAG,EAAE,CAAX;AAAc,IAAA,CAAC,EAAE,MAAjB;AAAyB,IAAA,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,OAAT,CAAlC;AAAqD,IAAA,KAAK,EAAE,MAAM,GAAG,MAArE;AAA6E,IAAA,MAAM,EAAE,EAArF;AAAyF,IAAA,IAAI,EAAE;AAA/F,GAAA,CADD,CAJH,EAQG,QAAQ,CAAC,GAAT,CAAa,CAAC,CAAD,EAAI,CAAJ,KACZ,QAAQ,CAAC,GAAT,CAAa,CAAC,CAAD,EAAI,CAAJ,KAAK;AAChB,UAAM,MAAM,GAAG,CAAC,KAAK,IAAI,CAAV,IAAgB,CAAC,KAAK,CAAN,IAAW,CAAC,GAAG,CAA/B,IAAsC,CAAC,KAAK,CAAN,IAAW,CAAC,KAAK,CAAvD,IAA8D,CAAC,KAAK,CAAN,IAAW,CAAC,GAAG,CAA7E,IAAmF,CAAC,KAAK,CAAxG;AACA,WACE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AACE,MAAA,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,EADhB;AAEE,MAAA,EAAE,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,GAAG,OAAT,CAAP,GAA2B,EAAE,GAAG,CAFtC;AAGE,MAAA,EAAE,EAAE,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,OAAT,CAAN,GAA0B,EAAE,GAAG,CAHrC;AAIE,MAAA,CAAC,EAAE,EAAE,GAAG,CAJV;AAKE,MAAA,IAAI,EAAE,MAAM,GAAG,KAAH,GAAW;AALzB,KAAA,CADF;AASD,GAXD,CADD,CARH,EAsBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,KAAhB;AAAsB,IAAA,KAAK,EAAC,GAA5B;AAAgC,IAAA,MAAM,EAAC,IAAvC;AAA4C,IAAA,IAAI,EAAE;AAAlD,GAAA,CAtBF,EAuBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,KAAhB;AAAsB,IAAA,KAAK,EAAC,GAA5B;AAAgC,IAAA,MAAM,EAAC,IAAvC;AAA4C,IAAA,IAAI,EAAE;AAAlD,GAAA,CAvBF,EAwBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,KAAhB;AAAsB,IAAA,KAAK,EAAC,GAA5B;AAAgC,IAAA,MAAM,EAAC,IAAvC;AAA4C,IAAA,IAAI,EAAE;AAAlD,GAAA,CAxBF,EAyBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,KAAhB;AAAsB,IAAA,KAAK,EAAC,GAA5B;AAAgC,IAAA,MAAM,EAAC,IAAvC;AAA4C,IAAA,IAAI,EAAE;AAAlD,GAAA,CAzBF,CADF;AA6BD,CA5Cc,CADsB,C;ACzCvC;;;;;;;AAWA;;;;;;MAKM,mBAAmB;AAAA;AAAkB,KAAK,CAAC,IAAN;AACzC;AAAe,KAAK,CAAC,UAAN,CAAiB,SAAS,mBAAT,CAA6B,KAA7B,EAA0D,GAA1D,EAAiF;AAC/G,QAAM;AAAE,IAAA,KAAF;AAAS,IAAA,SAAT;AAAoB,IAAA;AAApB,MAA6B,OAAO,CAAC,KAAD,CAA1C;AAEA,QAAM,OAAO,GAAG,EAAhB;AACA,QAAM,CAAC,GAAG,UAAU,CAAC,CAAD,EAAI,MAAM,OAAO,GAAG,CAApB,EAAuB,OAAO,OAAO,GAAG,CAAxC,CAApB;AACA,SACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,IAAA,GAAG,EAAE;AAAhC,GAAA,EAAyC,IAAzC,CAAA,EACG,CAAC,CAAC,IAAF,CAAO,GAAP,CAAW,CAAC,GAAD,EAAM,CAAN,KACV,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,GAAG,EAAE,CAAb;AAAgB,IAAA,EAAE,EAAE,GAAG,CAAC,EAAxB;AAA4B,IAAA,EAAE,EAAE,GAAG,CAAC,EAAJ,GAAS,OAAzC;AAAkD,IAAA,CAAC,EAAE,GAAG,CAAC,CAAzD;AAA4D,IAAA,IAAI,EAAE;AAAlE,GAAA,CADD,CADH,EAIG,CAAC,CAAC,IAAF,CAAO,GAAP,CAAW,CAAC,GAAD,EAAM,CAAN,KACV,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,GAAG,EAAE,CAAb;AAAgB,IAAA,EAAE,EAAE,GAAG,CAAC,EAAxB;AAA4B,IAAA,EAAE,EAAE,GAAG,CAAC,EAAJ,GAAS,OAAzC;AAAkD,IAAA,CAAC,EAAE,GAAG,CAAC,CAAzD;AAA4D,IAAA,MAAM,EAAE,KAApE;AAA2E,IAAA,IAAI,EAAC;AAAhF,GAAA,CADD,CAJH,CADF;AAUD,CAfc,CAD0B,C;AChB3C;;;;;;;AAWA;;;;;;MAKM,mBAAmB;AAAA;AAAkB,KAAK,CAAC,IAAN;AACzC;AAAe,KAAK,CAAC,UAAN,CAAiB,SAAS,mBAAT,CAA6B,KAA7B,EAA0D,GAA1D,EAAiF;AAC/G,QAAM;AAAE,IAAA,IAAF;AAAQ,IAAA,KAAR;AAAe,IAAA;AAAf,MAA6B,OAAO,CAAC,KAAD,CAA1C,CAD+G,C;;AAI/G,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA,OAAX;AAAoB,IAAA,IAApB;AAA0B,IAAA,MAA1B;AAAkC,IAAA;AAAlC,MAA6C,MAAM,CAAC,CAAD,EAAI;AAC3D,IAAA,KAAK,EAAE,GADoD;AAE3D,IAAA,MAAM,EAAE,GAFmD;AAG3D,IAAA,WAAW,EAAE;AAH8C,GAAJ,CAAzD;AAMA,QAAM,EAAE,GAAG,MAAM,GAAG,IAApB;AACA,QAAM,EAAE,GAAG,MAAM,GAAG,IAApB;AACA,QAAM,EAAE,GAAG,GAAX;AACA,QAAM,EAAE,GAAG,GAAX;AACA,QAAM,EAAE,GAAG,IAAX;AACA,QAAM,EAAE,GAAG,IAAX;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,IAAA,GAAG,EAAE,GAAhC;AAAqC,IAAA,UAAU,EAAC;AAAhD,GAAA,EAAiE,IAAjE,CAAA,EACE,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,aAAa,OAAO,GAAG,EAAE,IAAI,OAAO,GAAG,EAAE;AAAvD,GAAA,EACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,CAAC,CAAzB;AAA4B,IAAA,IAAI,EAAE,KAAlC;AAAyC,IAAA,UAAU,EAAC;AAApD,GAAA,EAA4D,GAA5D,CADF,EAIE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,CAAC,CAAzB;AAA4B,IAAA,IAAI,EAAE,KAAlC;AAAyC,IAAA,UAAU,EAAC,QAApD;AAA6D,IAAA,KAAK,EAAE;AAAE,MAAA,cAAc,EAAE;AAAlB;AAApE,GAAA,EAAkG,GAAlG,CAJF,EAOE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,CAAC,CAAV;AAAa,IAAA,CAAC,EAAE,IAAI,GAAG,GAAvB;AAA4B,IAAA,IAAI,EAAE,KAAlC;AAAyC,IAAA,UAAU,EAAC,KAApD;AAA0D,IAAA,gBAAgB,EAAC;AAA3E,GAAA,EAAoF,GAApF,CAPF,EAUE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,CAAC,CADN;AAEE,IAAA,CAAC,EAAE,IAAI,GAAG,GAFZ;AAGE,IAAA,IAAI,EAAE,KAHR;AAIE,IAAA,UAAU,EAAC,KAJb;AAKE,IAAA,gBAAgB,EAAC,SALnB;AAME,IAAA,KAAK,EAAE;AAAE,MAAA,cAAc,EAAE;AAAlB;AANT,GAAA,EAMuC,GANvC,CAVF,EAqBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,IAAI,IAAI,IAAI,EAAR,CAA5B;AAAyC,IAAA,MAAM,EAAE,IAAI,GAAG,EAAxD;AAA4D,IAAA,KAAK,EAAE,IAAI,GAAG,GAA1E;AAA+E,IAAA,IAAI,EAAE;AAArF,GAAA,CArBF,EAsBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,IAAI,IAAI,IAAI,EAAR,CAA5B;AAAyC,IAAA,MAAM,EAAE,IAAI,GAAG,EAAxD;AAA4D,IAAA,KAAK,EAAE,IAAI,GAAG,GAA1E;AAA+E,IAAA,IAAI,EAAE;AAArF,GAAA,CAtBF,EAuBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,IAAI,IAAI,IAAI,EAAJ,GAAS,CAAb,CAA5B;AAA6C,IAAA,MAAM,EAAE,IAAI,GAAG,EAA5D;AAAgE,IAAA,KAAK,EAAE,IAAI,GAAG,GAA9E;AAAmF,IAAA,IAAI,EAAE;AAAzF,GAAA,CAvBF,EAwBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,CAAC,EAAE,IAAI,GAAG,GAAhB;AAAqB,IAAA,CAAC,EAAE,IAAI,IAAI,IAAI,EAAJ,GAAS,CAAb,CAA5B;AAA6C,IAAA,MAAM,EAAE,IAAI,GAAG,EAA5D;AAAgE,IAAA,KAAK,EAAE,IAAI,GAAG,GAA9E;AAAmF,IAAA,IAAI,EAAE;AAAzF,GAAA,CAxBF,EAyBE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,SAAS,EAAE,OAAO,EAAE,GAAG,CAAC,KAAK,EAAE,IADzF;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,MAAM,EAAE;AAHV,GAAA,CAzBF,CADF,CADF;AAmCD,CApDc,CAD0B,C;AChB3C;;;;;;;AAOO,MAAM,OAAO,GAAI,IAAI,GAAL,GAAY,IAAI,CAAC,EAAjC;;SAES,a,CAAc,E,EAAY,E,EAAY,M,EAAgB,K,EAAa;AACjF,SAAO;AACL,IAAA,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,KAAK,GAAG,OAAjB,IAA4B,MAD/B;AAEL,IAAA,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,KAAK,GAAG,OAAjB,IAA4B;AAF/B,GAAP;AAIF;ACdA;;;;;;;;SAqCgB,M,CAAO,O,EAA4D;AACjF,QAAM,IAAI,GAAG,OAAO,CAAC,MAAR,CAAe,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,GAAG,CAAC,CAAC,CAAnC,EAAsC,CAAtC,CAAb;AACA,QAAM,IAAI,GAAG,OAAO,CAAC,MAAR,CAAe,CAAC,GAAD,EAAM,CAAN,KAAY,GAAG,GAAG,CAAC,CAAC,CAAnC,EAAsC,CAAtC,CAAb;AACA,SAAO;AACL,IAAA,CAAC,EAAE,IAAI,GAAG,OAAO,CAAC,MADb;AAEL,IAAA,CAAC,EAAE,IAAI,GAAG,OAAO,CAAC;AAFb,GAAP;AAID;;AAED,SAAS,aAAT,CAAuB,CAAvB,EAAoD,CAApD,EAA+E;AAC7E,QAAM,CAAC,GAAG,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAlB;AACA,QAAM,CAAC,GAAG,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAlB;AACA,SAAO,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,CAAd,IAAmB,OAA1B;AACD;;SAEe,mB,CACd,M,EACA,O,EAAW;AAEX,SAAO;AACL,IAAA,OAAO,EAAE,QADJ;;AAEL,IAAA,OAAO,CAAI,IAAJ,EAAoB,YAApB,EAAuD,KAAvD,EAAsE,MAAtE,EAAoF;AACzF,YAAM,QAAQ,GAAG,YAAY,CAAC,GAAb,CAAkB,CAAD,KAAQ;AAAE,QAAA,IAAI,EAAE,KAAK,CAAC,IAAN,CAAW,CAAC,CAAC,IAAb,EAAmB,GAAnB,CAAwB,CAAD,IAAO,CAAC,CAAC,IAAhC,CAAR;AAA+C,QAAA,IAAI,EAAE,CAAC,CAAC;AAAvD,OAAR,CAAjB,CAAjB;AACA,YAAM,CAAC,GAAG,MAAM,CACd,QADc,EAEd,MAAM,CAAC,MAAP,CACG,EADH,EAEE;AACE,QAAA,KADF;AAEE,QAAA,MAFF;AAGE,QAAA,QAAQ,EAAE;AAHZ,OAFF,EAOE,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAA,OAAA,GAAW,EAPb,CAFc,CAAhB;AAaA,YAAM,UAAU,GAAG,CAAC,CAAC,MAAF,CAAU,CAAD,IAAO,CAAC,CAAC,IAAF,CAAO,IAAP,CAAY,MAAZ,KAAuB,CAAvC,CAAnB;AACA,YAAM,QAAQ,GAAG,IAAI,GAAJ,CAAQ,IAAI,CAAC,GAAL,CAAS,CAAC,CAAD,EAAI,CAAJ,KAAU,CAAC,CAAC,CAAC,IAAH,EAAS,CAAT,CAAnB,CAAR,CAAjB;AACA,YAAM,UAAU,GAAG,UAAU,CAAC,GAAX,CAAgB,CAAD,IAAO,CAAC,CAAC,OAAF,CAAU,CAAV,CAAtB,CAAnB;AACA,YAAM,WAAW,GAAG,MAAM,CAAC,UAAD,CAA1B;;AAEA,YAAM,KAAK,GAAI,CAAD,KAAoB;AAChC,QAAA,EAAE,EAAE,CAAC,CAAC,EAAF,CAAK,CADuB;AAEhC,QAAA,EAAE,EAAE,CAAC,CAAC,EAAF,CAAK,CAFuB;AAGhC,QAAA,EAAE,EAAE,CAAC,CAAC,MAAF,CAAS,CAHmB;AAIhC,QAAA,EAAE,EAAE,CAAC,CAAC,MAAF,CAAS,CAJmB;AAKhC,QAAA,KAAK,EAAE,IALyB;AAMhC,QAAA,KAAK,EAAE,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,MAAF,CAAS,MANM;AAOhC,QAAA,GAAG,EAAE,UAAU,CAAC,SAAX,CAAsB,CAAD,IAAO,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,MAAF,CAAS,CAAxB,IAA6B,IAA7B,IAAqC,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,MAAF,CAAS,CAAxB,IAA6B,IAA9F,CAP2B;AAQhC,QAAA,IAAI,EAAE;AAR0B,OAApB,CAAd;;AAWA,aAAO;AACL,QAAA,IAAI,EAAE,UAAU,CAAC,GAAX,CAAgB,CAAD,IAAE;AACrB,gBAAM,CAAC,GAAG,CAAC,CAAC,OAAF,CAAU,CAAV,CAAV;AACA,gBAAM,KAAK,GAAG,aAAa,CAAC,CAAD,EAAI,WAAJ,CAA3B;AACA,iBAAO;AACL,YAAA,EAAE,EAAE,CAAC,CAAC,CADD;AAEL,YAAA,EAAE,EAAE,CAAC,CAAC,CAFD;AAGL,YAAA,CAAC,EAAE,CAAC,CAAC,MAHA;AAIL,YAAA,KAAK,EAAE,KAAK,GAAG,EAAR,GAAa,KAAb,GAAqB,OAJvB;AAKL,YAAA,aAAa,EAAE,QALV;AAML,YAAA,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC,CAAH,EAAM,CAAC,CAAC,CAAR,EAAW,CAAC,CAAC,MAAF,GAAW,GAAtB,EAA2B,KAA3B;AANd,WAAP;AAQD,SAXK,CADD;AAaL,QAAA,aAAa,EAAE,CAAC,CAAC,GAAF,CAAO,CAAD,IAAE;AACrB,gBAAM,IAAI,GAAG,CAAC,CAAC,IAAf;AACA,gBAAM,IAAI,GAAG;AACX,YAAA,CAAC,EAAE,CAAC,CAAC,IAAF,CAAO,CADC;AAEX,YAAA,CAAC,EAAE,CAAC,CAAC,IAAF,CAAO;AAFC,WAAb;;AAIA,cAAI,IAAI,CAAC,MAAL,KAAgB,CAApB,EAAuB;AACrB,mBAAO;AACL,cAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,IAAP,CAAY,GAAZ,CAAiB,CAAD,IAAO,QAAQ,CAAC,GAAT,CAAa,CAAb,CAAvB,CADD;AAEL,cAAA,IAFK;AAGL,cAAA,EAAE,EAAE,CAHC;AAIL,cAAA,EAAE,EAAE,CAJC;AAKL,cAAA,IAAI,EAAE;AALD,aAAP;AAOD;;AACD,cAAI,IAAI,CAAC,MAAL,KAAgB,CAApB,EAAuB;AACrB,kBAAM,CAAC,GAAG,CAAC,CAAC,IAAF,CAAO,CAAP,EAAU,MAApB;AACA,mBAAO;AACL,cAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,IAAP,CAAY,GAAZ,CAAiB,CAAD,IAAO,QAAQ,CAAC,GAAT,CAAa,CAAb,CAAvB,CADD;AAEL,cAAA,IAFK;AAGL,cAAA,EAAE,EAAE,CAAC,CAAC,IAAF,CAAO,CAAP,EAAU,EAAV,CAAa,CAHZ;AAIL,cAAA,EAAE,EAAE,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,MAJP;AAKL,cAAA,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAF,CAAO,CAAP,CAAD,CAAN,EAAmB,MAAM,CAAC,MAAP,CAAc,KAAK,CAAC,CAAC,CAAC,IAAF,CAAO,CAAP,CAAD,CAAnB,EAAgC;AAAE,gBAAA,EAAE,EAAE,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC;AAAd,eAAhC,CAAnB,CALD;AAML,cAAA,IAAI,EAAE,CAAC,CAAC,YAAF,IAAkB,CAAC,CAAC;AANrB,aAAP;AAQD;;AACD,iBAAO;AACL,YAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,IAAP,CAAY,GAAZ,CAAiB,CAAD,IAAO,QAAQ,CAAC,GAAT,CAAa,CAAb,CAAvB,CADD;AAEL,YAAA,IAFK;AAGL,YAAA,EAAE,EAAE,CAAC,CAAC,IAAF,CAAO,CAAP,EAAU,EAAV,CAAa,CAHZ;AAIL,YAAA,EAAE,EAAE,CAAC,CAAC,IAAF,CAAO,CAAP,EAAU,EAAV,CAAa,CAJZ;AAKL,YAAA,IAAI,EAAE,CAAC,CAAC,IAAF,CAAO,GAAP,CAAY,CAAD,IAAO,KAAK,CAAC,CAAD,CAAvB,CALD;AAML,YAAA,IAAI,EAAE,CAAC,CAAC,YAAF,IAAkB,CAAC,CAAC;AANrB,WAAP;AAQD,SAlCc;AAbV,OAAP;AAiDD;;AAlFI,GAAP;AAoFF;AC5IA;;;;;;;;SA2BgB,W,CAAY,K,EAAuC;AACjE,SAAO,KAAK,IAAI,IAAT,IAAkB,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,MAAN,IAAgB,CAAxC,IAA6C,KAAK,CAAC,KAAN,CAAa,CAAD,IAAO,OAAO,CAAP,KAAa,QAAhC,CAAtE;AACD;;SACe,Y,CAAa,K,EAAwC;AACnE,SAAO,KAAK,IAAI,IAAT,IAAkB,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,MAAN,IAAgB,CAAxC,IAA6C,KAAK,CAAC,KAAN,CAAa,CAAD,IAAO,OAAO,CAAP,KAAa,QAAhC,CAAtE;AACD;;SACe,iB,CAAkB,K,EAA6C;AAC7E,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,MAA3B,IAAqC,KAAK,KAAK,QAA/C,IAA2D,KAAK,KAAK,OAA5E;AACD;;SAEeI,M,CAAK,K,EAAsC;AACzD,SAAO,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,KAAN,CAAY,KAAZ,CAA/B;AACD;;SAEe,Y,CAAa,K,EAAgD;AAC3E,SACE,KAAK,IAAI,IAAT,IAAkB,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,KAAN,CAAY,gBAAZ,CAA1C,IAA4E,+BAA+B,CAAC,KAAD,CAD7G;AAGD;;SAEe,S,CAAU,K,EAA6C;AACrE,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,CAAC,OAAN,CAAc,KAAd,CAAjB,IAAyCR,WAAS,CAAC,KAAD,CAAzD;AACD;;SAEe,O,CAAQ,K,EAA2C;AACjE,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,UAAzC;AACD;;SAEe,O,CAAQ,K,EAA2C;AACjE,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,UAAzC;AACD;;SACe,a,CAAc,K,EAAiD;AAC7E,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,UAAzC;AACD;;SACe,W,CAAY,K,EAA+C;AACzE,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,UAAzC;AACD;;SAEe,O,CAAQ,K,EAA2C;AACjE,SAAO,CAAC,KAAD,IAAW,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,KAAN,CAAY,YAAZ,CAA1C;AACD;;SAEe,a,CAAc,K,EAAsB;AAClD,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,QAAlC,IAA8C,KAAK,KAAK,KAA/D;AACD;;SAEe,K,CAAM,K,EAAmB;AACvC,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,OAA3B,IAAsC,KAAK,KAAK,MAAhD,IAA0D,KAAK,KAAK,MAA3E;AACD;;SAEe,U,CACd,K,EAA4F;AAE5F,SACE,KAAK,IAAI,IAAT,IACC,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAwF,KAAxF,CACE,CAAD,IAAO,gBAAgB,CAAC,QAAjB,CAA0B,CAA1B,KAAgC,OAAO,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAD5D,CAFH;AAMD;;SAEe,S,CAAU,K,EAAoE;AAC5F,SACE,KAAK,IAAI,IAAT,IACC,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAyE,KAAzE,CACE,CAAD,IAAO,eAAe,CAAC,QAAhB,CAAyB,CAAzB,KAA+B,OAAO,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAD3D,CAFH;AAMD;;SAEe,Y,CAAa,K,EAAgD;AAC3E,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,QAA3B,IAAuC,KAAK,KAAK,KAAjD,IAA0D,OAAO,KAAP,KAAiB,UAAlF;AACD;;SAEe,S,CAAU,K,EAA6C;AACrE,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,MAA3B,IAAqC,OAAO,KAAP,KAAiB,UAA7D;AACD;;SAEe,U,CAAW,K,EAAiD;AAC1E,SAAO,KAAK,IAAI,IAAT,IAAiB,KAAK,KAAK,MAA3B,IAAqC,OAAO,KAAP,KAAiB,QAA7D;AACD;;SAEe,K,CAAM,K,EAAW;AAC/B,SAAO,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,QAAzC;AACD;;SAEe,M,CAAO,K,EAAsF;AAC3G,SACE,KAAK,IAAI,IAAT,IACA,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,KAAnB,CAA0B,CAAD,IACvB,gBAAgB,CAAC,QAAjB,CAA0B,CAA1B,CADF,CAFF;AAMD;;SAEe,a,CAAc,K,EAAiD;AAC7E,SACE,KAAK,IAAI,IAAT,IACA,OAAO,KAAP,KAAiB,SADjB,IAEC,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAoD,KAApD,CACE,CAAD,IAAO,kBAAkB,CAAC,QAAnB,CAA4B,CAA5B,KAAkC,OAAO,KAAK,CAAC,CAAD,CAAZ,KAAoB,SAD9D,CAHH;AAOF","sourcesContent":["/**\n * @upsetjs/react\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport React, { useRef, useState, useLayoutEffect, useMemo, useCallback } from 'react';\nimport { toKey, toDump, isElemQuery, isSetQuery, isSetLike as isSetLike$1, toStaticDump, setElemOverlapFactory, setOverlapFactory, generateCombinations, generateOverlapFunction, bandScale as bandScale$1, linearScale, logScale, queryOverlap, queryElemOverlap, generateDistinctOverlapFunction, isSet, isSetCombination, isGenerateSetCombinationOptions, isUpSetQuery } from '@upsetjs/model';\nexport * from '@upsetjs/model';\nimport LZString from 'lz-string';\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction extractStyleId(node) {\r\n    return Array.from(node.classList)\r\n        .find((d) => d.startsWith('root-'))\r\n        .slice('root-'.length);\r\n}\r\nfunction extractTitle(node, styleId) {\r\n    var _a, _b;\r\n    return (_b = (_a = node.querySelector(`titleTextStyle-${styleId}`)) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : 'UpSetJS';\r\n}\r\nfunction extractDescription(node, styleId) {\r\n    var _a, _b;\r\n    return (_b = (_a = node.querySelector(`descTextStyle-${styleId}`)) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : '';\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst EMPTY_OBJECT = {};\r\nconst EMPTY_ARRAY = [];\r\nconst DEFAULT_FONT_SIZES = {\r\n    setLabel: '16px',\r\n    axisTick: '10px',\r\n    chartLabel: '16px',\r\n    barLabel: '10px',\r\n    legend: '10px',\r\n    description: '16px',\r\n    title: '24px',\r\n    valueLabel: '12px',\r\n    exportLabel: '10px',\r\n};\r\nconst DEFAULT_WIDTH_RATIO = [0.18, 0.12, 0.7];\r\nconst DEFAULT_HEIGHT_RATIO = [0.6, 0.4];\r\nconst DEFAULT_COMBINATIONS = {\r\n    type: 'intersection',\r\n    order: ['cardinality:desc', 'name:asc'],\r\n};\r\nconst FONT_SIZES_KEYS = /* #__PURE__ */ Object.keys(DEFAULT_FONT_SIZES);\r\nconst MULTI_STYLE_KEYS = [\r\n    'axisTick',\r\n    'bar',\r\n    'barLabel',\r\n    'chartLabel',\r\n    'dot',\r\n    'legend',\r\n    'title',\r\n    'description',\r\n    'setLabel',\r\n    'set',\r\n    'valueLabel',\r\n];\r\nconst EXPORT_OPTION_KEYS = ['dump', 'png', 'share', 'svg', 'vega'];\r\nconst OVERFLOW_OPACITY_FACTOR = [0.7, 0.4];\r\nconst OVERFLOW_PADDING_FACTOR = [0.15, 0.3];\n\nvar sets = [\n];\nvar intersections = [\n];\nvar bb = {\n\tx: 0,\n\ty: 0,\n\twidth: 10,\n\theight: 10\n};\nvar venn0 = {\n\tsets: sets,\n\tintersections: intersections,\n\tbb: bb\n};\n\nvar sets$1 = [\n\t{\n\t\tcx: 0,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 3.5,\n\t\t\ty: -4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$1 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: 5,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$1 = {\n\tx: -5,\n\ty: -5,\n\twidth: 10,\n\theight: 10\n};\nvar venn1 = {\n\tsets: sets$1,\n\tintersections: intersections$1,\n\tbb: bb$1\n};\n\nvar sets$2 = [\n\t{\n\t\tcx: -4,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: -7.5,\n\t\t\ty: 4\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: 4,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 7.5,\n\t\t\ty: -4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$2 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: 0\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: 3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 0\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: 3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$2 = {\n\tx: -9,\n\ty: -5,\n\twidth: 18,\n\theight: 10\n};\nvar venn2 = {\n\tsets: sets$2,\n\tintersections: intersections$2,\n\tbb: bb$2\n};\n\nvar sets$3 = [\n\t{\n\t\tcx: -3.464,\n\t\tcy: -2,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: -7,\n\t\t\ty: -6\n\t\t},\n\t\talign: \"end\"\n\t},\n\t{\n\t\tcx: 3.464,\n\t\tcy: -2,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 7,\n\t\t\ty: -6\n\t\t},\n\t\talign: \"start\"\n\t},\n\t{\n\t\tcx: 0,\n\t\tcy: 4,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 7.5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t}\n];\nvar intersections$3 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4.216,\n\t\t\ty: -2.434\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: -5.606,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4.216,\n\t\t\ty: -2.434\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 4.869\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: -5.606,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: -2.404\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.082,\n\t\t\ty: 1.202\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.082,\n\t\t\ty: 1.202\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 1.39,\n\t\ty1: -0.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$3 = {\n\tx: -8.464,\n\ty: -7,\n\twidth: 16.928,\n\theight: 16\n};\nvar venn3 = {\n\tsets: sets$3,\n\tintersections: intersections$3,\n\tbb: bb$3\n};\n\nvar sets$4 = [\n\t{\n\t\tcx: 0.439,\n\t\tcy: -1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 45,\n\t\ttext: {\n\t\t\tx: 4.5,\n\t\t\ty: -4.5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: 2.561,\n\t\tcy: 1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 45,\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 3.75\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: -2.561,\n\t\tcy: 1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: -45,\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: 3.7\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: -0.439,\n\t\tcy: -1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: -45,\n\t\ttext: {\n\t\t\tx: -4.5,\n\t\t\ty: -4.5\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$4 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3.94,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.914,\n\t\t\ty: -3.536\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 5.036,\n\t\t\ty: -1.414\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: 0,\n\t\ty1: 5.006,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -5.036,\n\t\t\ty: -1.414\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3\n\t\t],\n\t\tx1: -4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.914,\n\t\t\ty: -3.536\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 3.205,\n\t\t\ty: -1.672\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: -1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.212,\n\t\t\ty: 1.591\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3.94,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: -1.87\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 3.393\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 3.108,\n\t\ty1: -0.328,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.212,\n\t\t\ty: 1.591\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -3.108,\n\t\ty1: -0.328,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.205,\n\t\t\ty: -1.672\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 0,\n\t\ty1: 2.346,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.766,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 2.179,\n\t\ty1: -1.858,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.558,\n\t\t\ty: -0.056\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -0.969,\n\t\ty1: 1.755,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.558,\n\t\t\ty: -0.056\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.766,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0,\n\t\ty1: 0.188,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 1.43\n\t\t}\n\t}\n];\nvar bb$4 = {\n\tx: -6.5,\n\ty: -5,\n\twidth: 13,\n\theight: 10\n};\nvar venn4 = {\n\tsets: sets$4,\n\tintersections: intersections$4,\n\tbb: bb$4\n};\n\nvar sets$5 = [\n\t{\n\t\tcx: 0.5,\n\t\tcy: -1,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 0,\n\t\ttext: {\n\t\t\tx: 2.25,\n\t\t\ty: -5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: 1.106,\n\t\tcy: 0.167,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 72,\n\t\ttext: {\n\t\t\tx: 4.5,\n\t\t\ty: 1.5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: 0.183,\n\t\tcy: 1.103,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 144,\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: -0.992,\n\t\tcy: 0.515,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 216,\n\t\ttext: {\n\t\t\tx: -4.7,\n\t\t\ty: 2\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: -0.797,\n\t\tcy: -0.785,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 288,\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: -3.6\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$5 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: -1.653,\n\t\ty1: -3.541,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.5,\n\t\t\ty: -5\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 2.857,\n\t\ty1: -2.666,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4.91,\n\t\t\ty: -1.07\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: 3.419,\n\t\ty1: 1.893,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.534,\n\t\t\ty: 4.339\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3\n\t\t],\n\t\tx1: -0.744,\n\t\ty1: 3.837,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.343,\n\t\t\ty: 3.751\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t4\n\t\t],\n\t\tx1: -3.879,\n\t\ty1: 0.478,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4.601,\n\t\t\ty: -2.021\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 2.5,\n\t\ty1: -2.648,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.741,\n\t\t\ty: -2.152\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: 2.342,\n\t\ty1: 2.381,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.5,\n\t\t\ty: 3.5\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3\n\t\t],\n\t\tx1: -0.495,\n\t\ty1: -3.303,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.653,\n\t\t\ty: -3.125\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t4\n\t\t],\n\t\tx1: -1.653,\n\t\ty1: -3.541,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.199,\n\t\t\ty: -3.272\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 3.291,\n\t\ty1: 1.559,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.894,\n\t\t\ty: 1.942\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: -1.54,\n\t\ty1: 2.963,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.174,\n\t\t\ty: 1.557\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t4\n\t\t],\n\t\tx1: 2.988,\n\t\ty1: -1.492,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 3.483,\n\t\t\ty: 0.606\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -0.466,\n\t\ty1: 3.612,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.953,\n\t\t\ty: 3.352\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: -3.294,\n\t\ty1: -0.549,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tsweep: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.462,\n\t\t\ty: -2.538\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -3.579,\n\t\ty1: 0.673,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.483,\n\t\t\ty: 0.13\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 2.544,\n\t\ty1: 1.878,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.457,\n\t\t\ty: 2.331\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 1.51,\n\t\ty1: -2.515,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.194,\n\t\t\ty: -2.334\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t4\n\t\t],\n\t\tx1: 2.572,\n\t\ty1: -1.839,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.667,\n\t\t\ty: -0.665\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0.257,\n\t\ty1: 2.922,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.403,\n\t\t\ty: 3.178\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: -1.746,\n\t\ty1: -3.196,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.542,\n\t\t\ty: -2.808\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -0.495,\n\t\ty1: -3.303,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.192,\n\t\t\ty: -2.742\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -1.54,\n\t\ty1: 2.963,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.767,\n\t\t\ty: 2.106\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: 2.858,\n\t\ty1: 0.659,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.898,\n\t\t\ty: 1.365\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -2.7,\n\t\ty1: 1.147,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.147,\n\t\t\ty: 0.599\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -3.294,\n\t\ty1: -0.549,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.548,\n\t\t\ty: -1.029\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0.983,\n\t\ty1: 2.049,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.407,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: 2.253,\n\t\ty1: -0.302,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.071,\n\t\t\ty: 1.101\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: 1.51,\n\t\ty1: -2.515,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.687,\n\t\t\ty: -1.63\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -2,\n\t\ty1: -1.08,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.028,\n\t\t\ty: -2.108\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -1.645,\n\t\ty1: 1.568,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.323,\n\t\t\ty: 0.327\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: 0.409,\n\t\ty1: -2.236,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tsweep: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$5 = {\n\tx: -5.5,\n\ty: -6,\n\twidth: 11.6,\n\theight: 11.8\n};\nvar venn5 = {\n\tsets: sets$5,\n\tintersections: intersections$5,\n\tbb: bb$5\n};\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction isEllipse(d) {\r\n    return typeof d.rx === 'number';\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst vennDiagramLayout = {\r\n    maxSets: 5,\r\n    compute(sets, _combinations, width, height) {\r\n        return layoutImpl(sets.length, width, height);\r\n    },\r\n};\r\nfunction layoutImpl(sets, width, height) {\r\n    const lookup = [venn0, venn1, venn2, venn3, venn4, venn5];\r\n    const r = lookup[Math.min(lookup.length - 1, sets)];\r\n    const f = Math.min(width / r.bb.width, height / r.bb.height);\r\n    const x = f * -r.bb.x + (width - f * r.bb.width) / 2;\r\n    const y = f * -r.bb.y + (height - f * r.bb.height) / 2;\r\n    const mx = (v) => x + f * v;\r\n    const my = (v) => y + f * v;\r\n    return {\r\n        sets: r.sets.map((c) => Object.assign({}, c, {\r\n            cx: mx(c.cx),\r\n            cy: my(c.cy),\r\n            text: {\r\n                x: mx(c.text.x),\r\n                y: my(c.text.y),\r\n            },\r\n        }, isEllipse(c)\r\n            ? {\r\n                rx: c.rx * f,\r\n                ry: c.ry * f,\r\n            }\r\n            : {\r\n                r: c.r * f,\r\n            })),\r\n        intersections: r.intersections.map((c) => ({\r\n            text: {\r\n                x: mx(c.text.x),\r\n                y: my(c.text.y),\r\n            },\r\n            x1: mx(c.x1),\r\n            y1: my(c.y1),\r\n            sets: c.sets,\r\n            arcs: c.arcs.map((a) => Object.assign({}, a, {\r\n                x2: mx(a.x2),\r\n                y2: my(a.y2),\r\n            })),\r\n        })),\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst lightTheme = {\r\n    selectionColor: '#ffa500',\r\n    color: '#000000',\r\n    hasSelectionColor: '',\r\n    opacity: 1,\r\n    hasSelectionOpacity: -1,\r\n    textColor: '#000000',\r\n    hoverHintColor: '#cccccc',\r\n    notMemberColor: '#d3d3d3',\r\n    alternatingBackgroundColor: 'rgba(0,0,0,0.05)',\r\n    valueTextColor: '#000000',\r\n    strokeColor: '#000000',\r\n    backgroundColor: '#ffffff',\r\n    filled: false,\r\n};\r\nconst darkTheme = {\r\n    selectionColor: '#ffa500',\r\n    color: '#cccccc',\r\n    hasSelectionColor: '',\r\n    opacity: 1,\r\n    hasSelectionOpacity: -1,\r\n    textColor: '#ffffff',\r\n    hoverHintColor: '#d9d9d9',\r\n    notMemberColor: '#666666',\r\n    alternatingBackgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n    valueTextColor: '#ffffff',\r\n    strokeColor: '#ffffff',\r\n    backgroundColor: '#303030',\r\n    filled: false,\r\n};\r\nconst vegaTheme = {\r\n    selectionColor: '#4c78a8',\r\n    color: '#4c78a8',\r\n    hasSelectionColor: '#c9d6e5',\r\n    opacity: 1,\r\n    hasSelectionOpacity: -1,\r\n    textColor: '#000000',\r\n    hoverHintColor: '#cccccc',\r\n    notMemberColor: '#d3d3d3',\r\n    alternatingBackgroundColor: 'rgba(0,0,0,0.05)',\r\n    valueTextColor: '#000000',\r\n    strokeColor: '#000000',\r\n    backgroundColor: '#ffffff',\r\n    filled: true,\r\n};\r\nfunction getDefaultTheme(theme) {\r\n    return theme === 'vega' ? vegaTheme : theme === 'dark' ? darkTheme : lightTheme;\r\n}\r\nfunction areCombinations(combinations) {\r\n    return Array.isArray(combinations);\r\n}\r\nfunction fillGeneric(base, props, others = {}) {\r\n    const theme = getDefaultTheme(props.theme);\r\n    return Object.assign(base, {\r\n        queryLegend: props.queries != null && props.queries.length > 0,\r\n        theme: 'light',\r\n        padding: 20,\r\n        selection: null,\r\n        title: '',\r\n        description: '',\r\n        fontFamily: 'sans-serif',\r\n        queries: EMPTY_ARRAY,\r\n        exportButtons: true,\r\n        className: '',\r\n        fontSizes: DEFAULT_FONT_SIZES,\r\n        classNames: EMPTY_OBJECT,\r\n        style: EMPTY_OBJECT,\r\n        styles: EMPTY_OBJECT,\r\n        toKey,\r\n        tooltips: true,\r\n    }, theme, props, others, props.fontSizes\r\n        ? {\r\n            fontSizes: Object.assign({}, DEFAULT_FONT_SIZES, props.fontSizes),\r\n        }\r\n        : EMPTY_OBJECT);\r\n}\r\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\r\nfunction fillDefaultsG(props) {\r\n    return fillGeneric({\r\n        barPadding: 0.3,\r\n        dotPadding: 0.7,\r\n        combinations: DEFAULT_COMBINATIONS,\r\n        combinationName: props.combinations != null && !areCombinations(props.combinations) && props.combinations.type === 'union'\r\n            ? 'Union Size'\r\n            : 'Intersection Size',\r\n        barLabelOffset: 2,\r\n        setNameAxisOffset: 'auto',\r\n        combinationNameAxisOffset: 'auto',\r\n        setName: 'Set Size',\r\n        widthRatios: DEFAULT_WIDTH_RATIO,\r\n        heightRatios: DEFAULT_HEIGHT_RATIO,\r\n        setLabelAlignment: 'center',\r\n        numericScale: 'linear',\r\n        bandScale: 'band',\r\n        childrenFactories: EMPTY_OBJECT,\r\n        setAddons: EMPTY_ARRAY,\r\n        combinationAddons: EMPTY_ARRAY,\r\n        setAddonPadding: 1,\r\n        combinationAddonPadding: 1,\r\n        emptySelection: true,\r\n    }, props);\r\n}\r\nfunction valueFormat(v) {\r\n    return v.toLocaleString();\r\n}\r\nfunction fillDefaults(props) {\r\n    return fillDefaultsG(props);\r\n}\r\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\r\nfunction fillVennDiagramDefaultsG(props) {\r\n    return fillGeneric({\r\n        valueFormat,\r\n        layout: vennDiagramLayout,\r\n    }, props, {\r\n        exportButtons: props.exportButtons === false\r\n            ? false\r\n            : Object.assign({}, props.exportButtons === true ? {} : props.exportButtons, { vega: false }),\r\n    });\r\n}\r\nfunction fillVennDiagramDefaults(props) {\r\n    return fillVennDiagramDefaultsG(props);\r\n}\r\n/**\r\n * helper methods to fill up partial UpSet.js properties with their default values\r\n */\r\nfunction fillKarnaughMapDefaultsG(props) {\r\n    return fillGeneric({\r\n        numericScale: 'linear',\r\n        barPadding: 0.3,\r\n        barLabelOffset: 2,\r\n        combinationName: 'Intersection Size',\r\n        combinationNameAxisOffset: 'auto',\r\n    }, props, {\r\n        exportButtons: props.exportButtons === false\r\n            ? false\r\n            : Object.assign({}, props.exportButtons === true ? {} : props.exportButtons, { vega: false }),\r\n    });\r\n}\r\nfunction fillKarnaughMapDefaults(props) {\r\n    return fillKarnaughMapDefaultsG(props);\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction createSVG(node, toRemove) {\r\n    const clone = node.cloneNode(true);\r\n    clone.style.backgroundColor = getDefaultTheme(node.dataset.theme).backgroundColor;\r\n    if (toRemove) {\r\n        Array.from(clone.querySelectorAll(toRemove)).forEach((d) => d.remove());\r\n    }\r\n    return new XMLSerializer().serializeToString(clone);\r\n}\r\n/**\r\n * helper method to export an download an SVG image\r\n * @param node the SVG element to download\r\n * @param options additional options\r\n */\r\nfunction exportSVG(node, { type = 'png', title, toRemove }) {\r\n    const b = new Blob([createSVG(node, toRemove)], {\r\n        type: 'image/svg+xml;charset=utf-8',\r\n    });\r\n    const styleId = extractStyleId(node);\r\n    const chartTitle = title !== null && title !== void 0 ? title : extractTitle(node, styleId);\r\n    const url = URL.createObjectURL(b);\r\n    if (type === 'svg') {\r\n        downloadUrl(url, `${chartTitle}.${type}`, node.ownerDocument);\r\n        URL.revokeObjectURL(url);\r\n        return Promise.resolve();\r\n    }\r\n    return toPNG(url, node).then((purl) => {\r\n        downloadUrl(purl, `${chartTitle}.${type}`, node.ownerDocument);\r\n        URL.revokeObjectURL(url);\r\n    });\r\n}\r\nfunction toPNG(url, node) {\r\n    const canvas = node.ownerDocument.createElement('canvas');\r\n    const bb = node.getBoundingClientRect();\r\n    canvas.width = bb.width;\r\n    canvas.height = bb.height;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image(canvas.width, canvas.height);\r\n    return new Promise((resolve) => {\r\n        img.onload = () => {\r\n            ctx.drawImage(img, 0, 0);\r\n            const png = canvas.toDataURL('image/png');\r\n            resolve(png);\r\n        };\r\n        img.src = url;\r\n    });\r\n}\r\n/**\r\n * helper method to download a given url in the browser\r\n * @param url the url to download\r\n * @param title the desired file name\r\n * @param doc the root document\r\n */\r\nfunction downloadUrl(url, title, doc) {\r\n    const a = doc.createElement('a');\r\n    a.href = url;\r\n    a.style.position = 'absolute';\r\n    a.style.left = '-10000px';\r\n    a.style.top = '-10000px';\r\n    a.download = title;\r\n    doc.body.appendChild(a);\r\n    a.click();\r\n    a.remove();\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction createVegaSpec(svg, title) {\r\n    var _a, _b, _c, _d, _e;\r\n    const resolveStyle = (_c = (svg.getComputedStyle || ((_b = (_a = svg.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.getComputedStyle))) !== null && _c !== void 0 ? _c : window.getComputedStyle;\r\n    const styleId = extractStyleId(svg);\r\n    const chartTitle = title !== null && title !== void 0 ? title : extractTitle(svg, styleId);\r\n    const sets = Array.from(svg.querySelectorAll('[data-upset=sets] [data-cardinality]'))\r\n        .map((set) => {\r\n        return {\r\n            name: set.querySelector(`text.setTextStyle-${styleId}`).textContent,\r\n            cardinality: Number.parseInt(set.dataset.cardinality, 10),\r\n        };\r\n    })\r\n        .reverse();\r\n    const barLabelOffset = -Number.parseFloat(svg.querySelector(`.sBarTextStyle-${styleId}`).getAttribute('dx'));\r\n    const color = resolveStyle(svg.querySelector(`.fillPrimary-${styleId}`)).fill;\r\n    const fillNotMember = resolveStyle(svg.querySelector(`.fillNotMember-${styleId}`)).fill;\r\n    const textColor = resolveStyle(svg.querySelector('text')).fill;\r\n    const csName = svg.querySelector(`.cChartTextStyle-${styleId}`).textContent;\r\n    const setName = svg.querySelector(`.sChartTextStyle-${styleId}`).textContent;\r\n    const combinations = Array.from(svg.querySelectorAll('[data-upset=cs] [data-cardinality]')).map((set) => {\r\n        return {\r\n            name: set.querySelector(`text.hoverBarTextStyle-${styleId}`).textContent,\r\n            cardinality: Number.parseInt(set.dataset.cardinality, 10),\r\n            sets: Array.from(set.querySelectorAll(`.fillPrimary-${styleId} > title`)).map((n) => n.textContent),\r\n        };\r\n    });\r\n    const translateX = (v) => Number.parseFloat(v.getAttribute('transform').match(/([\\d.]+),/)[1]);\r\n    const translateY = (v) => Number.parseFloat(v.getAttribute('transform').match(/,([\\d.]+)/)[1]);\r\n    const base = svg.querySelector('[data-upset=base]');\r\n    const padding = translateX(base);\r\n    // combination axis block\r\n    const setWidth = translateX(svg.querySelector('[data-upset=csaxis]'));\r\n    // axisline\r\n    const csWidth = Number.parseFloat(base.querySelector('g').firstElementChild.children[1].getAttribute('x2'));\r\n    // set axis block\r\n    const csHeight = translateY(svg.querySelector('[data-upset=setaxis]'));\r\n    // set label clip path\r\n    const labelWidth = Number.parseFloat(svg.querySelector('defs rect').getAttribute('width'));\r\n    const setHeight = Number.parseFloat(svg.querySelector('defs rect').getAttribute('height'));\r\n    const radius = Number.parseFloat(svg.querySelector(`[data-cardinality] circle.fillPrimary-${styleId}`).getAttribute('r'));\r\n    const hasPrimarySelection = svg.querySelector('[data-upset=sets-s] [data-cardinality]') != null;\r\n    const hasQuery = svg.querySelector('[data-upset=sets-q] [data-cardinality]') != null;\r\n    const hasSelection = hasPrimarySelection || hasQuery;\r\n    let selectionColor = 'orange';\r\n    if (hasSelection) {\r\n        // inject the selection data\r\n        Array.from(svg.querySelectorAll(`[data-upset=sets-${hasPrimarySelection ? 's]' : 'q]:first-of-type'} [data-cardinality]`)).forEach((elem) => {\r\n            // since artificially reversed\r\n            const i = sets.length - Number.parseInt(elem.dataset.i, 10) - 1;\r\n            sets[i].selection = Number.parseInt(elem.dataset.cardinality, 10);\r\n        });\r\n        Array.from(svg.querySelectorAll(`[data-upset=cs-${hasPrimarySelection ? 's]' : 'q]:first-of-type'} [data-cardinality]`)).forEach((elem) => {\r\n            const i = Number.parseInt(elem.dataset.i, 10);\r\n            combinations[i].selection = Number.parseInt(elem.dataset.cardinality, 10);\r\n        });\r\n        selectionColor = resolveStyle(svg.querySelector(`[data-upset=sets-${hasPrimarySelection ? 's' : 'q'}] [data-cardinality]`)).fill;\r\n    }\r\n    const highlightedCombination = Number.parseInt((_e = (_d = svg.querySelector('[data-upset=cs-ss]')) === null || _d === void 0 ? void 0 : _d.dataset.i) !== null && _e !== void 0 ? _e : '-1', 10);\r\n    const filter = highlightedCombination >= 0\r\n        ? {\r\n            field: 'partOf',\r\n            oneOf: [1, 2],\r\n        }\r\n        : {\r\n            field: 'partOf',\r\n            equal: 1,\r\n        };\r\n    // part of: 0 ... negative list, 1 ... positive set list, 2, ... positive and selected\r\n    return {\r\n        $schema: 'https://vega.github.io/schema/vega-lite/v4.json',\r\n        title: chartTitle,\r\n        description: extractDescription(svg, styleId),\r\n        datasets: {\r\n            sets,\r\n            combinations: combinations\r\n                .map((c, i) => Object.assign({}, c, {\r\n                partOf: highlightedCombination === i ? 2 : 1,\r\n                nsets: [''],\r\n            }))\r\n                .concat(combinations.map((c) => ({\r\n                name: c.name,\r\n                cardinality: c.cardinality,\r\n                // no selection!\r\n                partOf: 0,\r\n                sets: [''],\r\n                nsets: sets.filter((s) => !c.sets.includes(s.name)).map((s) => s.name),\r\n            }))),\r\n        },\r\n        vconcat: [\r\n            {\r\n                hconcat: [\r\n                    {\r\n                        mark: 'bar',\r\n                        width: setWidth + labelWidth - 40,\r\n                        height: csHeight,\r\n                    },\r\n                    {\r\n                        width: csWidth,\r\n                        height: csHeight,\r\n                        data: {\r\n                            name: 'combinations',\r\n                        },\r\n                        transform: [\r\n                            {\r\n                                filter,\r\n                            },\r\n                        ],\r\n                        layer: [\r\n                            {\r\n                                mark: {\r\n                                    type: 'bar',\r\n                                    tooltip: true,\r\n                                },\r\n                            },\r\n                            {\r\n                                mark: {\r\n                                    type: 'text',\r\n                                    align: 'center',\r\n                                    baseline: 'bottom',\r\n                                    dy: -barLabelOffset,\r\n                                },\r\n                                encoding: {\r\n                                    text: { field: 'cardinality', type: 'quantitative' },\r\n                                },\r\n                            },\r\n                            hasSelection && {\r\n                                mark: {\r\n                                    type: 'bar',\r\n                                    fill: selectionColor,\r\n                                    tooltip: true,\r\n                                },\r\n                                encoding: {\r\n                                    y: {\r\n                                        field: 'selection',\r\n                                        type: 'quantitative',\r\n                                    },\r\n                                },\r\n                            },\r\n                        ].filter(Boolean),\r\n                        encoding: {\r\n                            x: { field: 'name', type: 'ordinal', axis: null, sort: null },\r\n                            y: {\r\n                                field: 'cardinality',\r\n                                type: 'quantitative',\r\n                                axis: {\r\n                                    grid: false,\r\n                                },\r\n                                title: csName,\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                hconcat: [\r\n                    {\r\n                        width: setWidth,\r\n                        height: setHeight,\r\n                        data: {\r\n                            name: 'sets',\r\n                        },\r\n                        layer: [\r\n                            {\r\n                                mark: {\r\n                                    type: 'bar',\r\n                                    tooltip: true,\r\n                                },\r\n                            },\r\n                            {\r\n                                mark: {\r\n                                    type: 'text',\r\n                                    align: 'right',\r\n                                    baseline: 'middle',\r\n                                    dx: -barLabelOffset,\r\n                                },\r\n                                encoding: {\r\n                                    text: { field: 'cardinality', type: 'quantitative' },\r\n                                },\r\n                            },\r\n                            hasSelection && {\r\n                                mark: {\r\n                                    type: 'bar',\r\n                                    fill: selectionColor,\r\n                                    tooltip: true,\r\n                                },\r\n                                encoding: {\r\n                                    x: {\r\n                                        field: 'selection',\r\n                                        type: 'quantitative',\r\n                                    },\r\n                                },\r\n                            },\r\n                        ].filter(Boolean),\r\n                        encoding: {\r\n                            y: { field: 'name', type: 'ordinal', axis: null, sort: null },\r\n                            x: {\r\n                                field: 'cardinality',\r\n                                type: 'quantitative',\r\n                                title: setName,\r\n                                sort: 'descending',\r\n                                axis: {\r\n                                    grid: false,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        data: {\r\n                            name: 'sets',\r\n                        },\r\n                        width: labelWidth,\r\n                        height: setHeight,\r\n                        mark: {\r\n                            type: 'text',\r\n                            align: 'center',\r\n                            baseline: 'middle',\r\n                            fontSize: Number.parseInt(resolveStyle(svg.querySelector(`.setTextStyle-${styleId}`)).fontSize, 10),\r\n                        },\r\n                        encoding: {\r\n                            y: { field: 'name', type: 'ordinal', axis: null, sort: null },\r\n                            text: { field: 'name', type: 'ordinal' },\r\n                        },\r\n                    },\r\n                    {\r\n                        width: csWidth,\r\n                        height: setHeight,\r\n                        data: {\r\n                            name: 'combinations',\r\n                        },\r\n                        transform: [\r\n                            {\r\n                                flatten: ['sets'],\r\n                                as: ['has_set'],\r\n                            },\r\n                            {\r\n                                flatten: ['nsets'],\r\n                                as: ['has_not_set'],\r\n                            },\r\n                            {\r\n                                calculate: 'datum.has_set+datum.has_not_set',\r\n                                as: 'set',\r\n                            },\r\n                        ],\r\n                        layer: [\r\n                            {\r\n                                mark: {\r\n                                    type: 'circle',\r\n                                    size: radius * radius * Math.PI,\r\n                                    tooltip: true,\r\n                                },\r\n                                encoding: {\r\n                                    color: {\r\n                                        field: 'partOf',\r\n                                        type: 'nominal',\r\n                                        legend: null,\r\n                                        scale: {\r\n                                            range: [fillNotMember, color].concat(highlightedCombination >= 0 ? [selectionColor] : []),\r\n                                        },\r\n                                    },\r\n                                    y: {\r\n                                        field: 'set',\r\n                                        type: 'ordinal',\r\n                                        axis: null,\r\n                                        sort: null,\r\n                                        scale: {\r\n                                            domain: sets.map((s) => s.name),\r\n                                        },\r\n                                    },\r\n                                },\r\n                            },\r\n                            {\r\n                                mark: 'rule',\r\n                                transform: [\r\n                                    {\r\n                                        filter,\r\n                                    },\r\n                                    {\r\n                                        calculate: 'datum.sets[datum.sets.length -1]',\r\n                                        as: 'set_end',\r\n                                    },\r\n                                ],\r\n                                encoding: Object.assign({ y: { field: 'sets[0]', type: 'ordinal', axis: null, sort: null }, y2: { field: 'set_end' } }, (highlightedCombination < 0\r\n                                    ? {}\r\n                                    : {\r\n                                        color: {\r\n                                            field: 'partOf',\r\n                                            type: 'nominal',\r\n                                            legend: null,\r\n                                            scale: {\r\n                                                range: [color, selectionColor],\r\n                                            },\r\n                                        },\r\n                                    })),\r\n                            },\r\n                        ],\r\n                        encoding: {\r\n                            x: { field: 'name', type: 'ordinal', axis: null, sort: null },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n        config: {\r\n            padding,\r\n            background: getDefaultTheme(svg.dataset.theme).backgroundColor,\r\n            concat: {\r\n                spacing: 0,\r\n            },\r\n            view: {\r\n                stroke: null,\r\n            },\r\n            // scale: {\r\n            //   bandPaddingInner: props.barPadding,\r\n            //   bandPaddingOuter: props.barPadding,\r\n            //   pointPadding: props.barPadding,\r\n            // },\r\n            bar: {\r\n                fill: color,\r\n            },\r\n            circle: {\r\n                opacity: 1,\r\n            },\r\n            rule: {\r\n                stroke: color,\r\n                strokeWidth: Number.parseInt(resolveStyle(svg.querySelector(`[data-upset=cs] [data-cardinality] line`)).strokeWidth, 10),\r\n            },\r\n            axis: {\r\n                labelColor: textColor,\r\n                labelFontSize: Number.parseInt(resolveStyle(svg.querySelector(`.axisTextStyle-${styleId}`)).fontSize, 10),\r\n                titleColor: textColor,\r\n                titleFontSize: Number.parseInt(resolveStyle(svg.querySelector(`.cChartTextStyle-${styleId}`)).fontSize, 10),\r\n            },\r\n            title: {\r\n                color: textColor,\r\n            },\r\n            text: {\r\n                fill: textColor,\r\n                fontSize: Number.parseInt(resolveStyle(svg.querySelector(`.sBarTextStyle-${styleId}`)).fontSize, 10),\r\n            },\r\n        },\r\n    };\r\n}\r\nfunction exportVegaLite(svg, { title } = {}) {\r\n    const spec = createVegaSpec(svg, title);\r\n    const url = URL.createObjectURL(new Blob([JSON.stringify(spec, null, 2)], {\r\n        type: 'application/json',\r\n    }));\r\n    downloadUrl(url, `${spec.title}.json`, svg.ownerDocument);\r\n    URL.revokeObjectURL(url);\r\n}\n\nconst THEME_KEYS = [\r\n    'selectionColor',\r\n    'color',\r\n    'textColor',\r\n    'hoverHintColor',\r\n    'notMemberColor',\r\n    'alternatingBackgroundColor',\r\n    'hasSelectionColor',\r\n    'hasSelectionOpacity',\r\n    'opacity',\r\n    'strokeColor',\r\n    'valueTextColor',\r\n];\r\nconst LAYOUT_KEYS = [\r\n    'padding',\r\n    'barPadding',\r\n    'dotPadding',\r\n    'widthRatios',\r\n    'heightRatios',\r\n];\r\nconst STYLE_KEYS = [\r\n    'fontSizes',\r\n    'combinationName',\r\n    'setName',\r\n    'barLabelOffset',\r\n    'setNameAxisOffset',\r\n    'combinationNameAxisOffset',\r\n    'theme',\r\n    'fontFamily',\r\n    'emptySelection',\r\n    'exportButtons',\r\n    'queryLegend',\r\n];\r\nconst DUMP_KEYS = ['bandScale', 'numericScale'].concat(THEME_KEYS, LAYOUT_KEYS, STYLE_KEYS);\r\nfunction toDumpProps(props) {\r\n    var _a;\r\n    const full = fillDefaults({\r\n        width: 0,\r\n        height: 0,\r\n        sets: (_a = props.sets) !== null && _a !== void 0 ? _a : [],\r\n        combinations: props.combinations,\r\n        theme: props.theme,\r\n    });\r\n    const r = {};\r\n    DUMP_KEYS.forEach((key) => {\r\n        const value = props[key];\r\n        const defaultValue = full[key];\r\n        if (key === 'theme' && value !== 'light') {\r\n            // keep dark theme flag\r\n            r[key] = value;\r\n            return;\r\n        }\r\n        if (value == null || value === defaultValue) {\r\n            return;\r\n        }\r\n        if (key === 'fontSizes') {\r\n            // nested check\r\n            let empty = true;\r\n            const sub = {};\r\n            FONT_SIZES_KEYS.forEach((fKey) => {\r\n                const fValue = value[fKey];\r\n                const fDefaultValue = defaultValue[fKey];\r\n                if (fValue !== fDefaultValue) {\r\n                    sub[fKey] = fValue;\r\n                    empty = false;\r\n                }\r\n            });\r\n            if (!empty) {\r\n                r[key] = sub;\r\n            }\r\n        }\r\n        else {\r\n            r[key] = value;\r\n        }\r\n    });\r\n    return r;\r\n}\r\nfunction toUpSetJSDump(dump, elements, props, author, mode) {\r\n    return Object.assign({\r\n        $schema: 'https://upset.js.org/schema.1.0.0.json',\r\n        name: typeof props.title === 'string' ? props.title : 'UpSetJS',\r\n        description: typeof props.description === 'string' ? props.description : '',\r\n        mode,\r\n        author,\r\n        elements,\r\n        attrs: [],\r\n        props: toDumpProps(props),\r\n    }, dump);\r\n}\r\nfunction toUpSetJSStaticDump(dump, props, author, mode) {\r\n    return Object.assign({\r\n        $schema: 'https://upset.js.org/schema-static.1.0.0.json',\r\n        name: typeof props.title === 'string' ? props.title : 'UpSetJS',\r\n        description: typeof props.description === 'string' ? props.description : '',\r\n        mode,\r\n        author,\r\n        props: toDumpProps(props),\r\n    }, dump);\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction exportDumpData(props, data, compress = false, mode) {\r\n    var _a, _b;\r\n    const elems = [];\r\n    const lookup = new Map();\r\n    const toElemIndex = (elem) => {\r\n        if (lookup.has(elem)) {\r\n            return lookup.get(elem);\r\n        }\r\n        lookup.set(elem, elems.length);\r\n        elems.push(elem);\r\n        return elems.length - 1;\r\n    };\r\n    const dump = toDump({\r\n        sets: props.sets,\r\n        queries: (_b = (_a = props.queries) === null || _a === void 0 ? void 0 : _a.filter((d) => isElemQuery(d) || isSetQuery(d))) !== null && _b !== void 0 ? _b : [],\r\n        toElemIndex,\r\n        selection: props.selection && isSetLike$1(props.selection) ? props.selection : undefined,\r\n        combinations: data.cs.v,\r\n        combinationOptions: Array.isArray(props.combinations)\r\n            ? {}\r\n            : props.combinations,\r\n    }, {\r\n        compress: compress ? 'yes' : 'no',\r\n    });\r\n    return toUpSetJSDump(dump, elems, props, undefined, mode);\r\n}\r\nfunction exportStaticDumpData(props, data, compress = false, mode) {\r\n    var _a, _b;\r\n    const dump = toStaticDump({\r\n        sets: props.sets,\r\n        queries: (_b = (_a = props.queries) === null || _a === void 0 ? void 0 : _a.filter((d) => isElemQuery(d) || isSetQuery(d))) !== null && _b !== void 0 ? _b : [],\r\n        selection: props.selection && isSetLike$1(props.selection) ? props.selection : undefined,\r\n        combinations: data.cs.v,\r\n    }, {\r\n        compress: compress ? 'yes' : 'no',\r\n    });\r\n    return toUpSetJSStaticDump(dump, props, undefined, mode);\r\n}\r\nfunction exportDump(svg, props, data, mode) {\r\n    const dump = exportDumpData(props, data, false, mode);\r\n    const url = URL.createObjectURL(new Blob([JSON.stringify(dump, null, 2)], {\r\n        type: 'application/json',\r\n    }));\r\n    downloadUrl(url, `${dump.name}.json`, svg.ownerDocument);\r\n    URL.revokeObjectURL(url);\r\n}\r\nconst MAX_URL_LENGTH = 2048 * 2;\r\nfunction exportSharedLink(props, data, mode) {\r\n    const r = exportDumpData(props, data, true, mode);\r\n    delete r.$schema;\r\n    const arg = LZString.compressToEncodedURIComponent(JSON.stringify(r));\r\n    const url = new URL('https://upset.js.org/app/embed.html');\r\n    url.searchParams.set('p', arg);\r\n    if (url.toString().length < MAX_URL_LENGTH) {\r\n        window.open(url.toString(), '_blank');\r\n        return true;\r\n    }\r\n    // try other compression\r\n    const r2 = exportStaticDumpData(props, data, true, mode);\r\n    delete r2.$schema;\r\n    const arg2 = LZString.compressToEncodedURIComponent(JSON.stringify(r2));\r\n    url.searchParams.set('p', arg2);\r\n    if (url.toString().length < MAX_URL_LENGTH) {\r\n        window.open(url.toString(), '_blank');\r\n        return true;\r\n    }\r\n    // send via frame message\r\n    url.searchParams.delete('p');\r\n    const w = window.open(url.toString(), '_blank');\r\n    w === null || w === void 0 ? void 0 : w.addEventListener('load', () => {\r\n        w === null || w === void 0 ? void 0 : w.postMessage(r, url.origin);\r\n    });\r\n    return false;\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction clsx(...classNames) {\r\n    return classNames.filter(Boolean).join(' ');\r\n}\r\nfunction generateId(_args) {\r\n    return `upset-${Math.random().toString(36).slice(4)}`;\r\n}\r\nfunction isSetLike(s) {\r\n    return s != null && !Array.isArray(s);\r\n}\r\nfunction elemOverlapOf(query, toElemKey) {\r\n    const f = setOverlapFactory(query, toElemKey);\r\n    return (s) => {\r\n        return f(s.elems).intersection;\r\n    };\r\n}\r\nfunction noGuessPossible() {\r\n    return -1;\r\n}\r\nfunction generateSelectionOverlap(selection, overlapGuesser, toElemKey) {\r\n    if (!selection) {\r\n        return noOverlap;\r\n    }\r\n    if (typeof selection === 'function') {\r\n        return selection;\r\n    }\r\n    if (Array.isArray(selection)) {\r\n        return elemOverlapOf(selection, toElemKey);\r\n    }\r\n    const ss = selection;\r\n    if (ss.overlap) {\r\n        return ss.overlap.bind(ss);\r\n    }\r\n    let f = null;\r\n    return (s) => {\r\n        if (s.overlap) {\r\n            return s.overlap(ss);\r\n        }\r\n        const guess = overlapGuesser(s, ss);\r\n        if (guess >= 0) {\r\n            return guess;\r\n        }\r\n        if (!f) {\r\n            f = elemOverlapOf(ss.elems, toElemKey);\r\n        }\r\n        return f(s);\r\n    };\r\n}\r\nfunction generateSelectionName(selection) {\r\n    var _a;\r\n    return Array.isArray(selection)\r\n        ? `Array(${selection.length})`\r\n        : typeof selection === 'function'\r\n            ? '?'\r\n            : (_a = selection) === null || _a === void 0 ? void 0 : _a.name;\r\n}\r\nfunction elemElemOverlapOf(query, toElemKey) {\r\n    const f = setElemOverlapFactory(query, toElemKey);\r\n    return (s) => {\r\n        return f(s.elems).intersection;\r\n    };\r\n}\r\nfunction noOverlap() {\r\n    return 0;\r\n}\r\nfunction parseFontSize(v) {\r\n    if (v == null) {\r\n        return 10;\r\n    }\r\n    if (v.endsWith('pt')) {\r\n        return Math.floor((4 / 3) * Number.parseInt(v, 10));\r\n    }\r\n    return Number.parseInt(v, 10);\r\n}\r\nfunction toAnchor(alignment) {\r\n    var _a;\r\n    const alignments = {\r\n        left: 'start',\r\n        center: 'middle',\r\n        right: 'end',\r\n    };\r\n    return (_a = alignments[alignment]) !== null && _a !== void 0 ? _a : 'middle';\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction resolveNumericScale(factory) {\r\n    if (factory === 'linear') {\r\n        return linearScale;\r\n    }\r\n    if (factory === 'log') {\r\n        return logScale;\r\n    }\r\n    return factory;\r\n}\r\nfunction resolveBandScale(factory) {\r\n    return factory === 'band' ? bandScale$1 : factory;\r\n}\r\nfunction areCombinations$1(combinations) {\r\n    return Array.isArray(combinations);\r\n}\r\nfunction deriveDataDependent(sets, combinations, sizes, numericScale, bandScale, barLabelFontSize, dotPadding, barPadding, tickFontSize, combinationAddons, toKey, toElemKey, id, setMaxScale, combinationMaxScale) {\r\n    var _a;\r\n    const numericScaleFactory = resolveNumericScale(numericScale);\r\n    const bandScaleFactory = resolveBandScale(bandScale);\r\n    const cs = areCombinations$1(combinations)\r\n        ? combinations\r\n        : generateCombinations(sets, Object.assign({ toElemKey }, DEFAULT_COMBINATIONS, combinations));\r\n    const csKeys = cs.map(toKey);\r\n    const combinationX = bandScaleFactory(csKeys, sizes.cs.w, sizes.padding);\r\n    const dataCSCardinality = cs.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\r\n    const maxCSCardinality = combinationMaxScale !== null && combinationMaxScale !== void 0 ? combinationMaxScale : dataCSCardinality;\r\n    const combinationYEnd = maxCSCardinality > dataCSCardinality ? 0 : barLabelFontSize;\r\n    const combinationY = numericScaleFactory(maxCSCardinality, [sizes.cs.h, combinationYEnd], {\r\n        orientation: 'vertical',\r\n        fontSizeHint: tickFontSize,\r\n    });\r\n    const labelSize = (text) => Math.floor((barLabelFontSize / 1.4) * 0.7 * text.length);\r\n    const guessLabelWidth = (v) => labelSize(combinationY.tickFormat()(v));\r\n    const dataSetCardinality = sets.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\r\n    const maxSetCardinality = setMaxScale !== null && setMaxScale !== void 0 ? setMaxScale : dataSetCardinality;\r\n    const largestSetLabelWidth = guessLabelWidth(maxSetCardinality);\r\n    let largestCSLabelWidth = guessLabelWidth(maxCSCardinality);\r\n    for (const addon of combinationAddons) {\r\n        if (!addon.scale) {\r\n            continue;\r\n        }\r\n        const ticks = addon.scale.ticks(3);\r\n        const f = addon.scale.tickFormat();\r\n        for (const tick of ticks) {\r\n            const l = typeof tick === 'number' ? f(tick) : (_a = tick.label) !== null && _a !== void 0 ? _a : f(tick.value);\r\n            const size = labelSize(l);\r\n            if (size > largestCSLabelWidth) {\r\n                largestCSLabelWidth = size;\r\n            }\r\n        }\r\n    }\r\n    const setShift = maxSetCardinality > dataSetCardinality ? 0 : largestSetLabelWidth;\r\n    const setX = numericScaleFactory(maxSetCardinality, [sizes.sets.w, setShift], {\r\n        orientation: 'horizontal',\r\n        fontSizeHint: tickFontSize,\r\n    });\r\n    const setKeys = sets.map(toKey);\r\n    const setY = bandScaleFactory(setKeys.slice().reverse(), // reverse order\r\n    sizes.sets.h, sizes.padding);\r\n    const r = (Math.min(setY.bandwidth(), combinationX.bandwidth()) / 2) * dotPadding;\r\n    const triangleSize = Math.max(2, (Math.min(setY.bandwidth(), combinationX.bandwidth()) / 2) * barPadding);\r\n    return {\r\n        id: id ? id : generateId(),\r\n        r,\r\n        triangleSize,\r\n        sets: {\r\n            v: sets,\r\n            keys: setKeys,\r\n            rv: sets.slice().reverse(),\r\n            x: setX,\r\n            xAxisWidth: sizes.sets.w - setShift,\r\n            y: (s) => setY(toKey(s)),\r\n            max: maxSetCardinality,\r\n            bandWidth: setY.bandwidth(),\r\n            cy: setY.bandwidth() / 2 + sizes.cs.h,\r\n            format: setX.tickFormat(),\r\n            labelOffset: barLabelFontSize + 9 + 2,\r\n        },\r\n        cs: {\r\n            v: cs,\r\n            keys: cs.map(toKey),\r\n            x: (s) => combinationX(toKey(s)),\r\n            max: maxCSCardinality,\r\n            y: combinationY,\r\n            yAxisWidth: sizes.cs.h - combinationYEnd,\r\n            cx: combinationX.bandwidth() / 2,\r\n            bandWidth: combinationX.bandwidth(),\r\n            format: combinationY.tickFormat(),\r\n            has: (v, s) => {\r\n                const sk = toKey(s);\r\n                return Array.from(v.sets).some((ss) => toKey(ss) === sk);\r\n            },\r\n            labelOffset: largestCSLabelWidth + 9 + 6,\r\n        },\r\n        toKey,\r\n        toElemKey,\r\n        overlapGuesser: generateOverlapFunction(cs, noGuessPossible, toKey),\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveSizeDependent(width, height, margin, barPadding, widthRatios, heightRatios, setAddons, combinationAddons, id, setAddonPadding, combinationAddonPadding) {\r\n    const setAddonsBefore = setAddons.reduce((acc, a) => acc + (a.position === 'before' ? a.size + setAddonPadding : 0), 0);\r\n    const setAddonsAfter = setAddons.reduce((acc, a) => acc + (a.position !== 'before' ? a.size + setAddonPadding : 0), 0);\r\n    const combinationAddonsBefore = combinationAddons.reduce((acc, a) => acc + (a.position === 'before' ? a.size + setAddonPadding : 0), 0);\r\n    const combinationAddonsAfter = combinationAddons.reduce((acc, a) => acc + (a.position !== 'before' ? a.size + setAddonPadding : 0), 0);\r\n    const h = height - 2 * margin - 20 - combinationAddonsAfter - combinationAddonsBefore;\r\n    const w = width - 2 * margin - setAddonsBefore - setAddonsAfter;\r\n    const setWidth = widthRatios[0] > 1 ? widthRatios[0] : w * widthRatios[0];\r\n    const labelsWidth = widthRatios[1] > 1 ? widthRatios[1] : w * widthRatios[1];\r\n    const combinationHeight = heightRatios[0] > 1 ? heightRatios[0] : h * heightRatios[0];\r\n    return {\r\n        id: id ? id : generateId(),\r\n        cs: {\r\n            before: combinationAddonsBefore,\r\n            after: combinationAddonsAfter,\r\n            x: setAddonsBefore + setWidth + labelsWidth,\r\n            y: combinationAddonsBefore,\r\n            w: w - setWidth - labelsWidth,\r\n            h: combinationHeight,\r\n            addons: combinationAddons,\r\n            addonPadding: combinationAddonPadding,\r\n        },\r\n        labels: {\r\n            x: setAddonsBefore + setWidth,\r\n            y: combinationAddonsBefore + combinationHeight,\r\n            w: labelsWidth,\r\n            h: h - combinationHeight,\r\n        },\r\n        sets: {\r\n            before: setAddonsBefore,\r\n            after: setAddonsAfter,\r\n            x: setAddonsBefore,\r\n            y: combinationAddonsBefore + combinationHeight,\r\n            w: setWidth,\r\n            h: h - combinationHeight,\r\n            addons: setAddons,\r\n            addonPadding: setAddonPadding,\r\n        },\r\n        padding: barPadding,\r\n        legend: {\r\n            x: width / 2,\r\n        },\r\n        margin: margin,\r\n        w: width,\r\n        h: height,\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveStyleDependent(theme, styles, classNames, combinationName, combinationNameAxisOffset, setName, setNameAxisOffset, styleId, barLabelOffset, selectionColor, emptySelection, title, description, tooltips, setLabelAlignment) {\r\n    return {\r\n        theme,\r\n        styles,\r\n        classNames: classNames,\r\n        cs: {\r\n            name: combinationName,\r\n            offset: combinationNameAxisOffset,\r\n        },\r\n        sets: {\r\n            name: setName,\r\n            offset: setNameAxisOffset,\r\n        },\r\n        emptySelection,\r\n        id: styleId,\r\n        barLabelOffset,\r\n        selectionColor,\r\n        title,\r\n        description,\r\n        tooltips,\r\n        setLabelAlignment,\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction ExportButtons({ transform, styleId, exportButtons, exportChart, }) {\r\n    if (!exportButtons) {\r\n        return null;\r\n    }\r\n    const svgWidth = 26;\r\n    const pngWidth = 26;\r\n    const vegaWidth = 34;\r\n    const dumpWidth = 34;\r\n    const shareWidth = 42;\r\n    const space = 2;\r\n    let acc = 0;\r\n    const buttons = [];\r\n    if (exportButtons === true || exportButtons.svg !== false) {\r\n        acc += svgWidth;\r\n        buttons.push(React.createElement(\"g\", { key: \"svg\", className: `exportButton-${styleId}`, onClick: exportChart, \"data-type\": \"svg\", transform: `translate(-${acc}, 0)` },\r\n            React.createElement(\"title\", null, \"Download SVG Image\"),\r\n            React.createElement(\"rect\", { y: -9, width: svgWidth, height: 11, rx: 2, ry: 2 }),\r\n            React.createElement(\"text\", { className: `exportTextStyle-${styleId}`, x: svgWidth / 2 }, \"SVG\")));\r\n        acc += space;\r\n    }\r\n    if (exportButtons === true || exportButtons.png !== false) {\r\n        acc += pngWidth;\r\n        buttons.push(React.createElement(\"g\", { key: \"png\", className: `exportButton-${styleId}`, onClick: exportChart, \"data-type\": \"png\", transform: `translate(-${acc}, 0)` },\r\n            React.createElement(\"title\", null, \"Download PNG Image\"),\r\n            React.createElement(\"rect\", { y: -9, width: pngWidth, height: 11, rx: 2, ry: 2 }),\r\n            React.createElement(\"text\", { className: `exportTextStyle-${styleId}`, x: pngWidth / 2 }, \"PNG\")));\r\n        acc += space;\r\n    }\r\n    if (exportButtons === true || exportButtons.vega !== false) {\r\n        acc += vegaWidth;\r\n        buttons.push(React.createElement(\"g\", { key: \"vega\", className: `exportButton-${styleId}`, onClick: exportChart, \"data-type\": \"vega\", transform: `translate(-${acc}, 0)` },\r\n            React.createElement(\"title\", null, \"Download VEGA-Lite Specification\"),\r\n            React.createElement(\"rect\", { y: -9, width: vegaWidth, height: 11, rx: 2, ry: 2 }),\r\n            React.createElement(\"text\", { className: `exportTextStyle-${styleId}`, x: vegaWidth / 2 }, \"VEGA\")));\r\n        acc += space;\r\n    }\r\n    if (exportButtons === true || exportButtons.dump !== false) {\r\n        acc += dumpWidth;\r\n        buttons.push(React.createElement(\"g\", { key: \"dump\", className: `exportButton-${styleId}`, onClick: exportChart, \"data-type\": \"dump\", transform: `translate(-${acc}, 0)` },\r\n            React.createElement(\"title\", null, \"Download UpSet.js JSON Dump\"),\r\n            React.createElement(\"rect\", { y: -9, width: dumpWidth, height: 11, rx: 2, ry: 2 }),\r\n            React.createElement(\"text\", { className: `exportTextStyle-${styleId}`, x: dumpWidth / 2 }, \"DUMP\")));\r\n        acc += space;\r\n    }\r\n    if (exportButtons === true || exportButtons.share !== false) {\r\n        acc += shareWidth;\r\n        buttons.push(React.createElement(\"g\", { key: \"share\", className: `exportButton-${styleId}`, onClick: exportChart, \"data-type\": \"share\", transform: `translate(-${acc}, 0)` },\r\n            React.createElement(\"title\", null, \"Open a shareable URL\"),\r\n            React.createElement(\"rect\", { y: -9, width: shareWidth, height: 11, rx: 2, ry: 2 }),\r\n            React.createElement(\"text\", { className: `exportTextStyle-${styleId}`, x: shareWidth / 2 }, \"SHARE\")));\r\n        acc += space;\r\n    }\r\n    return (React.createElement(\"g\", { className: `exportButtons-${styleId}`, transform: transform }, buttons));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst QueryLegend = /*!#__PURE__*/ React.memo(function QueryLegend({ queries, x, style, data, }) {\r\n    return (React.createElement(\"text\", { transform: `translate(${x},4)`, style: style.styles.legend, className: clsx(`legendTextStyle-${style.id}`, style.classNames.legend) }, queries.map((q, i) => {\r\n        let count = null;\r\n        if (isSetQuery(q)) {\r\n            count = q.set.cardinality;\r\n        }\r\n        else if (isElemQuery(q)) {\r\n            count = q.elems instanceof Set ? q.elems.size : q.elems.length;\r\n        }\r\n        return (React.createElement(React.Fragment, { key: q.name },\r\n            React.createElement(\"tspan\", { className: `fillQ${i}-${data.id}` }, '  ⬤ '),\r\n            React.createElement(\"tspan\", null,\r\n                q.name,\r\n                count != null ? `: ${data.sets.format(count)}` : '')));\r\n    })));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst HorizontalTick = /*!#__PURE__*/ React.memo(function HorizontalTick({ pos, spacing, tickSizeInner, orient, name, style, }) {\r\n    const k = orient === 'top' || orient === 'left' ? -1 : 1;\r\n    return (React.createElement(\"g\", { transform: `translate(0, ${pos + 0.5})` },\r\n        name && (React.createElement(\"text\", { x: k * spacing, dy: '0.32em', className: clsx(`axisTextStyle-${style.id}`, orient === 'right' ? `startText-${style.id}` : `endText-${style.id}`, style.classNames.axisTick), style: style.styles.axisTick }, name)),\r\n        React.createElement(\"line\", { x2: k * tickSizeInner, className: `axisLine-${style.id}` })));\r\n});\r\nconst VerticalTick = /*!#__PURE__*/ React.memo(function VerticalTick({ pos, name, spacing, orient, tickSizeInner, style, }) {\r\n    const k = orient === 'top' || orient === 'left' ? -1 : 1;\r\n    return (React.createElement(\"g\", { transform: `translate(${pos + 0.5}, 0)` },\r\n        name && (React.createElement(\"text\", { y: k * spacing, dy: orient === 'top' ? '0em' : '0.71em', className: clsx(`axisTextStyle-${style.id}`, style.classNames.axisTick), style: style.styles.axisTick }, name)),\r\n        React.createElement(\"line\", { y2: k * tickSizeInner, className: `axisLine-${style.id}` })));\r\n});\r\nfunction Axis({ scale, orient, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, size, start, style, transform, }) {\r\n    const spacing = Math.max(tickSizeInner, 0) + tickPadding;\r\n    const range0 = start;\r\n    const range1 = size;\r\n    const k = orient === 'top' || orient === 'left' ? -1 : 1;\r\n    const Tick = orient === 'left' || orient === 'right' ? HorizontalTick : VerticalTick;\r\n    const values = scale\r\n        .ticks()\r\n        .map((d) => (typeof d === 'number' ? { value: d, label: String(d) } : d));\r\n    return (React.createElement(\"g\", { transform: transform },\r\n        values.map((d) => (React.createElement(Tick, { key: d.value, pos: scale(d.value), name: d.label, spacing: spacing, tickSizeInner: tickSizeInner, orient: orient, style: style }))),\r\n        React.createElement(\"path\", { className: `axisLine-${style.id}`, d: orient === 'left' || orient === 'right'\r\n                ? tickSizeOuter\r\n                    ? `M${k * tickSizeOuter},${range0}H0.5V${range1}H${k * tickSizeOuter}`\r\n                    : `M0.5,${range0}V${range1}`\r\n                : tickSizeOuter\r\n                    ? `M${range0},${k * tickSizeOuter}V0.5H${range1}V${k * tickSizeOuter}`\r\n                    : `M${range0},0.5H${range1}` })));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst MultilineText = /*!#__PURE__*/ React.memo(function MultilineText({ width, text, dy, x, style, className, }) {\r\n    const ref = useRef(null);\r\n    const [lines, setLines] = useState(typeof text === 'string' ? [text] : []);\r\n    // update state upon text update\r\n    useLayoutEffect(() => {\r\n        if (typeof text === 'string') {\r\n            setLines([text]);\r\n        }\r\n        else {\r\n            setLines([]);\r\n        }\r\n    }, [text]);\r\n    useLayoutEffect(() => {\r\n        if (!ref.current ||\r\n            ref.current.childElementCount > 0 ||\r\n            typeof text !== 'string' ||\r\n            typeof ref.current.getComputedTextLength !== 'function') {\r\n            // already multi lines\r\n            return;\r\n        }\r\n        const len = ref.current.getComputedTextLength();\r\n        const lines = [];\r\n        let lineWidth = width;\r\n        let start = 0;\r\n        // compute line splits\r\n        const p = ref.current.getStartPositionOfChar(0);\r\n        while (len > lineWidth) {\r\n            p.x = lineWidth;\r\n            const num = ref.current.getCharNumAtPosition(p);\r\n            const space = text.lastIndexOf(' ', num);\r\n            if (space < start) {\r\n                break;\r\n            }\r\n            lines.push(text.slice(start, space + 1));\r\n            const used = ref.current.getEndPositionOfChar(space + 1).x;\r\n            start = space + 1;\r\n            // new line with in the used part + a new line\r\n            lineWidth = used + width;\r\n        }\r\n        lines.push(text.slice(start));\r\n        setLines(lines);\r\n    }, [ref, text, width]);\r\n    if (!text) {\r\n        return null;\r\n    }\r\n    return (React.createElement(\"tspan\", { ref: ref, dy: dy, style: style, x: x, className: className }, lines.length > 1\r\n        ? lines.map((l, i) => (React.createElement(\"tspan\", { key: l, x: 0, dy: i > 0 ? '1.2em' : dy }, l)))\r\n        : text));\r\n});\r\nvar UpSetTitle = /*!#__PURE__*/ React.memo(function UpSetTitle({ width, descriptionWidth = width, style, }) {\r\n    if (!style.title && !style.description) {\r\n        return null;\r\n    }\r\n    return (React.createElement(\"text\", null,\r\n        React.createElement(MultilineText, { text: style.title, width: width, dy: \"10px\", className: clsx(`titleTextStyle-${style.id}`, style.classNames.title), style: style.styles.title }),\r\n        React.createElement(MultilineText, { x: 0, width: descriptionWidth, dy: style.title ? '2em' : '10px', text: style.description, className: clsx(`descTextStyle-${style.id}`, style.classNames.description), style: style.styles.description })));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction noop() {\r\n    return undefined;\r\n}\r\nfunction wrap(f) {\r\n    if (!f) {\r\n        return noop;\r\n    }\r\n    return (set, addons) => {\r\n        return function (evt) {\r\n            return f.call(this, set, evt.nativeEvent, addons.map((a) => (a.createOnHandlerData ? a.createOnHandlerData(set) : null)));\r\n        };\r\n    };\r\n}\r\nfunction addonPositionGenerator(total, padding) {\r\n    let beforeAcc = 0;\r\n    let afterAcc = 0;\r\n    return (addon) => {\r\n        let x = 0;\r\n        if (addon.position === 'before') {\r\n            beforeAcc += addon.size + padding;\r\n            x = -beforeAcc;\r\n        }\r\n        else {\r\n            x = total + afterAcc + padding;\r\n            afterAcc += addon.size + padding;\r\n        }\r\n        return x;\r\n    };\r\n}\r\nfunction mergeColor(style, color, prop = 'fill') {\r\n    if (!color) {\r\n        return style;\r\n    }\r\n    if (!style) {\r\n        return !color ? undefined : { [prop]: color };\r\n    }\r\n    return Object.assign({ [prop]: color }, style);\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst UpSetAxis = /*!#__PURE__*/ React.memo(function UpSetAxis({ size, style, data }) {\r\n    const setPosGen = addonPositionGenerator(size.sets.w + size.labels.w + size.cs.w, size.sets.addonPadding);\r\n    const combinationPosGen = addonPositionGenerator(size.cs.h + size.sets.h, size.cs.addonPadding);\r\n    const csNameOffset = style.cs.offset === 'auto' ? data.cs.labelOffset : style.cs.offset;\r\n    const setNameOffset = style.sets.offset === 'auto' ? data.sets.labelOffset : style.sets.offset;\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(UpSetTitle, { style: style, width: size.cs.x - csNameOffset - 20 }),\r\n        React.createElement(\"g\", { transform: `translate(${size.cs.x},${size.cs.y})`, \"data-upset\": \"csaxis\" },\r\n            React.createElement(Axis, { scale: data.cs.y, orient: \"left\", size: size.cs.h, start: size.cs.h - data.cs.yAxisWidth, style: style }),\r\n            React.createElement(\"line\", { x1: 0, x2: size.cs.w, y1: size.cs.h + 1, y2: size.cs.h + 1, className: `axisLine-${style.id}` }),\r\n            React.createElement(\"text\", { className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel), style: style.styles.chartLabel, transform: `translate(${-csNameOffset}, ${size.cs.h / 2})rotate(-90)` }, style.cs.name),\r\n            size.cs.addons.map((addon) => {\r\n                const pos = combinationPosGen(addon);\r\n                const title = (React.createElement(\"text\", { key: addon.name, className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel), style: style.styles.chartLabel, transform: `translate(${-csNameOffset}, ${pos + addon.size / 2})rotate(-90)` }, addon.name));\r\n                if (!addon.scale) {\r\n                    return title;\r\n                }\r\n                return (React.createElement(React.Fragment, { key: addon.name },\r\n                    React.createElement(Axis, { scale: addon.scale, orient: \"left\", size: addon.size, start: 0, style: style, transform: `translate(0,${pos})` }),\r\n                    title));\r\n            })),\r\n        React.createElement(\"g\", { transform: `translate(${size.sets.x},${size.sets.y})`, \"data-upset\": \"setaxis\" },\r\n            React.createElement(Axis, { scale: data.sets.x, orient: \"bottom\", size: size.sets.w, start: size.sets.w - data.sets.xAxisWidth, transform: `translate(0, ${size.sets.h})`, style: style }),\r\n            React.createElement(\"text\", { className: clsx(`sChartTextStyle-${style.id}`, style.classNames.chartLabel), style: style.styles.chartLabel, transform: `translate(${size.sets.w / 2}, ${size.sets.h + setNameOffset})` }, style.sets.name),\r\n            size.sets.addons.map((addon) => {\r\n                const pos = setPosGen(addon);\r\n                const title = (React.createElement(\"text\", { key: addon.name, className: clsx(`sChartTextStyle-${style.id}`, style.classNames.chartLabel), style: style.styles.chartLabel, transform: `translate(${pos + addon.size / 2}, ${size.sets.h + setNameOffset})` }, addon.name));\r\n                if (!addon.scale) {\r\n                    return title;\r\n                }\r\n                return (React.createElement(React.Fragment, { key: addon.name },\r\n                    React.createElement(Axis, { scale: addon.scale, orient: \"bottom\", size: addon.size, start: 0, transform: `translate(${pos}, ${size.sets.h})`, style: style }),\r\n                    title));\r\n            }))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst UpSetDot = /*!#__PURE__*/ React.memo(function UpSetDot({ cx, r, cy, name, className, style, fill, }) {\r\n    return (React.createElement(\"circle\", { r: r, cx: cx, cy: cy, className: className, style: mergeColor(style, fill) }, name && React.createElement(\"title\", null, name)));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction computeOverflowValues(value, max, scale) {\r\n    const scaled = [scale(value)];\r\n    for (let i = 0; i < OVERFLOW_PADDING_FACTOR.length && value > max; i++) {\r\n        value -= max;\r\n        scaled.push(scale(value));\r\n    }\r\n    return scaled;\r\n}\r\nconst CombinationChart = /*!#__PURE__*/ React.memo(function CombinationChart({ d, h, className, data, size, style, children, }) {\r\n    const yValues = computeOverflowValues(d.cardinality, data.cs.max, data.cs.y);\r\n    const genPosition = addonPositionGenerator(size.cs.h + size.sets.h, size.cs.addonPadding);\r\n    return (React.createElement(\"g\", { transform: `translate(${data.cs.x(d)}, 0)`, onMouseEnter: h.onMouseEnter(d, size.cs.addons), onMouseLeave: h.onMouseLeave, onClick: h.onClick(d, size.cs.addons), onContextMenu: h.onContextMenu(d, size.cs.addons), onMouseMove: h.onMouseMove(d, size.cs.addons), className: className, \"data-cardinality\": d.cardinality },\r\n        style.tooltips && (React.createElement(\"title\", null,\r\n            d.name,\r\n            \": \",\r\n            data.cs.format(d.cardinality))),\r\n        React.createElement(\"rect\", { y: -size.cs.before, width: data.cs.bandWidth, height: size.sets.h + size.cs.h + size.cs.before + size.cs.after, className: `hoverBar-${style.id}` }),\r\n        yValues.map((y, i) => {\r\n            const offset = i > 0 ? Math.floor(data.cs.bandWidth * OVERFLOW_PADDING_FACTOR[i - 1]) : 0;\r\n            return (React.createElement(\"rect\", { key: i, x: offset, y: y, height: size.cs.h - y, width: data.cs.bandWidth - offset * 2, className: clsx(`fillPrimary-${style.id}`, i < yValues.length - 1 && `fillOverflow${yValues.length - 1 - i}-${style.id}`, style.classNames.bar), style: mergeColor(style.styles.bar, d.color) }));\r\n        }),\r\n        React.createElement(\"text\", { y: yValues[0] - style.barLabelOffset, x: data.cs.bandWidth / 2, style: style.styles.barLabel, className: clsx(`cBarTextStyle-${style.id}`, style.classNames.barLabel) }, data.cs.format(d.cardinality)),\r\n        React.createElement(\"text\", { y: -style.barLabelOffset - size.cs.before, x: data.cs.bandWidth / 2, style: style.styles.barLabel, className: clsx(`hoverBarTextStyle-${style.id}`, style.classNames.barLabel) }, d.name),\r\n        data.sets.v.map((s, i) => {\r\n            if (data.cs.has(d, s)) {\r\n                // only not\r\n                return null;\r\n            }\r\n            return (React.createElement(UpSetDot, { key: data.sets.keys[i], r: data.r, cx: data.cs.cx, cy: data.sets.y(s) + data.sets.cy, name: style.tooltips ? d.name : '', style: style.styles.dot, fill: undefined, className: clsx(`fillNotMember-${style.id}`, style.classNames.dot) }));\r\n        }),\r\n        d.sets.size > 1 && (React.createElement(\"line\", { x1: data.cs.cx, y1: data.sets.y(data.sets.v.find((p) => data.cs.has(d, p))) + data.sets.cy - (data.r - 1), x2: data.cs.cx, y2: data.sets.y(data.sets.rv.find((p) => data.cs.has(d, p))) + data.sets.cy + (data.r - 1), style: d.color ? { stroke: d.color } : undefined, className: `upsetLine-${data.id}` })),\r\n        data.sets.v.map((s, i) => {\r\n            var _a;\r\n            if (!data.cs.has(d, s)) {\r\n                // only has\r\n                return null;\r\n            }\r\n            return (React.createElement(UpSetDot, { key: data.sets.keys[i], r: data.r, cx: data.cs.cx, cy: data.sets.y(s) + data.sets.cy, name: style.tooltips ? s.name : '', style: style.styles.dot, fill: (_a = s.color) !== null && _a !== void 0 ? _a : d.color, className: clsx(`fillPrimary-${style.id}`, style.classNames.dot) }));\r\n        }),\r\n        size.cs.addons.map((addon) => (React.createElement(\"g\", { key: addon.name, transform: `translate(0,${genPosition(addon)})` }, addon.render({ set: d, width: data.cs.bandWidth, height: addon.size, theme: style.theme })))),\r\n        children));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst SetChart = /*!#__PURE__*/ React.memo(function SetChart({ d, i, h, className, size, data, style, children, }) {\r\n    const xValues = computeOverflowValues(d.cardinality, data.sets.max, data.sets.x);\r\n    const genPosition = addonPositionGenerator(size.sets.w + size.labels.w + size.cs.w, size.sets.addonPadding);\r\n    const anchorOffset = style.setLabelAlignment === 'center'\r\n        ? size.labels.w / 2\r\n        : style.setLabelAlignment === 'left'\r\n            ? 2\r\n            : size.labels.w - 2;\r\n    return (React.createElement(\"g\", { transform: `translate(0, ${data.sets.y(d)})`, onMouseEnter: h.onMouseEnter(d, size.sets.addons), onMouseLeave: h.onMouseLeave, onClick: h.onClick(d, size.sets.addons), onContextMenu: h.onContextMenu(d, size.sets.addons), onMouseMove: h.onMouseMove(d, size.sets.addons), className: className, \"data-cardinality\": d.cardinality },\r\n        style.tooltips && (React.createElement(\"title\", null,\r\n            d.name,\r\n            \": \",\r\n            data.sets.format(d.cardinality))),\r\n        React.createElement(\"rect\", { x: -size.sets.before, width: size.sets.w + size.labels.w + size.cs.w + size.sets.after, height: data.sets.bandWidth, className: `hoverBar-${style.id}` }),\r\n        i % 2 === 1 && (React.createElement(\"rect\", { x: size.sets.w, width: size.labels.w + size.cs.w + size.sets.after, height: data.sets.bandWidth, className: `fillAlternating-${style.id}` })),\r\n        xValues.map((x, i) => {\r\n            const offset = i > 0 ? Math.floor(data.sets.bandWidth * OVERFLOW_PADDING_FACTOR[i - 1]) : 0;\r\n            return (React.createElement(\"rect\", { key: i, x: x, y: offset, width: size.sets.w - x, height: data.sets.bandWidth - offset * 2, className: clsx(`fillPrimary-${style.id}`, i < xValues.length - 1 && `fillOverflow${xValues.length - 1 - i}-${style.id}`, style.classNames.bar), style: mergeColor(style.styles.bar, d.color) }));\r\n        }),\r\n        React.createElement(\"text\", { x: xValues[0], dx: -style.barLabelOffset, y: data.sets.bandWidth / 2, style: style.styles.barLabel, className: clsx(`sBarTextStyle-${style.id}`, style.classNames.barLabel) }, data.sets.format(d.cardinality)),\r\n        React.createElement(\"text\", { x: size.sets.w + anchorOffset, y: data.sets.bandWidth / 2, className: clsx(`setTextStyle-${style.id}`, style.classNames.setLabel), style: style.styles.setLabel, clipPath: `url(#clip-${size.id})` }, d.name),\r\n        size.sets.addons.map((addon) => (React.createElement(\"g\", { key: addon.name, transform: `translate(${genPosition(addon)},0)` }, addon.render({ set: d, width: addon.size, height: data.sets.bandWidth, theme: style.theme })))),\r\n        children));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst UpSetChart = /*!#__PURE__*/ React.memo(function UpSetChart({ data, size, style, h, setChildrenFactory, combinationChildrenFactory, }) {\r\n    return (React.createElement(\"g\", { className: h.hasClick ? `clickAble-${style.id}` : undefined },\r\n        React.createElement(\"g\", { transform: `translate(${size.sets.x},${size.sets.y})`, \"data-upset\": \"sets\" }, data.sets.v.map((d, i) => (React.createElement(SetChart, { key: data.sets.keys[i], d: d, i: i, h: h, className: h.hasClick || h.hasHover ? `interactive-${style.id}` : undefined, data: data, style: style, size: size }, setChildrenFactory && setChildrenFactory(d))))),\r\n        React.createElement(\"g\", { transform: `translate(${size.cs.x},${size.cs.y})`, \"data-upset\": \"cs\" }, data.cs.v.map((d, i) => (React.createElement(CombinationChart, { key: data.cs.keys[i], d: d, h: h, className: h.hasClick || h.hasHover ? `interactive-${style.id}` : undefined, data: data, style: style, size: size }, combinationChildrenFactory && combinationChildrenFactory(d)))))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction CombinationSelectionChart({ data, size, style, elemOverlap, secondary, tooltip, suffix, transform, empty, combinationAddons, }) {\r\n    const width = data.cs.bandWidth;\r\n    const totalHeight = size.cs.h + size.sets.h;\r\n    const height = size.cs.h;\r\n    const className = clsx(`fill${suffix}`, !tooltip && `pnone-${style.id}`, style.classNames.bar);\r\n    return (React.createElement(\"g\", { transform: transform, \"data-upset\": secondary ? 'cs-q' : 'cs-s' }, data.cs.v.map((d, i) => {\r\n        const x = data.cs.x(d);\r\n        const key = data.cs.keys[i];\r\n        if (empty && !secondary) {\r\n            return (React.createElement(\"rect\", { key: key, x: x, y: height, height: 0, width: width, className: className, style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, tooltip && React.createElement(\"title\", null)));\r\n        }\r\n        const o = elemOverlap(d);\r\n        if (o === 0) {\r\n            return null;\r\n        }\r\n        const yValues = computeOverflowValues(o, data.cs.max, data.cs.y);\r\n        const title = tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\r\n        const content = secondary ? (React.createElement(\"path\", { key: key, transform: `translate(${x}, ${yValues[0]})`, d: `M0,-1 l${width},0 l0,2 l${-width},0 L-${data.triangleSize},-${data.triangleSize} L-${data.triangleSize},${data.triangleSize} Z`, className: className, \"data-i\": i, \"data-cardinality\": o, style: mergeColor(undefined, !style.selectionColor ? d.color : undefined) }, title)) : (yValues.map((y, j) => {\r\n            const offset = j > 0 ? Math.floor(data.cs.bandWidth * OVERFLOW_PADDING_FACTOR[j - 1]) : 0;\r\n            return (React.createElement(\"rect\", { key: j, x: x + offset, y: y, height: height - y, width: width - offset * 2, \"data-i\": j > 0 ? null : i, \"data-cardinality\": j > 0 ? null : o, className: clsx(className, j < yValues.length - 1 && `fillOverflow${yValues.length - 1 - j}-${style.id}`), style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, title));\r\n        }));\r\n        const genPosition = addonPositionGenerator(totalHeight, size.cs.addonPadding);\r\n        const addons = combinationAddons\r\n            .map((addon) => {\r\n            const v = genPosition(addon);\r\n            const content = addon.render({ set: d, width, height: addon.size, theme: style.theme });\r\n            if (!content) {\r\n                return null;\r\n            }\r\n            return (React.createElement(\"g\", { key: addon.name, transform: `translate(${x},${v})` }, content));\r\n        })\r\n            .filter(Boolean);\r\n        if (addons.length === 0) {\r\n            return content;\r\n        }\r\n        return (React.createElement(\"g\", { key: key },\r\n            content,\r\n            addons));\r\n    })));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction SetSelectionChart({ data, size, style, elemOverlap, suffix, secondary, empty, tooltip, setAddons, transform, }) {\r\n    const width = size.sets.w;\r\n    const totalWidth = size.sets.w + size.labels.w + size.cs.w;\r\n    const height = data.sets.bandWidth;\r\n    const className = clsx(`fill${suffix}`, !tooltip && ` pnone-${style.id}`, style.classNames.bar);\r\n    return (React.createElement(\"g\", { transform: transform, \"data-upset\": secondary ? 'sets-q' : 'sets-s' }, data.sets.v.map((d, i) => {\r\n        const y = data.sets.y(d);\r\n        const key = data.sets.keys[i];\r\n        if (empty && !secondary) {\r\n            return (React.createElement(\"rect\", { key: key, x: width, y: y, width: 0, height: height, className: className, style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, style.tooltips && tooltip && React.createElement(\"title\", null)));\r\n        }\r\n        const o = elemOverlap(d);\r\n        if (o === 0) {\r\n            return null;\r\n        }\r\n        const xValues = computeOverflowValues(o, data.sets.max, data.sets.x);\r\n        const title = style.tooltips && tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\r\n        const content = secondary ? (React.createElement(\"path\", { key: key, transform: `translate(${xValues[0]}, ${y + height})`, d: `M1,0 l0,${-height} l-2,0 l0,${height} L-${data.triangleSize},${data.triangleSize} L${data.triangleSize},${data.triangleSize} Z`, \"data-i\": i, \"data-cardinality\": o, className: className, style: mergeColor(undefined, !style.selectionColor ? d.color : undefined) }, title)) : (xValues.map((x, j) => {\r\n            const offset = j > 0 ? Math.floor(data.sets.bandWidth * OVERFLOW_PADDING_FACTOR[j - 1]) : 0;\r\n            return (React.createElement(\"rect\", { key: j, \"data-i\": j > 0 ? null : i, \"data-cardinality\": j > 0 ? null : o, x: x, y: y + offset, width: width - x, height: height - offset * 2, className: clsx(className, j < xValues.length - 1 && `fillOverflow${xValues.length - 1 - j}-${style.id}`), style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, title));\r\n        }));\r\n        const genPosition = addonPositionGenerator(totalWidth, size.sets.addonPadding);\r\n        const addons = setAddons\r\n            .map((addon) => {\r\n            const v = genPosition(addon);\r\n            const content = addon.render({ set: d, width: addon.size, height, theme: style.theme });\r\n            if (!content) {\r\n                return null;\r\n            }\r\n            return (React.createElement(\"g\", { key: addon.name, transform: `translate(${v},${y})` }, content));\r\n        })\r\n            .filter(Boolean);\r\n        if (addons.length === 0) {\r\n            return content;\r\n        }\r\n        return (React.createElement(\"g\", { key: key },\r\n            content,\r\n            addons));\r\n    })));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst EMPTY_ARRAY$1 = [];\r\nconst UpSetQueries = /*!#__PURE__*/ React.memo(function UpSetQueries({ size, data, style, hasHover, secondary, queries, }) {\r\n    const someAddon = size.sets.addons.some((s) => s.renderQuery != null) || size.cs.addons.some((s) => s.renderQuery != null);\r\n    const qs = useMemo(() => queries.map((q) => (Object.assign(Object.assign({}, q), { overlap: queryOverlap(q, 'intersection', data.toElemKey), elemOverlap: someAddon ? queryElemOverlap(q, 'intersection', data.toElemKey) : null }))), [queries, someAddon, data.toElemKey]);\r\n    function wrapAddon(addon, query, index, overlapper, secondary) {\r\n        return Object.assign(Object.assign({}, addon), { render: (props) => {\r\n                const overlap = overlapper(props.set);\r\n                return addon.renderQuery ? addon.renderQuery(Object.assign({ query, overlap, index, secondary }, props)) : null;\r\n            } });\r\n    }\r\n    return (React.createElement(\"g\", { className: hasHover && !secondary ? `pnone-${style.id}` : undefined },\r\n        React.createElement(\"g\", { transform: `translate(${size.sets.x},${size.sets.y})` }, qs.map((q, i) => (React.createElement(SetSelectionChart, { key: q.name, data: data, size: size, style: style, elemOverlap: q.overlap, suffix: `Q${i}-${data.id}`, secondary: secondary || i > 0, tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name, setAddons: size.sets.addons.length === 0\r\n                ? EMPTY_ARRAY$1\r\n                : size.sets.addons.map((a, i) => wrapAddon(a, q, i, q.elemOverlap, secondary || i > 0)) })))),\r\n        React.createElement(\"g\", { transform: `translate(${size.cs.x},${size.cs.y})` }, qs.map((q, i) => (React.createElement(CombinationSelectionChart, { key: q.name, data: data, size: size, style: style, elemOverlap: q.overlap, suffix: `Q${i}-${data.id}`, secondary: secondary || i > 0, tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name, combinationAddons: size.cs.addons.length === 0\r\n                ? EMPTY_ARRAY$1\r\n                : size.cs.addons.map((a, i) => wrapAddon(a, q, i, q.elemOverlap, secondary || i > 0)) }))))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction LabelsSelection({ data, size, style, selection, }) {\r\n    if (!selection || selection.type !== 'set' || !data.sets.keys.includes(data.toKey(selection))) {\r\n        return null;\r\n    }\r\n    const d = selection;\r\n    return (React.createElement(\"rect\", { y: data.sets.y(d), width: size.labels.w + size.cs.w + size.sets.after, height: data.sets.bandWidth, className: `selectionHint-${style.id}` }));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction UpSetSelectionChart({ data, size, style, selection, }) {\r\n    const cy = data.sets.bandWidth / 2;\r\n    const cx = data.cs.cx;\r\n    const r = data.r;\r\n    const height = size.sets.h + size.sets.after;\r\n    const width = data.cs.bandWidth;\r\n    if (!selection || selection.type === 'set' || !data.cs) {\r\n        return null;\r\n    }\r\n    const d = selection;\r\n    const index = data.cs.keys.indexOf(data.toKey(d));\r\n    if (index < 0) {\r\n        return null;\r\n    }\r\n    return (React.createElement(\"g\", { transform: `translate(${size.labels.w + data.cs.x(d)}, 0)`, \"data-upset\": \"cs-ss\", \"data-i\": index },\r\n        React.createElement(\"rect\", { width: width, height: height, className: `selectionHint-${style.id}` }),\r\n        d.sets.size > 1 && (React.createElement(\"line\", { x1: cx, y1: data.sets.y(data.sets.v.find((p) => data.cs.has(d, p))) + cy - (data.r - 1), x2: cx, y2: data.sets.y(data.sets.rv.find((p) => data.cs.has(d, p))) + cy + (data.r - 1), className: `upsetSelectionLine-${data.id}`, style: mergeColor(undefined, !style.selectionColor ? d.color : undefined, 'stroke') })),\r\n        data.sets.v\r\n            .filter((s) => data.cs.has(d, s))\r\n            .map((s) => (React.createElement(UpSetDot, { key: data.toKey(s), r: r * 1.1, cx: cx, cy: data.sets.y(s) + cy, name: style.tooltips ? s.name : '', className: clsx(`fillSelection-${style.id}`, `pnone-${style.id}`, style.classNames.dot), style: mergeColor(style.styles.dot, !style.selectionColor ? s.color : undefined) })))));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst EMPTY_ARRAY$2 = [];\r\nfunction UpSetSelection({ size, data, style, selection, hasHover, }) {\r\n    const empty = style.emptySelection;\r\n    const selectionOverlap = generateSelectionOverlap(selection, data.overlapGuesser, data.toElemKey);\r\n    const selectionName = generateSelectionName(selection);\r\n    const someAddon = size.sets.addons.some((s) => s.renderSelection != null) || size.cs.addons.some((s) => s.renderSelection != null);\r\n    const selectionElemOverlap = selection && typeof selection !== 'function' && someAddon\r\n        ? elemElemOverlapOf(Array.isArray(selection) ? selection : selection.elems, data.toElemKey)\r\n        : null;\r\n    function wrapAddon(addon) {\r\n        return Object.assign(Object.assign({}, addon), { render: (props) => {\r\n                const overlap = selectionElemOverlap ? selectionElemOverlap(props.set) : null;\r\n                return addon.renderSelection\r\n                    ? addon.renderSelection(Object.assign({ selection, selectionColor: style.selectionColor || props.set.color || 'orange', overlap }, props))\r\n                    : null;\r\n            } });\r\n    }\r\n    return (React.createElement(\"g\", { className: hasHover ? `pnone-${style.id}` : undefined },\r\n        (selection || empty) && (React.createElement(CombinationSelectionChart, { data: data, size: size, style: style, transform: `translate(${size.cs.x},${size.cs.y})`, empty: empty && !selection, elemOverlap: selectionOverlap, suffix: `Selection-${style.id}`, tooltip: hasHover ? undefined : selectionName, combinationAddons: size.cs.addons.length === 0 ? EMPTY_ARRAY$2 : size.cs.addons.map(wrapAddon) })),\r\n        (selection || empty) && (React.createElement(SetSelectionChart, { data: data, size: size, style: style, transform: `translate(${size.sets.x},${size.sets.y})`, empty: empty && !selection, elemOverlap: selectionOverlap, suffix: `Selection-${style.id}`, tooltip: hasHover ? undefined : selectionName, setAddons: size.sets.addons.length === 0 ? EMPTY_ARRAY$2 : size.sets.addons.map(wrapAddon) })),\r\n        React.createElement(\"g\", { transform: `translate(${size.labels.x},${size.labels.y})` },\r\n            isSetLike(selection) && React.createElement(LabelsSelection, { data: data, size: size, style: style, selection: selection }),\r\n            isSetLike(selection) && React.createElement(UpSetSelectionChart, { data: data, size: size, style: style, selection: selection }))));\r\n}\n\nfunction propRule(value, prop = 'font-size') {\r\n    return value ? `${prop}: ${value};` : '';\r\n}\r\nfunction baseRules(styleId, theme, fontFamily, fontSizes) {\r\n    const hasS = [];\r\n    if (theme.hasSelectionColor) {\r\n        hasS.push(`fill: ${theme.hasSelectionColor};`);\r\n    }\r\n    const hasSelectionOpacity = theme.hasSelectionOpacity != null && theme.hasSelectionOpacity >= 0;\r\n    if (hasSelectionOpacity) {\r\n        hasS.push(`fill-opacity: ${theme.hasSelectionOpacity};`);\r\n    }\r\n    return {\r\n        p: propRule,\r\n        root: `\n  .root-${styleId} {\n    ${propRule(fontFamily, 'font-family')}\n  }\n  `,\r\n        text: `\n  .titleTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.title)}\n  }\n  .descTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.description)}\n  }\n\n  .legendTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.legend)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  `,\r\n        hasSFill: hasS.join(' '),\r\n        hasSStroke: hasS.join(' ').replace('fill:', 'stroke:').replace('fill-', 'stroke-'),\r\n        fill: `\n  .fillPrimary-${styleId} { fill: ${theme.color}; fill-opacity: ${theme.opacity}; }\n  .fillOverflow1-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[0]}; }\n  .fillOverflow2-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[1]}; }\n  ${hasS.length > 0 ? `.root-${styleId}[data-selection] .fillPrimary-${styleId} { ${hasS.join(' ')} }` : ''}\n  ${hasSelectionOpacity\r\n            ? `\n      .root-${styleId}[data-selection] .fillOverflow1-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[0]}; }\n      .root-${styleId}[data-selection] .fillOverflow2-${styleId} { fill-opacity: ${theme.opacity * OVERFLOW_OPACITY_FACTOR[1]}; }`\r\n            : ''}\n  ${theme.selectionColor ? `.fillSelection-${styleId} { fill: ${theme.selectionColor}; }` : ''}\n  .fillTransparent-${styleId} { fill: transparent; }\n\n  .selectionHint-${styleId} {\n    fill: transparent;\n    pointer-events: none;\n    ${propRule(theme.selectionColor, 'stroke')}\n  }\n  .clickAble-${styleId} {\n    cursor: pointer;\n  }\n\n  .startText-${styleId} {\n    text-anchor: start;\n  }\n  .endText-${styleId} {\n    text-anchor: end;\n  }\n  .pnone-${styleId} {\n    pointer-events: none;\n  }`,\r\n        export: `\n  .exportTextStyle-${styleId} {\n    fill: ${theme.textColor};\n    ${propRule(fontSizes.exportLabel)}\n  }\n  .exportButtons-${styleId} {\n    text-anchor: middle;\n  }\n  .exportButton-${styleId} {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-${styleId}:hover {\n    opacity: 1;\n  }\n  .exportButton-${styleId} > rect {\n    fill: none;\n    stroke: ${theme.textColor};\n  }\n  `,\r\n    };\r\n}\n\nfunction useHandler(p) {\r\n    const onClick = p.onClick;\r\n    return useMemo(() => ({\r\n        hasClick: onClick != null,\r\n        hasHover: p.onHover != null,\r\n        onClick: wrap(onClick),\r\n        onMouseEnter: wrap(p.onHover),\r\n        onContextMenu: wrap(p.onContextMenu),\r\n        onMouseLeave: p.onHover ? (evt) => p.onHover(null, evt.nativeEvent, []) : undefined,\r\n        onMouseMove: wrap(p.onMouseMove),\r\n        reset: (evt) => (onClick ? onClick(null, evt.nativeEvent, []) : null),\r\n    }), [onClick, p.onHover, p.onContextMenu, p.onMouseMove]);\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\n/**\r\n * UpSetJS main pure functional stateless React component, the generic argument T refers to the type of the elements\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\r\nconst UpSetJS = /*!#__PURE__*/ React.forwardRef(function UpSetJS(props, ref) {\r\n    var _a;\r\n    const p = fillDefaults(props);\r\n    const { selection = null, queries = [], fontSizes } = p;\r\n    // generate a \"random\" but attribute stable id to avoid styling conflicts\r\n    const styleId = useMemo(() => p.id\r\n        ? p.id\r\n        : generateId([\r\n            p.fontFamily,\r\n            fontSizes.axisTick,\r\n            fontSizes.barLabel,\r\n            fontSizes.chartLabel,\r\n            fontSizes.legend,\r\n            fontSizes.setLabel,\r\n            fontSizes.title,\r\n            fontSizes.exportLabel,\r\n            fontSizes.description,\r\n            p.textColor,\r\n            p.hoverHintColor,\r\n            p.color,\r\n            p.hasSelectionColor,\r\n            p.selectionColor,\r\n            p.notMemberColor,\r\n            p.alternatingBackgroundColor,\r\n            p.opacity,\r\n            p.hasSelectionOpacity,\r\n        ]), [\r\n        p.id,\r\n        p.fontFamily,\r\n        fontSizes.axisTick,\r\n        fontSizes.barLabel,\r\n        fontSizes.chartLabel,\r\n        fontSizes.legend,\r\n        fontSizes.setLabel,\r\n        fontSizes.title,\r\n        fontSizes.exportLabel,\r\n        fontSizes.description,\r\n        p.textColor,\r\n        p.hoverHintColor,\r\n        p.color,\r\n        p.hasSelectionColor,\r\n        p.selectionColor,\r\n        p.notMemberColor,\r\n        p.alternatingBackgroundColor,\r\n        p.opacity,\r\n        p.hasSelectionOpacity,\r\n    ]);\r\n    const styleInfo = useMemo(() => deriveStyleDependent(p.theme, p.styles, p.classNames, p.combinationName, p.combinationNameAxisOffset, p.setName, p.setNameAxisOffset, styleId, p.barLabelOffset, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips, p.setLabelAlignment), [\r\n        p.theme,\r\n        p.styles,\r\n        p.classNames,\r\n        p.barLabelOffset,\r\n        p.combinationName,\r\n        p.combinationNameAxisOffset,\r\n        p.setName,\r\n        p.setNameAxisOffset,\r\n        styleId,\r\n        p.selectionColor,\r\n        p.emptySelection,\r\n        p.title,\r\n        p.description,\r\n        p.tooltips,\r\n        p.setLabelAlignment,\r\n    ]);\r\n    const sizeInfo = useMemo(() => deriveSizeDependent(p.width, p.height, p.padding, p.barPadding, p.widthRatios, p.heightRatios, p.setAddons, p.combinationAddons, p.id, p.setAddonPadding, p.combinationAddonPadding), [\r\n        p.width,\r\n        p.height,\r\n        p.padding,\r\n        p.barPadding,\r\n        p.widthRatios,\r\n        p.heightRatios,\r\n        p.setAddons,\r\n        p.combinationAddons,\r\n        p.id,\r\n        p.setAddonPadding,\r\n        p.combinationAddonPadding,\r\n    ]);\r\n    const dataInfo = useMemo(() => deriveDataDependent(p.sets, p.combinations, sizeInfo, p.numericScale, p.bandScale, p.barLabelOffset + parseFontSize(fontSizes.barLabel), p.dotPadding, p.barPadding, parseFontSize(fontSizes.axisTick), p.combinationAddons, p.toKey, p.toElemKey, p.id, p.setMaxScale, p.combinationMaxScale), [\r\n        p.sets,\r\n        p.combinations,\r\n        sizeInfo,\r\n        p.numericScale,\r\n        p.bandScale,\r\n        p.barLabelOffset,\r\n        fontSizes.barLabel,\r\n        p.dotPadding,\r\n        p.barPadding,\r\n        fontSizes.axisTick,\r\n        p.combinationAddons,\r\n        p.toKey,\r\n        p.toElemKey,\r\n        p.id,\r\n        p.setMaxScale,\r\n        p.combinationMaxScale,\r\n    ]);\r\n    const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\r\n    const h = useHandler(p);\r\n    const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .axisTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.axisTick)}\n    text-anchor: middle;\n  }\n  .barTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n  }\n  .cBarTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: middle;\n  }\n  .sBarTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-${styleId} {\n    ${rulesHelper.p(fontSizes.barLabel)}\n    fill: ${p.hoverHintColor};\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: ${toAnchor(p.setLabelAlignment)};\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n    text-anchor: middle;\n  }\n  .sChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ${rulesHelper.fill}\n  .fillNotMember-${styleId} { fill: ${p.notMemberColor}; }\n  .fillAlternating-${styleId} { fill: ${p.alternatingBackgroundColor || 'transparent'}; }\n\n  .axisLine-${styleId} {\n    fill: none;\n    stroke: ${p.textColor};\n  }\n  .hoverBar-${styleId} {\n    fill: transparent;\n  }\n\n  .interactive-${styleId}:hover > .hoverBar-${styleId} {\n    stroke: ${p.hoverHintColor};\n  }\n  .interactive-${styleId}:hover > .hoverBarTextStyle-${styleId} {\n    display: unset;\n  }\n\n  ${rulesHelper.export}\n\n  .upsetLine-${dataInfo.id} {\n    stroke-width: ${dataInfo.r * 0.6};\n    stroke: ${p.color};\n    stroke-opacity: ${p.opacity};\n  }\n  ${rulesHelper.hasSStroke\r\n        ? `.root-${styleId}[data-selection] .upsetLine-${dataInfo.id} { ${rulesHelper.hasSStroke} }`\r\n        : ''}\n\n  .upsetSelectionLine-${dataInfo.id} {\n    stroke-width: ${dataInfo.r * 0.6 * 1.1};\n    ${rulesHelper.p(p.selectionColor, 'stroke')}\n    pointer-events: none;\n  }\n\n  ${queries\r\n        .map((q, i) => `.fillQ${i}-${dataInfo.id} {\n    fill: ${q.color};\n  }`)\r\n        .join('\\n')}\n  `;\r\n    const exportChart = useCallback((evt) => {\r\n        const svg = evt.currentTarget.closest('svg');\r\n        const type = (evt.currentTarget.dataset.type || 'png');\r\n        switch (type) {\r\n            case 'vega':\r\n                exportVegaLite(svg);\r\n                break;\r\n            case 'dump':\r\n                exportDump(svg, props, dataInfo);\r\n                break;\r\n            case 'share':\r\n                exportSharedLink(props, dataInfo);\r\n                break;\r\n            case 'svg':\r\n            case 'png':\r\n                exportSVG(svg, {\r\n                    type,\r\n                    toRemove: `.${evt.currentTarget.getAttribute('class')}`,\r\n                });\r\n        }\r\n    }, [dataInfo, props]);\r\n    const selectionName = generateSelectionName(selection);\r\n    return (React.createElement(\"svg\", { id: p.id, className: clsx(`root-${styleId}`, p.className), style: p.style, width: p.width, height: p.height, ref: ref, viewBox: `0 0 ${p.width} ${p.height}`, \"data-theme\": (_a = p.theme) !== null && _a !== void 0 ? _a : 'light', \"data-selection\": selectionName ? selectionName : undefined },\r\n        React.createElement(\"style\", null, rules),\r\n        React.createElement(\"defs\", null,\r\n            React.createElement(\"clipPath\", { id: `clip-${sizeInfo.id}` },\r\n                React.createElement(\"rect\", { x: sizeInfo.sets.w, y: 0, width: sizeInfo.labels.w, height: sizeInfo.sets.h }))),\r\n        p.queryLegend && React.createElement(QueryLegend, { queries: queries, x: sizeInfo.legend.x, style: styleInfo, data: dataInfo }),\r\n        React.createElement(ExportButtons, { transform: `translate(${sizeInfo.w - 2},${sizeInfo.h - 3})`, styleId: styleId, exportButtons: p.exportButtons, exportChart: exportChart }),\r\n        React.createElement(\"g\", { transform: `translate(${p.padding},${p.padding})`, \"data-upset\": \"base\" },\r\n            p.onClick && (React.createElement(\"rect\", { width: sizeInfo.cs.x, height: sizeInfo.sets.y, onClick: h.reset, className: `fillTransparent-${styleId}` })),\r\n            React.createElement(UpSetAxis, { size: sizeInfo, style: styleInfo, data: dataInfo }),\r\n            React.createElement(UpSetChart, { size: sizeInfo, style: styleInfo, data: dataInfo, h: h, setChildrenFactory: p.setChildrenFactory, combinationChildrenFactory: p.combinationChildrenFactory }),\r\n            React.createElement(UpSetSelection, { size: sizeInfo, style: styleInfo, data: dataInfo, hasHover: h.hasHover, selection: selection }),\r\n            React.createElement(UpSetQueries, { size: sizeInfo, style: styleInfo, data: dataInfo, hasHover: h.hasHover, queries: queries, secondary: p.onHover != null || selection != null })),\r\n        props.children));\r\n});\n\nfunction SVGWrapper({ rules, style, size, p, data, tRef, children, exportChart, selectionName, h, }) {\r\n    var _a, _b;\r\n    return (React.createElement(\"svg\", { id: p.id, className: clsx(`root-${style.id}`, p.className), style: p.style, width: p.width, height: p.height, ref: tRef, viewBox: `0 0 ${p.width} ${p.height}`, \"data-theme\": (_a = p.theme) !== null && _a !== void 0 ? _a : 'light', \"data-selection\": selectionName ? selectionName : undefined },\r\n        React.createElement(\"style\", null, rules),\r\n        p.onClick && React.createElement(\"rect\", { width: size.w, height: size.h, onClick: h.reset, className: `fillTransparent-${style.id}` }),\r\n        p.queryLegend && React.createElement(QueryLegend, { queries: (_b = p.queries) !== null && _b !== void 0 ? _b : [], x: size.legend.x, style: style, data: data }),\r\n        React.createElement(ExportButtons, { transform: `translate(${size.w - 2},${size.h - 3})`, styleId: style.id, exportButtons: p.exportButtons, exportChart: exportChart }),\r\n        React.createElement(\"g\", { transform: `translate(${p.padding},${p.padding})`, \"data-upset\": \"base\" }, children),\r\n        p.children));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction generateArcSlicePath(s, refs, p = 0) {\r\n    if (s.path) {\r\n        return s.path;\r\n    }\r\n    return `M ${s.x1 - p},${s.y1 - p} ${s.arcs\r\n        .map((arc) => {\r\n        const ref = refs[arc.ref].l;\r\n        const rx = isEllipse(ref) ? ref.rx : ref.r;\r\n        const ry = isEllipse(ref) ? ref.ry : ref.r;\r\n        const rot = isEllipse(ref) ? ref.rotation : 0;\r\n        return `A ${rx - p} ${ry - p} ${rot} ${arc.large ? 1 : 0} ${arc.sweep ? 1 : 0} ${arc.x2 - p} ${arc.y2 - p}`;\r\n    })\r\n        .join(' ')}`;\r\n}\n\nfunction SelectionPattern(p) {\r\n    var _a;\r\n    if (p.v >= 1 || p.v <= 0) {\r\n        return null;\r\n    }\r\n    const ratio = Math.round(p.v * 10.0) / 100;\r\n    return (React.createElement(\"defs\", null,\r\n        React.createElement(\"pattern\", { id: p.id, width: \"1\", height: \"0.1\", patternContentUnits: \"objectBoundingBox\", patternTransform: `rotate(${(_a = p.rotate) !== null && _a !== void 0 ? _a : 0})` },\r\n            p.bgFilled && (React.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"1\", height: \"0.1\", style: { fill: p.bgFill }, className: `fillPrimary-${p.styleId}` })),\r\n            React.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"1\", height: ratio, className: `fill${p.suffix}`, style: p.fill ? { fill: p.fill } : undefined }))));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction sliceRotate(slice, center) {\r\n    if (slice.text.x === center.cx) {\r\n        return 0;\r\n    }\r\n    if (slice.text.x > center.cx) {\r\n        return slice.text.y <= center.cy ? 60 : -60;\r\n    }\r\n    return slice.text.y <= center.cy ? -60 : 60;\r\n}\r\nfunction generateTitle(d, s, sName, secondary, qs, queries, data, cx) {\r\n    const dc = data.format(d.cardinality);\r\n    const baseName = !sName ? d.name : `${d.name} ∩ ${sName}`;\r\n    const baseCardinality = !sName ? dc : `${data.format(s)}/${dc}`;\r\n    if (qs.length === 0) {\r\n        return {\r\n            tooltip: `${baseName}: ${baseCardinality}`,\r\n            title: d.type === 'set' ? (React.createElement(React.Fragment, null,\r\n                React.createElement(\"tspan\", { dy: \"-0.6em\" }, d.name),\r\n                React.createElement(\"tspan\", { x: cx, dy: \"1.2em\" }, baseCardinality))) : (baseCardinality),\r\n        };\r\n    }\r\n    if (qs.length === 1 && !secondary && !sName) {\r\n        return {\r\n            tooltip: `${d.name} ∩ ${queries[0].name}: ${data.format(qs[0])}/${dc}`,\r\n            title: d.type === 'set' ? (React.createElement(React.Fragment, null,\r\n                React.createElement(\"tspan\", { dy: \"-0.6em\" }, d.name),\r\n                React.createElement(\"tspan\", { x: cx, dy: \"1.2em\" }, `${data.format(qs[0])}/${dc}`))) : (`${data.format(qs[0])}/${dc}`),\r\n        };\r\n    }\r\n    const queryLine = (React.createElement(\"tspan\", { x: cx, dy: \"1.2em\" }, queries.map((q, i) => (React.createElement(React.Fragment, { key: q.name },\r\n        React.createElement(\"tspan\", { className: `fillQ${i}-${data.id}` }, '⬤'),\r\n        React.createElement(\"tspan\", null, ` ${data.format(qs[i])}/${dc}${i < queries.length - 1 ? ' ' : ''}`))))));\r\n    return {\r\n        tooltip: `${baseName}: ${baseCardinality}\\n${queries\r\n            .map((q, i) => `${d.name} ∩ ${q.name}: ${data.format(qs[i])}/${dc}`)\r\n            .join('\\n')}`,\r\n        title: d.type === 'set' ? (React.createElement(React.Fragment, null,\r\n            React.createElement(\"tspan\", { dy: \"-1.2em\" }, d.name),\r\n            React.createElement(\"tspan\", { x: cx, dy: \"1.2em\" }, baseCardinality),\r\n            queryLine)) : (React.createElement(React.Fragment, null,\r\n            React.createElement(\"tspan\", { dy: \"-0.6em\" }, baseCardinality),\r\n            queryLine)),\r\n    };\r\n}\r\nfunction VennArcSliceSelection({ slice, d, i, data, style, elemOverlap, selected, selectionName, h, queries, size, fill, qs, }) {\r\n    const p = generateArcSlicePath(slice, data.sets.d);\r\n    const rotate = sliceRotate(slice, size.area);\r\n    const o = elemOverlap ? elemOverlap(d) : 0;\r\n    const fillFullSelection = (o === d.cardinality && d.cardinality > 0) || selected;\r\n    const className = clsx(`arc-${style.id}`, o === 0 && !selected && `${fill ? 'fillPrimary' : 'arcP'}-${style.id}`, fillFullSelection && `fillSelection-${style.id}`, style.classNames.set);\r\n    const id = `upset-${style.id}-${i}`;\r\n    const secondary = elemOverlap != null || h.onMouseLeave != null;\r\n    const qsOverlaps = qs.map((q) => q(d));\r\n    const { title, tooltip } = generateTitle(d, o, selectionName, secondary, qsOverlaps, queries, data, slice.text.x);\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(SelectionPattern, { id: id, v: o === 0 ? 0 : o / d.cardinality, suffix: `Selection-${style.id}`, rotate: rotate, bgFill: d.color, bgFilled: d.color != null || fill, fill: !style.selectionColor ? d.color : undefined, styleId: style.id }),\r\n        React.createElement(\"path\", { onMouseEnter: h.onMouseEnter(d, []), onMouseLeave: h.onMouseLeave, onClick: h.onClick(d, []), onContextMenu: h.onContextMenu(d, []), onMouseMove: h.onMouseMove(d, []), d: p, className: className, style: mergeColor(style.styles.set, o > 0 && o < d.cardinality ? `url(#${id})` : !fillFullSelection || !style.selectionColor ? d.color : undefined) }, style.tooltips && React.createElement(\"title\", null, tooltip)),\r\n        React.createElement(\"text\", { x: slice.text.x, y: slice.text.y, className: clsx(`${d.type === 'set' ? 'set' : 'value'}TextStyle-${style.id}`, `pnone-${style.id}`\r\n            // circle.align === 'left' && `startText-${style.id}`,\r\n            // circle.align === 'right' && `endText-${style.id}`\r\n            ) }, title)));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveVennDataDependent(sets, combinations, size, layout, format, toKey, toElemKey, id) {\r\n    const ss = sets.length > layout.maxSets ? sets.slice(0, layout.maxSets) : sets;\r\n    const { cs, setKeys, csKeys } = calculateCombinations(ss, toKey, combinations);\r\n    const l = layout.compute(ss, cs, size.area.w, size.area.h);\r\n    return {\r\n        id: id ? id : generateId(),\r\n        sets: {\r\n            d: l.sets.map((l, i) => ({ v: ss[i], l, key: setKeys[i] })),\r\n            v: ss,\r\n            format,\r\n        },\r\n        format,\r\n        cs: {\r\n            d: l.intersections.map((l, i) => ({ v: cs[i], l, key: csKeys[i] })),\r\n            v: cs,\r\n            has: (v, s) => {\r\n                const sk = toKey(s);\r\n                return Array.from(v.sets).some((ss) => toKey(ss) === sk);\r\n            },\r\n        },\r\n        toKey,\r\n        toElemKey,\r\n        overlapGuesser: generateDistinctOverlapFunction(cs, noGuessPossible, toKey),\r\n    };\r\n}\r\nfunction calculateCombinations(ss, toKey, combinations, options = { min: 1 }) {\r\n    const setKeys = ss.map(toKey);\r\n    let cs = [];\r\n    if (areCombinations$1(combinations)) {\r\n        const given = new Map(combinations.map((c) => [Array.from(c.sets).map(toKey).sort().join('#'), c]));\r\n        const helperSets = ss.map((s) => ({\r\n            type: 'set',\r\n            cardinality: 0,\r\n            elems: [],\r\n            name: s.name,\r\n            s,\r\n        }));\r\n        // generate dummy ones and map to given data\r\n        cs = generateCombinations(helperSets, Object.assign({\r\n            type: 'distinctIntersection',\r\n            empty: true,\r\n            order: ['degree:asc', 'group:asc'],\r\n        }, options)).map((c) => {\r\n            const key = Array.from(c.sets)\r\n                .map((s) => toKey(s.s))\r\n                .sort()\r\n                .join('#');\r\n            if (given.has(key)) {\r\n                return given.get(key);\r\n            }\r\n            // generate a dummy one\r\n            return {\r\n                name: c.name,\r\n                cardinality: 0,\r\n                degree: c.degree,\r\n                elems: [],\r\n                sets: new Set(Array.from(c.sets).map((s) => s.s)),\r\n                type: 'distinctIntersection',\r\n            };\r\n        });\r\n    }\r\n    else {\r\n        cs = generateCombinations(ss, Object.assign({\r\n            type: 'distinctIntersection',\r\n            empty: true,\r\n            order: ['degree:asc', 'group:asc'],\r\n        }, options, combinations !== null && combinations !== void 0 ? combinations : {}));\r\n    }\r\n    const csKeys = cs.map(toKey);\r\n    return { cs, setKeys, csKeys };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveVennSizeDependent(width, height, margin, id) {\r\n    const h = height - 2 * margin;\r\n    const w = width - 2 * margin;\r\n    const r = Math.min(w, h) / 2;\r\n    return {\r\n        id: id ? id : generateId(),\r\n        legend: {\r\n            x: width / 2,\r\n        },\r\n        area: {\r\n            w,\r\n            h,\r\n            cx: w / 2,\r\n            cy: h / 2,\r\n            r,\r\n        },\r\n        margin: margin,\r\n        w: width,\r\n        h: height,\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveVennStyleDependent(theme, styles, classNames, styleId, selectionColor, title, description, tooltips) {\r\n    return {\r\n        theme,\r\n        styles,\r\n        classNames: classNames,\r\n        id: styleId,\r\n        selectionColor,\r\n        title,\r\n        description,\r\n        tooltips,\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction useCreateCommon(p) {\r\n    const { queries = [], fontSizes } = p;\r\n    // generate a \"random\" but attribute stable id to avoid styling conflicts\r\n    const styleId = useMemo(() => p.id\r\n        ? p.id\r\n        : generateId([\r\n            p.fontFamily,\r\n            fontSizes.valueLabel,\r\n            fontSizes.legend,\r\n            fontSizes.setLabel,\r\n            fontSizes.title,\r\n            fontSizes.exportLabel,\r\n            fontSizes.description,\r\n            p.textColor,\r\n            p.color,\r\n            p.hasSelectionColor,\r\n            p.strokeColor,\r\n            p.valueTextColor,\r\n            p.selectionColor,\r\n            p.opacity,\r\n            p.hasSelectionOpacity,\r\n        ]), [\r\n        p.id,\r\n        p.fontFamily,\r\n        fontSizes.valueLabel,\r\n        fontSizes.legend,\r\n        fontSizes.setLabel,\r\n        fontSizes.title,\r\n        fontSizes.exportLabel,\r\n        fontSizes.description,\r\n        p.textColor,\r\n        p.color,\r\n        p.hasSelectionColor,\r\n        p.strokeColor,\r\n        p.valueTextColor,\r\n        p.selectionColor,\r\n        p.opacity,\r\n        p.hasSelectionOpacity,\r\n    ]);\r\n    const styleInfo = useMemo(() => deriveVennStyleDependent(p.theme, p.styles, p.classNames, styleId, p.selectionColor, p.title, p.description, p.tooltips), [p.theme, p.styles, p.classNames, styleId, p.selectionColor, p.title, p.description, p.tooltips]);\r\n    const sizeInfo = useMemo(() => deriveVennSizeDependent(p.width, p.height, p.padding, p.id), [\r\n        p.width,\r\n        p.height,\r\n        p.padding,\r\n        p.id,\r\n    ]);\r\n    const h = useHandler(p);\r\n    const qs = React.useMemo(() => queries.map((q) => queryOverlap(q, 'intersection', p.toElemKey)), [\r\n        queries,\r\n        p.toElemKey,\r\n    ]);\r\n    const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\r\n    return {\r\n        styleId,\r\n        size: sizeInfo,\r\n        style: styleInfo,\r\n        h,\r\n        qs,\r\n        rulesHelper,\r\n    };\r\n}\r\nfunction useExportChart(dataInfo, props, mode) {\r\n    return useCallback((evt) => {\r\n        const svg = evt.currentTarget.closest('svg');\r\n        const type = (evt.currentTarget.dataset.type || 'png');\r\n        switch (type) {\r\n            case 'dump':\r\n                exportDump(svg, props, dataInfo, mode);\r\n                break;\r\n            case 'share':\r\n                exportSharedLink(props, dataInfo, mode);\r\n                break;\r\n            case 'svg':\r\n            case 'png':\r\n                exportSVG(svg, {\r\n                    type,\r\n                    toRemove: `.${evt.currentTarget.getAttribute('class')}`,\r\n                });\r\n        }\r\n    }, [dataInfo, props, mode]);\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst VennDiagram = /*!#__PURE__*/ React.forwardRef(function VennDiagram(props, ref) {\r\n    const p = fillVennDiagramDefaults(props);\r\n    const { selection = null, queries = [], fontSizes } = p;\r\n    const v = useCreateCommon(p);\r\n    const { size, style, rulesHelper } = v;\r\n    const dataInfo = useMemo(() => deriveVennDataDependent(p.sets, p.combinations, size, p.layout, p.valueFormat, p.toKey, p.toElemKey, p.id), [p.sets, p.combinations, size, p.valueFormat, p.toKey, p.toElemKey, p.id, p.layout]);\r\n    const selectionKey = selection != null && isSetLike$1(selection) ? p.toKey(selection) : null;\r\n    const selectionOverlap = selection == null ? null : generateSelectionOverlap(selection, dataInfo.overlapGuesser, dataInfo.toElemKey);\r\n    const selectionName = generateSelectionName(selection);\r\n    const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .valueTextStyle-${style.id} {\n    fill: ${p.valueTextColor};\n    ${rulesHelper.p(fontSizes.valueLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .setTextStyle-${style.id} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: middle;\n  }\n\n  .topText-${style.id} {\n    dominant-baseline: hanging;\n  }\n\n  .stroke-circle-${style.id} {\n    fill: none;\n    stroke: ${p.strokeColor};\n  }\n\n  .arc-${style.id} {\n    fill-rule: evenodd;\n  }\n  .arcP-${style.id} {\n    fill: transparent;\n    fill-opacity: ${p.opacity};\n  }\n  ${rulesHelper.fill}\n  ${rulesHelper.export}\n\n  ${rulesHelper.hasSFill ? `.root-${style.id}[data-selection] .arcP-${style.id} { ${rulesHelper.hasSFill} }` : ''}\n\n  ${queries\r\n        .map((q, i) => `.fillQ${i}-${dataInfo.id} {\n    fill: ${q.color};\n  }`)\r\n        .join('\\n')}\n  `;\r\n    const exportChart = useExportChart(dataInfo, p, 'venn');\r\n    const maxWidth = dataInfo.sets.d.reduce((acc, d) => Math.min(acc, d.l.cx - (isEllipse(d.l) ? d.l.rx : d.l.r)), size.area.w);\r\n    return (React.createElement(SVGWrapper, { rules: rules, style: style, selectionName: selectionName, size: size, p: p, data: dataInfo, tRef: ref, h: v.h, exportChart: exportChart },\r\n        React.createElement(UpSetTitle, { style: style, width: maxWidth }),\r\n        React.createElement(\"g\", { className: clsx(p.onClick && `clickAble-${style.id}`) }, dataInfo.sets.d.map((d, i) => (React.createElement(\"text\", { key: d.key, x: d.l.text.x, y: d.l.text.y, onClick: v.h.onClick(dataInfo.sets.v[i], []), onMouseEnter: v.h.onMouseEnter(dataInfo.sets.v[i], []), onMouseLeave: v.h.onMouseLeave, onContextMenu: v.h.onContextMenu(dataInfo.sets.v[i], []), onMouseMove: v.h.onMouseMove(dataInfo.sets.v[i], []), className: clsx(`setTextStyle-${style.id}`, `${d.l.align}Text-${style.id}`, `${d.l.verticalAlign}Text-${style.id}`) }, dataInfo.sets.v[i].name)))),\r\n        React.createElement(\"g\", { className: clsx(p.onClick && `clickAble-${style.id}`) }, dataInfo.cs.d.map((l, i) => (React.createElement(VennArcSliceSelection, { key: l.key, d: l.v, i: i, slice: l.l, size: size, style: style, data: dataInfo, fill: p.filled, h: v.h, selectionName: selectionName, selected: selectionKey === l.key || (isSet(selection) && dataInfo.cs.has(l.v, selection)), elemOverlap: selectionOverlap, queries: queries, qs: v.qs })))),\r\n        React.createElement(\"g\", null, dataInfo.sets.d.map((l) => isEllipse(l.l) ? (React.createElement(\"ellipse\", { key: l.key, rx: l.l.rx, ry: l.l.ry, transform: `translate(${l.l.cx},${l.l.cy})rotate(${l.l.rotation})`, className: clsx(`stroke-circle-${style.id}`, style.classNames.set), style: style.styles.set })) : (React.createElement(\"circle\", { key: l.key, cx: l.l.cx, cy: l.l.cy, r: l.l.r, className: clsx(`stroke-circle-${style.id}`, style.classNames.set), style: style.styles.set }))))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst KMapCell = /*!#__PURE__*/ React.memo(function KMapCell({ d, i, h, className, data, style }) {\r\n    const l = data.cs.l[i];\r\n    const y = data.cs.scale(d.cardinality);\r\n    const x = (data.cell - data.cs.bandWidth) / 2;\r\n    return (React.createElement(\"g\", { transform: `translate(${l.x}, ${l.y})`, onMouseEnter: h.onMouseEnter(d, []), onMouseLeave: h.onMouseLeave, onClick: h.onClick(d, []), onContextMenu: h.onContextMenu(d, []), onMouseMove: h.onMouseMove(d, []), className: className, \"data-cardinality\": d.cardinality },\r\n        style.tooltips && (React.createElement(\"title\", null,\r\n            d.name,\r\n            \": \",\r\n            data.sets.format(d.cardinality))),\r\n        React.createElement(\"rect\", { width: data.cell, height: data.cell, className: `fillTransparent-${style.id}` }),\r\n        React.createElement(\"rect\", { x: x, y: y, height: data.cell - y, width: data.cs.bandWidth, className: clsx(`fillPrimary-${style.id}`, style.classNames.bar), style: mergeColor(style.styles.bar, d.color) }),\r\n        React.createElement(\"text\", { y: y - style.barLabelOffset, x: data.cell / 2, style: style.styles.barLabel, className: clsx(`barTextStyle-${style.id}`, style.classNames.barLabel) }, data.sets.format(d.cardinality))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction generateGridPath(cell, vCells, hCells, level) {\r\n    const h = cell * vCells;\r\n    const w = cell * hCells;\r\n    return [level.x.map((x) => `M ${x * cell},0 l0,${h}`), level.y.map((y) => `M 0,${y * cell} l${w},0`)]\r\n        .flat()\r\n        .join(' ');\r\n}\r\nconst KMapChart = /*!#__PURE__*/ React.memo(function KMapChart({ data, style, size, h }) {\r\n    const csNameOffset = style.cs.offset === 'auto' ? data.cs.labelOffset : style.cs.offset;\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(\"g\", { transform: `translate(${size.w - csNameOffset - 2}, ${size.h - data.cell - 50})` },\r\n            React.createElement(Axis, { scale: data.cs.scale, orient: \"left\", size: data.cell, start: data.cs.barLabelFontSize, style: style }),\r\n            React.createElement(\"text\", { className: clsx(`cChartTextStyle-${style.id}`, style.classNames.chartLabel), style: style.styles.chartLabel, transform: `translate(${-csNameOffset}, ${data.cell})rotate(-90)` }, style.cs.name)),\r\n        React.createElement(\"g\", null,\r\n            data.sets.l.map((l, i) => {\r\n                const s = data.sets.v[i];\r\n                const name = s.name;\r\n                return (React.createElement(\"g\", { key: name, onClick: h.onClick(s, []), onMouseEnter: h.onMouseEnter(s, []), onMouseLeave: h.onMouseLeave, onContextMenu: h.onContextMenu(s, []), onMouseMove: h.onMouseMove(s, []), className: clsx(h.hasClick && `clickAble-${style.id}`) }, l.text.map((p, i) => (React.createElement(\"text\", { key: i, transform: `translate(${p.x},${p.y})${!l.hor ? 'rotate(-90)' : ''}`, className: clsx(`setTextStyle-${style.id}`) }, name)))));\r\n            }),\r\n            data.sets.l.map((l, i) => {\r\n                const name = data.sets.v[i].name;\r\n                return (React.createElement(React.Fragment, { key: name }, l.notText.map((p, i) => (React.createElement(\"text\", { key: i, transform: `translate(${p.x},${p.y})${!l.hor ? 'rotate(-90)' : ''}`, className: clsx(`setTextStyle-${style.id}`, `not-${style.id}`) }, name)))));\r\n            })),\r\n        React.createElement(\"g\", { className: clsx(h.hasClick && `clickAble-${style.id}`) }, data.cs.v.map((c, i) => {\r\n            return React.createElement(KMapCell, { key: data.cs.keys[i], d: c, i: i, h: h, style: style, data: data });\r\n        })),\r\n        React.createElement(\"g\", { transform: `translate(${data.grid.x}, ${data.grid.y})` }, data.grid.levels.map((l, i) => (React.createElement(\"path\", { key: i, d: generateGridPath(data.cell, data.grid.vCells, data.grid.hCells, l), className: `gridStyle-${style.id} gridStyle-${style.id}-${i}` }))))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction KMapQueries({ data, style, elemOverlap, secondary, tooltip, suffix, empty, }) {\r\n    const width = data.cs.bandWidth;\r\n    const offset = (data.cell - width) / 2;\r\n    const className = clsx(`fill${suffix}`, !tooltip && `pnone-${style.id}`, style.classNames.bar);\r\n    return (React.createElement(\"g\", { \"data-upset\": secondary ? 'cs-q' : 'cs-s' }, data.cs.v.map((d, i) => {\r\n        const l = data.cs.l[i];\r\n        const key = data.cs.keys[i];\r\n        if (empty && !secondary) {\r\n            return (React.createElement(\"rect\", { key: key, x: l.x + offset, y: l.y + data.cell, height: 0, width: width, className: className, style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, tooltip && React.createElement(\"title\", null)));\r\n        }\r\n        const o = elemOverlap(d);\r\n        if (o === 0) {\r\n            return null;\r\n        }\r\n        const y = data.cs.scale(o);\r\n        const title = tooltip && React.createElement(\"title\", null, `${d.name} ∩ ${tooltip}: ${o}`);\r\n        return secondary ? (React.createElement(\"path\", { key: key, transform: `translate(${l.x + offset}, ${l.y + y})`, d: `M0,-1 l${width},0 l0,2 l${-width},0 L-${data.triangleSize},-${data.triangleSize} L-${data.triangleSize},${data.triangleSize} Z`, className: className, \"data-i\": i, \"data-cardinality\": o, style: mergeColor(undefined, !style.selectionColor ? d.color : undefined) }, title)) : (React.createElement(\"rect\", { key: key, x: l.x + offset, y: l.y + y, height: data.cell - y, \"data-i\": i, \"data-cardinality\": o, width: width, className: className, style: mergeColor(style.styles.bar, !style.selectionColor ? d.color : undefined) }, title));\r\n    })));\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst KMapQueries$1 = /*!#__PURE__*/ React.memo(function KMapQueries$1({ data, style, hasHover, secondary, queries, }) {\r\n    const qs = useMemo(() => queries.map((q) => (Object.assign(Object.assign({}, q), { overlap: queryOverlap(q, 'intersection', data.toElemKey) }))), [queries, data.toElemKey]);\r\n    return (React.createElement(\"g\", { className: hasHover && !secondary ? `pnone-${style.id}` : undefined }, qs.map((q, i) => (React.createElement(KMapQueries, { key: q.name, data: data, style: style, elemOverlap: q.overlap, suffix: `Q${i}-${data.id}`, secondary: secondary || i > 0, tooltip: hasHover && !(secondary || i > 0) ? undefined : q.name })))));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction KMapSelection({ data, style, selection, hasHover, }) {\r\n    const empty = style.emptySelection;\r\n    const selectionOverlap = generateSelectionOverlap(selection, data.overlapGuesser, data.toElemKey);\r\n    const selectionName = generateSelectionName(selection);\r\n    return (React.createElement(\"g\", { className: hasHover ? `pnone-${style.id}` : undefined }, (selection || empty) && (React.createElement(KMapQueries, { data: data, style: style, empty: empty && !selection, elemOverlap: selectionOverlap, suffix: `Selection-${style.id}`, tooltip: hasHover ? undefined : selectionName }))));\r\n}\n\nfunction ranged(count, cb) {\r\n    return Array(count)\r\n        .fill(0)\r\n        .map((_, i) => cb(i));\r\n}\r\nfunction generateLevels(numSets) {\r\n    // all lines and the value is the thickness\r\n    const lines = Array(Math.pow(2, numSets)).fill(0);\r\n    ranged(numSets, (i) => {\r\n        const shift = Math.pow(2, i);\r\n        for (let i = 0; i < lines.length; i += shift) {\r\n            lines[i]++;\r\n        }\r\n    });\r\n    const levels = ranged(Math.max(numSets, 1), () => []);\r\n    lines.forEach((l, i) => {\r\n        const level = Math.max(0, l - 1);\r\n        // l -1 cause l is at least 1\r\n        levels[level].push(i);\r\n    });\r\n    // push the last index to the last level\r\n    levels[levels.length - 1].push(lines.length);\r\n    return levels;\r\n}\r\nfunction generate(sets, cs, has, options) {\r\n    const { xBefore, yBefore, cell, hCells, vCells, horizontalSets, verticalSets } = bounds(sets.length, options);\r\n    const s = setLabels(sets.length, options);\r\n    const shifts = generateShiftLookup(sets, hCells, vCells, has);\r\n    const c = cs.map((c) => {\r\n        const [i, j] = shifts.reduceRight((acc, s) => s(c, acc), [0, 0]);\r\n        return {\r\n            x: xBefore + i * cell,\r\n            y: yBefore + j * cell,\r\n        };\r\n    });\r\n    const hLevels = generateLevels(horizontalSets);\r\n    const vLevels = generateLevels(verticalSets);\r\n    return {\r\n        s,\r\n        c,\r\n        cell,\r\n        grid: {\r\n            x: xBefore,\r\n            y: yBefore,\r\n            hCells,\r\n            vCells,\r\n            levels: hLevels.map((l, i) => ({\r\n                x: l,\r\n                y: i < vLevels.length ? vLevels[i] : [],\r\n            })),\r\n        },\r\n    };\r\n}\r\nfunction generateShiftLookup(sets, hCells, vCells, has) {\r\n    return sets.map((s, k) => {\r\n        const index = Math.floor(k / 2);\r\n        const hor = k % 2 === 0;\r\n        const numLabels = Math.pow(2, index);\r\n        const span = (hor ? hCells : vCells) / numLabels / 2;\r\n        return (cs, [i, j]) => {\r\n            if (has(cs, s)) {\r\n                return [i, j];\r\n            }\r\n            if (span > 1) {\r\n                // flip previous and shift\r\n                if (hor) {\r\n                    return [span - 1 - i + span, j];\r\n                }\r\n                return [i, span - 1 - j + span];\r\n            }\r\n            // shift only\r\n            if (hor) {\r\n                return [i + span, j];\r\n            }\r\n            return [i, j + span];\r\n        };\r\n    });\r\n}\r\nfunction setLabels(sets, options) {\r\n    const { xOffset, yOffset, cell, xBefore, yBefore, hCells, vCells } = bounds(sets, options);\r\n    const xAfterEnd = options.width - xOffset;\r\n    const yAfterEnd = options.height - yOffset;\r\n    return ranged(sets, (k) => {\r\n        const index = Math.floor(k / 2);\r\n        const hor = k % 2 === 0;\r\n        const numLabels = Math.pow(2, index);\r\n        const span = (hor ? hCells : vCells) / numLabels / 2;\r\n        const xPos = hor ? xBefore : yBefore;\r\n        const labels = [\r\n            {\r\n                v: true,\r\n                x: xPos + span * cell * 0.5,\r\n            },\r\n            {\r\n                v: false,\r\n                x: xPos + span * cell * 1.5,\r\n            },\r\n        ];\r\n        for (let i = 1; i <= index; i++) {\r\n            // duplicate and mirror\r\n            const offset = span * Math.pow(2, i) * cell;\r\n            const l = labels.length - 1;\r\n            labels.push(...labels.map((li, i) => ({\r\n                v: labels[l - i].v,\r\n                x: li.x + offset,\r\n            })));\r\n        }\r\n        const inAfterGroup = index % 2 === 1;\r\n        const withinGroupIndex = Math.floor(index / 2);\r\n        let yPos = 0;\r\n        if (inAfterGroup) {\r\n            const end = hor ? yAfterEnd : xAfterEnd;\r\n            yPos = end - options.labelHeight * (0.5 + withinGroupIndex);\r\n        }\r\n        else {\r\n            const start = hor ? yOffset : xOffset;\r\n            yPos = start + options.labelHeight * (0.5 + withinGroupIndex);\r\n        }\r\n        if (hor) {\r\n            return {\r\n                hor: true,\r\n                span,\r\n                text: labels.filter((d) => d.v).map((l) => ({ x: l.x, y: yPos })),\r\n                notText: labels.filter((d) => !d.v).map((l) => ({ x: l.x, y: yPos })),\r\n            };\r\n        }\r\n        return {\r\n            hor: false,\r\n            span,\r\n            text: labels.filter((d) => d.v).map((l) => ({ x: yPos, y: l.x })),\r\n            notText: labels.filter((d) => !d.v).map((l) => ({ x: yPos, y: l.x })),\r\n        };\r\n    });\r\n}\r\nfunction bounds(sets, options) {\r\n    const horizontalSets = Math.ceil(sets / 2);\r\n    const verticalSets = Math.floor(sets / 2);\r\n    const hCells = Math.pow(2, horizontalSets);\r\n    const vCells = Math.pow(2, verticalSets);\r\n    const cell = Math.floor(Math.min((options.width - options.labelHeight * verticalSets) / hCells, (options.height - options.labelHeight * horizontalSets) / vCells));\r\n    const xOffset = (options.width - hCells * cell - options.labelHeight * verticalSets) / 2;\r\n    const yOffset = (options.height - vCells * cell - options.labelHeight * horizontalSets) / 2;\r\n    const xBefore = xOffset + Math.ceil(verticalSets / 2) * options.labelHeight;\r\n    const yBefore = yOffset + Math.ceil(horizontalSets / 2) * options.labelHeight;\r\n    return { xOffset, horizontalSets, yOffset, verticalSets, cell, xBefore, yBefore, hCells, vCells };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveKarnaughDataDependent(sets, combinations, size, numericScale, barLabelFontSize, barPadding, setLabelFontSize, tickFontSize, toKey, toElemKey, id, combinationMaxScale) {\r\n    const numericScaleFactory = resolveNumericScale(numericScale);\r\n    const setKeys = sets.map(toKey);\r\n    const cs = areCombinations$1(combinations)\r\n        ? combinations\r\n        : generateCombinations(sets, Object.assign({\r\n            type: 'distinctIntersection',\r\n        }, combinations !== null && combinations !== void 0 ? combinations : {}));\r\n    const csKeys = cs.map(toKey);\r\n    const has = (v, s) => {\r\n        const sk = toKey(s);\r\n        return Array.from(v.sets).some((ss) => toKey(ss) === sk);\r\n    };\r\n    const labelHeight = Math.ceil(setLabelFontSize * 1.2);\r\n    const l = generate(sets, cs, has, {\r\n        width: size.area.w,\r\n        height: size.area.h,\r\n        labelHeight,\r\n    });\r\n    const maxCSCardinality = combinationMaxScale !== null && combinationMaxScale !== void 0 ? combinationMaxScale : cs.reduce((acc, d) => Math.max(acc, d.cardinality), 0);\r\n    const scale = numericScaleFactory(maxCSCardinality, [l.cell, barLabelFontSize], {\r\n        orientation: 'vertical',\r\n        fontSizeHint: tickFontSize,\r\n    });\r\n    const bandWidth = Math.round(l.cell * (1 - barPadding));\r\n    const triangleSize = Math.min(Math.max(2, (bandWidth / 2) * barPadding), 5);\r\n    const guessLabelWidth = (v) => Math.floor((barLabelFontSize / 1.4) * 0.7 * scale.tickFormat()(v).length);\r\n    const largestCSLabelWidth = guessLabelWidth(maxCSCardinality);\r\n    return {\r\n        id: id ? id : generateId(),\r\n        grid: l.grid,\r\n        sets: {\r\n            keys: setKeys,\r\n            l: l.s,\r\n            v: sets,\r\n            labelHeight,\r\n            format: scale.tickFormat(),\r\n        },\r\n        triangleSize,\r\n        cell: l.cell,\r\n        cs: {\r\n            keys: csKeys,\r\n            l: l.c,\r\n            v: cs,\r\n            barLabelFontSize,\r\n            has,\r\n            scale,\r\n            bandWidth,\r\n            labelOffset: largestCSLabelWidth + 9 + 6,\r\n        },\r\n        toKey,\r\n        toElemKey,\r\n        overlapGuesser: generateOverlapFunction(cs, noGuessPossible, toKey),\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction deriveStyleDependent$1(theme, styles, classNames, combinationName, combinationNameAxisOffset, styleId, barLabelOffset, selectionColor, emptySelection, title, description, tooltips) {\r\n    return {\r\n        theme,\r\n        styles,\r\n        classNames: classNames,\r\n        emptySelection,\r\n        id: styleId,\r\n        barLabelOffset,\r\n        selectionColor,\r\n        title,\r\n        description,\r\n        tooltips,\r\n        cs: {\r\n            name: combinationName,\r\n            offset: combinationNameAxisOffset,\r\n        },\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst KarnaughMap = /*!#__PURE__*/ React.forwardRef(function KarnaughMap(props, ref) {\r\n    const p = fillKarnaughMapDefaults(props);\r\n    const { queries = [], fontSizes, selection = null } = p;\r\n    // generate a \"random\" but attribute stable id to avoid styling conflicts\r\n    const styleId = useMemo(() => p.id\r\n        ? p.id\r\n        : generateId([\r\n            p.fontFamily,\r\n            fontSizes.axisTick,\r\n            fontSizes.barLabel,\r\n            fontSizes.legend,\r\n            fontSizes.setLabel,\r\n            fontSizes.title,\r\n            fontSizes.exportLabel,\r\n            fontSizes.description,\r\n            p.textColor,\r\n            p.color,\r\n            p.hasSelectionColor,\r\n            p.strokeColor,\r\n            p.selectionColor,\r\n            p.opacity,\r\n            p.hasSelectionOpacity,\r\n        ]), [\r\n        p.id,\r\n        p.fontFamily,\r\n        fontSizes.axisTick,\r\n        fontSizes.barLabel,\r\n        fontSizes.legend,\r\n        fontSizes.setLabel,\r\n        fontSizes.title,\r\n        fontSizes.exportLabel,\r\n        fontSizes.description,\r\n        p.textColor,\r\n        p.color,\r\n        p.hasSelectionColor,\r\n        p.strokeColor,\r\n        p.selectionColor,\r\n        p.opacity,\r\n        p.hasSelectionOpacity,\r\n    ]);\r\n    const style = useMemo(() => deriveStyleDependent$1(p.theme, p.styles, p.classNames, p.combinationName, p.combinationNameAxisOffset, styleId, p.barLabelOffset, p.selectionColor, p.emptySelection, p.title, p.description, p.tooltips), [\r\n        p.theme,\r\n        p.styles,\r\n        p.classNames,\r\n        p.combinationName,\r\n        p.combinationNameAxisOffset,\r\n        styleId,\r\n        p.barLabelOffset,\r\n        p.selectionColor,\r\n        p.emptySelection,\r\n        p.title,\r\n        p.description,\r\n        p.tooltips,\r\n    ]);\r\n    const size = useMemo(() => deriveVennSizeDependent(p.width, p.height, p.padding, p.id), [\r\n        p.width,\r\n        p.height,\r\n        p.padding,\r\n        p.id,\r\n    ]);\r\n    const data = useMemo(() => deriveKarnaughDataDependent(p.sets, p.combinations, size, p.numericScale, p.barLabelOffset + parseFontSize(fontSizes.barLabel), p.barPadding, parseFontSize(fontSizes.setLabel), parseFontSize(fontSizes.axisTick), p.toKey, p.toElemKey, p.id, p.combinationMaxScale), [\r\n        p.sets,\r\n        p.combinations,\r\n        size,\r\n        p.numericScale,\r\n        p.barLabelOffset,\r\n        fontSizes.barLabel,\r\n        p.barPadding,\r\n        fontSizes.axisTick,\r\n        fontSizes.setLabel,\r\n        p.toKey,\r\n        p.toElemKey,\r\n        p.id,\r\n        p.combinationMaxScale,\r\n    ]);\r\n    const h = useHandler(p);\r\n    const selectionName = generateSelectionName(selection);\r\n    const rulesHelper = baseRules(styleId, p, p.fontFamily, fontSizes);\r\n    const rules = `\n  ${rulesHelper.root}\n  ${rulesHelper.text}\n\n  .axisTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.axisTick)}\n    text-anchor: end;\n  }\n  .barTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.barLabel)}\n    text-anchor: middle;\n  }\n  .setTextStyle-${style.id} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.setLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${styleId} {\n    fill: ${p.textColor};\n    ${rulesHelper.p(fontSizes.chartLabel)}\n  }\n\n  .not-${style.id} {\n    text-decoration: overline;\n  }\n\n  .axisLine-${styleId} {\n    fill: none;\n    stroke: ${p.textColor};\n  }\n\n  .gridStyle-${style.id} {\n    fill: none;\n    stroke: ${p.strokeColor};\n    stroke-linecap: round;\n  }\n  .gridStyle-${style.id}-1 {\n    stroke-width: 2;\n  }\n  .gridStyle-${style.id}-2 {\n    stroke-width: 3;\n  }\n\n  ${rulesHelper.fill}\n  ${rulesHelper.export}\n\n  ${queries\r\n        .map((q, i) => `.fillQ${i}-${data.id} {\n    fill: ${q.color};\n  }`)\r\n        .join('\\n')}\n  `;\r\n    const exportChart = useExportChart(data, p, 'kmap');\r\n    const maxWidth = data.sets.l.reduce((acc, d) => Math.min(acc, d.text[0].x - data.sets.labelHeight), size.area.w);\r\n    return (React.createElement(SVGWrapper, { rules: rules, style: style, size: size, p: p, data: data, tRef: ref, selectionName: selectionName, h: h, exportChart: exportChart },\r\n        React.createElement(UpSetTitle, { style: style, width: maxWidth }),\r\n        React.createElement(KMapChart, { style: style, data: data, h: h, size: size }),\r\n        React.createElement(KMapSelection, { style: style, data: data, hasHover: h.hasHover, selection: selection }),\r\n        React.createElement(KMapQueries$1, { style: style, data: data, hasHover: h.hasHover, queries: queries, secondary: h.hasHover || selection != null })));\r\n});\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst defaults = {\r\n    background: '#F4F4F4',\r\n    color: '#A6A8AB',\r\n    secondaryColor: '#E1E2E3',\r\n};\r\nfunction prepare(props) {\r\n    var _a, _b, _c, _d;\r\n    const color = (_a = props.color) !== null && _a !== void 0 ? _a : defaults.color;\r\n    const secondary = (_b = props.secondaryColor) !== null && _b !== void 0 ? _b : defaults.secondaryColor;\r\n    const rest = Object.assign({}, props);\r\n    const background = (_c = props.background) !== null && _c !== void 0 ? _c : defaults.background;\r\n    delete rest.color;\r\n    delete rest.secondaryColor;\r\n    delete rest.background;\r\n    if (background) {\r\n        rest.style = Object.assign({ background }, (_d = rest.style) !== null && _d !== void 0 ? _d : {});\r\n    }\r\n    return { color, secondary, rest };\r\n}\r\n/**\r\n * UpSetJS Skeleton a simple UpSetJS skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\r\nconst UpSetJSSkeleton = /*!#__PURE__*/ React.memo(\r\n/*!#__PURE__*/ React.forwardRef(function UpSetJSSkeleton(props, ref) {\r\n    const { color, secondary, rest } = prepare(props);\r\n    const wi = 20;\r\n    const padding = 10;\r\n    const sWidth = 75;\r\n    const sY = 110;\r\n    const cHeight = 100;\r\n    const csX = 85;\r\n    const cOffsets = [10, 20, 35, 60, 65, 80, 90];\r\n    const sOffsets = [50, 30, 15];\r\n    return (React.createElement(\"svg\", Object.assign({ viewBox: \"0 0 300 200\", ref: ref }, rest),\r\n        cOffsets.map((offset, i) => (React.createElement(\"rect\", { key: i, x: csX + i * (wi + padding), y: offset, width: wi, height: cHeight - offset, fill: color }))),\r\n        sOffsets.map((offset, i) => (React.createElement(\"rect\", { key: i, x: offset, y: sY + i * (wi + padding), width: sWidth - offset, height: wi, fill: color }))),\r\n        cOffsets.map((_, i) => sOffsets.map((_, j) => {\r\n            const filled = j === 2 - i || (i === 3 && j > 0) || (i === 4 && j !== 1) || (i === 5 && j < 2) || i === 6;\r\n            return (React.createElement(\"circle\", { key: `${i}x${j}`, cx: csX + i * (wi + padding) + wi / 2, cy: sY + j * (wi + padding) + wi / 2, r: wi / 2, fill: filled ? color : secondary }));\r\n        })),\r\n        React.createElement(\"rect\", { x: \"182\", y: \"150\", width: \"6\", height: \"30\", fill: color }),\r\n        React.createElement(\"rect\", { x: \"212\", y: \"120\", width: \"6\", height: \"60\", fill: color }),\r\n        React.createElement(\"rect\", { x: \"242\", y: \"120\", width: \"6\", height: \"30\", fill: color }),\r\n        React.createElement(\"rect\", { x: \"272\", y: \"120\", width: \"6\", height: \"60\", fill: color })));\r\n}));\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\n/**\r\n * VennDiagram Skeleton a simple VennDiagram skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\r\nconst VennDiagramSkeleton = /*!#__PURE__*/ React.memo(\r\n/*!#__PURE__*/ React.forwardRef(function VennDiagramSkeleton(props, ref) {\r\n    const { color, secondary, rest } = prepare(props);\r\n    const padding = 10;\r\n    const l = layoutImpl(3, 300 - padding * 2, 3200 - padding * 2);\r\n    return (React.createElement(\"svg\", Object.assign({ viewBox: \"0 0 300 200\", ref: ref }, rest),\r\n        l.sets.map((set, i) => (React.createElement(\"circle\", { key: i, cx: set.cx, cy: set.cy + padding, r: set.r, fill: secondary }))),\r\n        l.sets.map((set, i) => (React.createElement(\"circle\", { key: i, cx: set.cx, cy: set.cy + padding, r: set.r, stroke: color, fill: \"none\" })))));\r\n}));\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\n/**\r\n * KV Diagram Skeleton a simple KarnaughMap skeleton\r\n *\r\n * with React.forwardRef support to specify a reference to the SVG element\r\n */\r\nconst KarnaughMapSkeleton = /*!#__PURE__*/ React.memo(\r\n/*!#__PURE__*/ React.forwardRef(function KarnaughMapSkeleton(props, ref) {\r\n    const { rest, color, secondary } = prepare(props);\r\n    // const padding = 10;\r\n    const { xBefore, yBefore, cell, hCells, vCells } = bounds(2, {\r\n        width: 270,\r\n        height: 170,\r\n        labelHeight: 20,\r\n    });\r\n    const gw = hCells * cell;\r\n    const gh = vCells * cell;\r\n    const v1 = 0.9;\r\n    const v2 = 0.5;\r\n    const v3 = 0.26;\r\n    const v4 = 0.75;\r\n    return (React.createElement(\"svg\", Object.assign({ viewBox: \"0 0 300 200\", ref: ref, fontFamily: \"sans-serif\" }, rest),\r\n        React.createElement(\"g\", { transform: `translate(${xBefore + 10},${yBefore + 10})` },\r\n            React.createElement(\"text\", { x: cell * 0.5, y: -3, fill: color, textAnchor: \"middle\" }, \"A\"),\r\n            React.createElement(\"text\", { x: cell * 1.5, y: -3, fill: color, textAnchor: \"middle\", style: { textDecoration: 'overline' } }, \"A\"),\r\n            React.createElement(\"text\", { x: -3, y: cell * 0.5, fill: color, textAnchor: \"end\", dominantBaseline: \"central\" }, \"B\"),\r\n            React.createElement(\"text\", { x: -3, y: cell * 1.5, fill: color, textAnchor: \"end\", dominantBaseline: \"central\", style: { textDecoration: 'overline' } }, \"B\"),\r\n            React.createElement(\"rect\", { x: cell * 0.1, y: cell * (1 - v1), height: cell * v1, width: cell * 0.8, fill: secondary }),\r\n            React.createElement(\"rect\", { x: cell * 1.1, y: cell * (1 - v2), height: cell * v2, width: cell * 0.8, fill: secondary }),\r\n            React.createElement(\"rect\", { x: cell * 0.1, y: cell * (1 - v3 + 1), height: cell * v3, width: cell * 0.8, fill: secondary }),\r\n            React.createElement(\"rect\", { x: cell * 1.1, y: cell * (1 - v4 + 1), height: cell * v4, width: cell * 0.8, fill: secondary }),\r\n            React.createElement(\"path\", { d: `M0,0 l${gw},0 l0,${gh} l${-gw},0 l0,${-gh} M${gw / 2},0 l0,${gh} M0,${gh / 2} l${gw},0`, fill: \"none\", stroke: color }))));\r\n}));\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nconst DEG2RAD = (1 / 180) * Math.PI;\r\nfunction pointAtCircle(cx, cy, radius, angle) {\r\n    return {\r\n        x: cx + Math.cos(angle * DEG2RAD) * radius,\r\n        y: cy + Math.sin(angle * DEG2RAD) * radius,\r\n    };\r\n}\n\n/**\r\n * @upsetjs/react\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction center(circles) {\r\n    const sumX = circles.reduce((acc, a) => acc + a.x, 0);\r\n    const sumY = circles.reduce((acc, a) => acc + a.y, 0);\r\n    return {\r\n        x: sumX / circles.length,\r\n        y: sumY / circles.length,\r\n    };\r\n}\r\nfunction angleAtCircle(p, c) {\r\n    const x = p.x - c.x;\r\n    const y = p.y - c.y;\r\n    return Math.atan2(y, x) / DEG2RAD;\r\n}\r\nfunction createVennJSAdapter(layout, options) {\r\n    return {\r\n        maxSets: Infinity,\r\n        compute(sets, combinations, width, height) {\r\n            const overlaps = combinations.map((c) => ({ sets: Array.from(c.sets).map((s) => s.name), size: c.cardinality }));\r\n            const r = layout(overlaps, Object.assign({}, {\r\n                width,\r\n                height,\r\n                distinct: true,\r\n            }, options !== null && options !== void 0 ? options : {}));\r\n            const singleSets = r.filter((d) => d.data.sets.length === 1);\r\n            const setNames = new Map(sets.map((d, i) => [d.name, i]));\r\n            const setCircles = singleSets.map((d) => d.circles[0]);\r\n            const eulerCenter = center(setCircles);\r\n            const asArc = (a) => ({\r\n                x2: a.p1.x,\r\n                y2: a.p1.y,\r\n                cx: a.circle.x,\r\n                cy: a.circle.y,\r\n                sweep: true,\r\n                large: a.width > a.circle.radius,\r\n                ref: setCircles.findIndex((d) => Math.abs(d.x - a.circle.x) < 0.05 && Math.abs(d.y - a.circle.y) < 0.05),\r\n                mode: 'i',\r\n            });\r\n            return {\r\n                sets: singleSets.map((d) => {\r\n                    const c = d.circles[0];\r\n                    const angle = angleAtCircle(c, eulerCenter);\r\n                    return {\r\n                        cx: c.x,\r\n                        cy: c.y,\r\n                        r: c.radius,\r\n                        align: angle > 90 ? 'end' : 'start',\r\n                        verticalAlign: 'bottom',\r\n                        text: pointAtCircle(c.x, c.y, c.radius * 1.1, angle),\r\n                    };\r\n                }),\r\n                intersections: r.map((d) => {\r\n                    const arcs = d.arcs;\r\n                    const text = {\r\n                        x: d.text.x,\r\n                        y: d.text.y,\r\n                    };\r\n                    if (arcs.length === 0) {\r\n                        return {\r\n                            sets: d.data.sets.map((s) => setNames.get(s)),\r\n                            text,\r\n                            x1: 0,\r\n                            y1: 0,\r\n                            arcs: [],\r\n                        };\r\n                    }\r\n                    if (arcs.length === 1) {\r\n                        const c = d.arcs[0].circle;\r\n                        return {\r\n                            sets: d.data.sets.map((s) => setNames.get(s)),\r\n                            text,\r\n                            x1: d.arcs[0].p2.x,\r\n                            y1: c.y - c.radius,\r\n                            arcs: [asArc(d.arcs[0]), Object.assign(asArc(d.arcs[0]), { y2: c.y - c.radius })],\r\n                            path: d.distinctPath || d.path,\r\n                        };\r\n                    }\r\n                    return {\r\n                        sets: d.data.sets.map((s) => setNames.get(s)),\r\n                        text,\r\n                        x1: d.arcs[0].p2.x,\r\n                        y1: d.arcs[0].p2.y,\r\n                        arcs: d.arcs.map((e) => asArc(e)),\r\n                        path: d.distinctPath || d.path,\r\n                    };\r\n                }),\r\n            };\r\n        },\r\n    };\r\n}\n\n/**\r\n * @upsetjs/bundle\r\n * https://github.com/upsetjs/upsetjs\r\n *\r\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\r\n */\r\nfunction widthRatios(value) {\r\n    return value == null || (Array.isArray(value) && value.length >= 2 && value.every((v) => typeof v === 'number'));\r\n}\r\nfunction heightRatios(value) {\r\n    return value == null || (Array.isArray(value) && value.length >= 1 && value.every((v) => typeof v === 'number'));\r\n}\r\nfunction setLabelAlignment(value) {\r\n    return value == null || value === 'left' || value === 'center' || value === 'right';\r\n}\r\nfunction sets$6(value) {\r\n    return Array.isArray(value) && value.every(isSet);\r\n}\r\nfunction combinations(value) {\r\n    return (value == null || (Array.isArray(value) && value.every(isSetCombination)) || isGenerateSetCombinationOptions(value));\r\n}\r\nfunction selection(value) {\r\n    return value == null || Array.isArray(value) || isSetLike$1(value);\r\n}\r\nfunction onHover(value) {\r\n    return value == null || typeof value === 'function';\r\n}\r\nfunction onClick(value) {\r\n    return value == null || typeof value === 'function';\r\n}\r\nfunction onContextMenu(value) {\r\n    return value == null || typeof value === 'function';\r\n}\r\nfunction onMouseMove(value) {\r\n    return value == null || typeof value === 'function';\r\n}\r\nfunction queries(value) {\r\n    return !value || (Array.isArray(value) && value.every(isUpSetQuery));\r\n}\r\nfunction stringOrFalse(value) {\r\n    return value == null || typeof value === 'string' || value === false;\r\n}\r\nfunction theme(value) {\r\n    return value == null || value === 'light' || value === 'dark' || value === 'vega';\r\n}\r\nfunction classNames(value) {\r\n    return (value == null ||\r\n        Object.keys(value).every((k) => MULTI_STYLE_KEYS.includes(k) && typeof value[k] === 'string'));\r\n}\r\nfunction fontSizes(value) {\r\n    return (value == null ||\r\n        Object.keys(value).every((k) => FONT_SIZES_KEYS.includes(k) && typeof value[k] === 'string'));\r\n}\r\nfunction numericScale(value) {\r\n    return value == null || value === 'linear' || value === 'log' || typeof value === 'function';\r\n}\r\nfunction bandScale(value) {\r\n    return value == null || value === 'band' || typeof value === 'function';\r\n}\r\nfunction axisOffset(value) {\r\n    return value == null || value === 'auto' || typeof value === 'number';\r\n}\r\nfunction style(value) {\r\n    return value == null || typeof value === 'object';\r\n}\r\nfunction styles(value) {\r\n    return (value == null ||\r\n        Object.keys(value).every((k) => MULTI_STYLE_KEYS.includes(k)));\r\n}\r\nfunction exportButtons(value) {\r\n    return (value == null ||\r\n        typeof value === 'boolean' ||\r\n        Object.keys(value).every((k) => EXPORT_OPTION_KEYS.includes(k) && typeof value[k] === 'boolean'));\r\n}\n\nvar validators = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    widthRatios: widthRatios,\n    heightRatios: heightRatios,\n    setLabelAlignment: setLabelAlignment,\n    sets: sets$6,\n    combinations: combinations,\n    selection: selection,\n    onHover: onHover,\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onMouseMove: onMouseMove,\n    queries: queries,\n    stringOrFalse: stringOrFalse,\n    theme: theme,\n    classNames: classNames,\n    fontSizes: fontSizes,\n    numericScale: numericScale,\n    bandScale: bandScale,\n    axisOffset: axisOffset,\n    style: style,\n    styles: styles,\n    exportButtons: exportButtons\n});\n\nexport default UpSetJS;\nexport { KarnaughMap, KarnaughMapSkeleton, UpSetJS, UpSetJSSkeleton, VennDiagram, VennDiagramSkeleton, createVennJSAdapter, downloadUrl, exportSVG, exportVegaLite, fillDefaults, fillDefaultsG, fillKarnaughMapDefaults, fillKarnaughMapDefaultsG, fillVennDiagramDefaults, fillVennDiagramDefaultsG, getDefaultTheme, isEllipse, validators as propValidators, toUpSetJSDump, toUpSetJSStaticDump };\n//# sourceMappingURL=index.js.map\n"]},"metadata":{},"sourceType":"module"}