{"ast":null,"code":"import _slicedToArray from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\nexport var DatetimePicker = function DatetimePicker(props) {\n  var className = props.className,\n      style = props.style,\n      disabled = props.disabled,\n      value = props.value,\n      onChange = props.onChange;\n\n  var _useState = useState(value ? moment(value) : undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerValue = _useState2[0],\n      setInnerValue = _useState2[1];\n\n  var mountedRef = useRef(false);\n  useEffect(function () {\n    if (!mountedRef.current) {\n      mountedRef.current = true;\n      return;\n    }\n\n    var valueMoment = moment(value);\n\n    if (valueMoment.isValid()) {\n      setInnerValue(valueMoment);\n    }\n  }, [value]);\n  var onChangeMoment = useCallback(function (_, dateString) {\n    var nextMoment = moment(dateString);\n    setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n\n    if (typeof onChange === 'function') {\n      onChange(nextMoment.isValid() ? nextMoment.format('YYYY-MM-DD HH:mm:ss') : '');\n    }\n  }, [onChange]);\n  return React.createElement(DatePicker, {\n    showTime: true,\n    allowClear: true,\n    className: className,\n    style: style,\n    disabled: disabled,\n    value: innerValue,\n    onChange: onChangeMoment\n  });\n};","map":{"version":3,"sources":["../../../../../src/canvas-json-schema-form/schema-form/control-map/datetime/datetime-picker.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAP,IAAgB,SAAhB,EAA2B,MAA3B,EAAmC,QAAnC,EAA6C,WAA7C,QAAgE,OAAhE;AACA,SAAS,UAAT,QAA2B,MAA3B;AACA,OAAO,MAAP,MAAmB,QAAnB;AAUA,OAAO,IAAM,cAAc,GAAoB,SAAlC,cAAkC,CAAA,KAAK,EAAG;AACrD,MAAQ,SAAR,GAAwD,KAAxD,CAAQ,SAAR;AAAA,MAAmB,KAAnB,GAAwD,KAAxD,CAAmB,KAAnB;AAAA,MAA0B,QAA1B,GAAwD,KAAxD,CAA0B,QAA1B;AAAA,MAAoC,KAApC,GAAwD,KAAxD,CAAoC,KAApC;AAAA,MAA2C,QAA3C,GAAwD,KAAxD,CAA2C,QAA3C;;AACA,kBAAoC,QAAQ,CAC1C,KAAK,GAAG,MAAM,CAAC,KAAD,CAAT,GAAmB,SADkB,CAA5C;AAAA;AAAA,MAAO,UAAP;AAAA,MAAmB,aAAnB;;AAGA,MAAM,UAAU,GAAG,MAAM,CAAU,KAAV,CAAzB;AAEA,EAAA,SAAS,CAAC,YAAK;AACb,QAAI,CAAC,UAAU,CAAC,OAAhB,EAAyB;AACvB,MAAA,UAAU,CAAC,OAAX,GAAqB,IAArB;AACA;AACD;;AACD,QAAM,WAAW,GAAG,MAAM,CAAC,KAAD,CAA1B;;AACA,QAAI,WAAW,CAAC,OAAZ,EAAJ,EAA2B;AACzB,MAAA,aAAa,CAAC,WAAD,CAAb;AACD;AACF,GATQ,EASN,CAAC,KAAD,CATM,CAAT;AAWA,MAAM,cAAc,GAAG,WAAW,CAChC,UAAC,CAAD,EAAS,UAAT,EAA+B;AAC7B,QAAM,UAAU,GAAG,MAAM,CAAC,UAAD,CAAzB;AACA,IAAA,aAAa,CAAC,UAAU,CAAC,OAAX,KAAuB,UAAvB,GAAoC,SAArC,CAAb;;AACA,QAAI,OAAO,QAAP,KAAoB,UAAxB,EAAoC;AAClC,MAAA,QAAQ,CAAC,UAAU,CAAC,OAAX,KAAuB,UAAU,CAAC,MAAX,CAAkB,qBAAlB,CAAvB,GAAkE,EAAnE,CAAR;AACD;AACF,GAP+B,EAQhC,CAAC,QAAD,CARgC,CAAlC;AAWA,SACE,KAAA,CAAA,aAAA,CAAC,UAAD,EAAW;AACT,IAAA,QAAQ,EAAA,IADC;AAET,IAAA,UAAU,EAAA,IAFD;AAGT,IAAA,SAAS,EAAE,SAHF;AAIT,IAAA,KAAK,EAAE,KAJE;AAKT,IAAA,QAAQ,EAAE,QALD;AAMT,IAAA,KAAK,EAAE,UANE;AAOT,IAAA,QAAQ,EAAE;AAPD,GAAX,CADF;AAWD,CAxCM","sourceRoot":"","sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\nexport const DatetimePicker = props => {\n    const { className, style, disabled, value, onChange } = props;\n    const [innerValue, setInnerValue] = useState(value ? moment(value) : undefined);\n    const mountedRef = useRef(false);\n    useEffect(() => {\n        if (!mountedRef.current) {\n            mountedRef.current = true;\n            return;\n        }\n        const valueMoment = moment(value);\n        if (valueMoment.isValid()) {\n            setInnerValue(valueMoment);\n        }\n    }, [value]);\n    const onChangeMoment = useCallback((_, dateString) => {\n        const nextMoment = moment(dateString);\n        setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n        if (typeof onChange === 'function') {\n            onChange(nextMoment.isValid() ? nextMoment.format('YYYY-MM-DD HH:mm:ss') : '');\n        }\n    }, [onChange]);\n    return (React.createElement(DatePicker, { showTime: true, allowClear: true, className: className, style: style, disabled: disabled, value: innerValue, onChange: onChangeMoment }));\n};\n//# sourceMappingURL=datetime-picker.js.map"]},"metadata":{},"sourceType":"module"}