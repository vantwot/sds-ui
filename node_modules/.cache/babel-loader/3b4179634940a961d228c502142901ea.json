{"ast":null,"code":"export var CoordinateSystem;\n\n(function (CoordinateSystem) {\n  CoordinateSystem[CoordinateSystem[\"LNGLAT\"] = 1] = \"LNGLAT\";\n  CoordinateSystem[CoordinateSystem[\"LNGLAT_OFFSET\"] = 2] = \"LNGLAT_OFFSET\";\n  CoordinateSystem[CoordinateSystem[\"VECTOR_TILE\"] = 3] = \"VECTOR_TILE\";\n  CoordinateSystem[CoordinateSystem[\"IDENTITY\"] = 4] = \"IDENTITY\";\n  CoordinateSystem[CoordinateSystem[\"P20\"] = 5] = \"P20\";\n  CoordinateSystem[CoordinateSystem[\"P20_OFFSET\"] = 6] = \"P20_OFFSET\";\n  CoordinateSystem[CoordinateSystem[\"METER_OFFSET\"] = 7] = \"METER_OFFSET\";\n  CoordinateSystem[CoordinateSystem[\"P20_2\"] = 8] = \"P20_2\";\n})(CoordinateSystem || (CoordinateSystem = {}));\n\nexport var CoordinateUniform = {\n  CoordinateSystem: 'u_CoordinateSystem',\n  ViewportCenter: 'u_ViewportCenter',\n  ViewportCenterProjection: 'u_ViewportCenterProjection',\n  PixelsPerDegree: 'u_PixelsPerDegree',\n  PixelsPerDegree2: 'u_PixelsPerDegree2',\n  PixelsPerMeter: 'u_PixelsPerMeter',\n  Mvp: 'u_Mvp'\n};","map":{"version":3,"sources":["../../../src/services/coordinate/ICoordinateSystemService.ts"],"names":["CoordinateSystem","CoordinateUniform","ViewportCenter","ViewportCenterProjection","PixelsPerDegree","PixelsPerDegree2","PixelsPerMeter","Mvp"],"mappings":"AAWA,OAAA,IAAA,gBAAA;;WAAYA,gB;AAAAA,EAAAA,gB,CAAAA,gB,UAAAA,G,EAAAA,G,QAAAA;AAAAA,EAAAA,gB,CAAAA,gB,iBAAAA,G,EAAAA,G,eAAAA;AAAAA,EAAAA,gB,CAAAA,gB,eAAAA,G,EAAAA,G,aAAAA;AAAAA,EAAAA,gB,CAAAA,gB,YAAAA,G,EAAAA,G,UAAAA;AAAAA,EAAAA,gB,CAAAA,gB,OAAAA,G,EAAAA,G,KAAAA;AAAAA,EAAAA,gB,CAAAA,gB,cAAAA,G,EAAAA,G,YAAAA;AAAAA,EAAAA,gB,CAAAA,gB,gBAAAA,G,EAAAA,G,cAAAA;AAAAA,EAAAA,gB,CAAAA,gB,SAAAA,G,EAAAA,G,OAAAA;GAAAA,gB,KAAAA,gB;;AAYZ,OAAO,IAAMC,iBAAiB,GAAG;AAC/BD,EAAAA,gBAAgB,EADe,oBAAA;AAE/BE,EAAAA,cAAc,EAFiB,kBAAA;AAG/BC,EAAAA,wBAAwB,EAHO,4BAAA;AAI/BC,EAAAA,eAAe,EAJgB,mBAAA;AAK/BC,EAAAA,gBAAgB,EALe,oBAAA;AAM/BC,EAAAA,cAAc,EANiB,kBAAA;AAQ/BC,EAAAA,GAAG,EAAE;AAR0B,CAA1B","sourcesContent":["/**\n * 支持以下坐标系：\n * 1. 经纬度\n * 2. 偏移经纬度，用于解决高精度抖动问题\n * 3. 瓦片坐标，用于数据瓦片\n * 4. 常规世界坐标系，用于常规 2D/3D 可视化场景\n * 5. P20\n * @see https://yuque.antfin-inc.com/yuqi.pyq/fgetpa/doml91\n */\n\n// TODO：自动注入 Shader 中\nexport enum CoordinateSystem {\n  LNGLAT = 1.0,\n  LNGLAT_OFFSET = 2.0,\n  VECTOR_TILE = 3.0,\n  IDENTITY = 4.0,\n  P20 = 5.0,\n  P20_OFFSET = 6.0,\n  METER_OFFSET = 7.0,\n  P20_2 = 8.0,\n}\n\n// 后续传入 Shader 的变量\nexport const CoordinateUniform = {\n  CoordinateSystem: 'u_CoordinateSystem',\n  ViewportCenter: 'u_ViewportCenter',\n  ViewportCenterProjection: 'u_ViewportCenterProjection',\n  PixelsPerDegree: 'u_PixelsPerDegree',\n  PixelsPerDegree2: 'u_PixelsPerDegree2',\n  PixelsPerMeter: 'u_PixelsPerMeter',\n\n  Mvp: 'u_Mvp',\n};\n\nexport interface ICoordinateSystemService {\n  needRefresh: boolean;\n  refresh(): void;\n  getCoordinateSystem(): CoordinateSystem;\n  setCoordinateSystem(coordinateSystem: CoordinateSystem): void;\n  getViewportCenter(): [number, number];\n  getViewportCenterProjection(): [number, number, number, number];\n  getPixelsPerDegree(): [number, number, number];\n  getPixelsPerDegree2(): [number, number, number];\n  getPixelsPerMeter(): [number, number, number];\n}\n"]},"metadata":{},"sourceType":"module"}