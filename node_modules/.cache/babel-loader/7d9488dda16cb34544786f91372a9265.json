{"ast":null,"code":"var _jsxFileName = \"/home/manolo/sds-ui/src/components/GroupsTab.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\n/* Components */\n\nimport ErrorWarning from './ErrorWarning';\nimport LoadingCard from './LoadingCard';\nimport SortPolicies from './SortPolicies';\n/* UI Components Library */\n\nimport { Card, List, Space, Avatar } from 'antd';\n/* Icons */\n\nimport { CitationsIcon } from '../media/icons/citations';\nimport { CalendarOutlined, BankOutlined } from '@ant-design/icons';\n/* Utilities */\n\nimport { APIRequest } from '../apis/api';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GroupsTab = _ref => {\n  _s();\n\n  let {\n    core\n  } = _ref;\n  const [pagination, setPagination] = useState({\n    max: 10,\n    page: 1\n  });\n  const [sort, setSort] = useState('citations');\n  const [state, setUrl] = APIRequest(`${core.URL}&data=groups&max=${pagination.max}&page=${pagination.page}&sort=${sort}`);\n\n  const onPageChange = _ref2 => {\n    let {\n      page,\n      pageSize\n    } = _ref2;\n    setPagination({\n      page: page,\n      max: pageSize\n    });\n    window.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    setUrl(`${core.URL}&data=groups&max=${pagination.max}&page=${pagination.page}&sort=${sort}`); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pagination, sort]);\n\n  if (state.isError) {\n    return /*#__PURE__*/_jsxDEV(ErrorWarning, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (state.isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingCard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    headStyle: {\n      backgroundColor: '#003e65',\n      color: 'white'\n    },\n    size: \"small\",\n    title: \"Grupos de Investigaci\\xF3n\",\n    extra: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"white-text\",\n        children: [state.data.total || state.data.total_results, ' ', state.data.total > 1 || state.data.total_results > 1 ? 'resultados' : 'resultado']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SortPolicies, {\n        sort: sort,\n        setSort: setSort\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(List, {\n      itemLayout: \"vertical\",\n      size: \"large\",\n      dataSource: state.data.data,\n      pagination: {\n        size: 'small',\n        position: 'bottom',\n        total: state.data.total,\n        onChange: (page, pageSize) => onPageChange({\n          page,\n          pageSize\n        }),\n        hideOnSinglePage: true,\n        current: pagination.page,\n        pageSize: pagination.max\n      },\n      renderItem: item => {\n        var _item$institution;\n\n        return /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Space, {\n            style: {\n              fontSize: 18\n            },\n            children: [/*#__PURE__*/React.createElement(CalendarOutlined), \"Publicaciones: \", item.products_count]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Space, {\n            style: {\n              fontSize: 18\n            },\n            children: [/*#__PURE__*/React.createElement(CitationsIcon), \"Citado: \", item.citations_count]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n            avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n              className: \"avatar\",\n              size: \"large\",\n              children: item.name.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this),\n            title: /*#__PURE__*/_jsxDEV(Link, {\n              style: {\n                fontSize: 18,\n                textDecoration: 'underline'\n              },\n              to: `/app/groups?id=${item.id}`,\n              onClick: () => core.setURL(`/app/groups?id=${item.id}`),\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this),\n            description: ((_item$institution = item.institution) === null || _item$institution === void 0 ? void 0 : _item$institution.name) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(BankOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Link, {\n                style: {\n                  fontSize: 12,\n                  textDecoration: 'underline'\n                },\n                to: `/app/institutions?id=${item.institution.id}`,\n                onClick: () => core.setURL(`/app/institutions?id=${item.institution.id}`),\n                children: item.institution.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GroupsTab, \"HdldaPJiW+MFQhal88bBM97EnMM=\");\n\n_c = GroupsTab;\nexport default GroupsTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupsTab\");","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/GroupsTab.jsx"],"names":["React","useState","useEffect","ErrorWarning","LoadingCard","SortPolicies","Card","List","Space","Avatar","CitationsIcon","CalendarOutlined","BankOutlined","APIRequest","Link","GroupsTab","core","pagination","setPagination","max","page","sort","setSort","state","setUrl","URL","onPageChange","pageSize","window","scrollTo","isError","isLoading","backgroundColor","color","data","total","total_results","size","position","onChange","hideOnSinglePage","current","item","fontSize","createElement","products_count","citations_count","name","charAt","textDecoration","id","setURL","institution"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\n/* Components */\nimport ErrorWarning from './ErrorWarning';\nimport LoadingCard from './LoadingCard';\nimport SortPolicies from './SortPolicies';\n\n/* UI Components Library */\nimport { Card, List, Space, Avatar } from 'antd';\n\n/* Icons */\nimport { CitationsIcon } from '../media/icons/citations';\nimport { CalendarOutlined, BankOutlined } from '@ant-design/icons';\n\n/* Utilities */\nimport { APIRequest } from '../apis/api';\nimport { Link } from 'react-router-dom';\n\nconst GroupsTab = ({ core }) => {\n  const [pagination, setPagination] = useState({ max: 10, page: 1 });\n  const [sort, setSort] = useState('citations');\n  const [state, setUrl] = APIRequest(\n    `${core.URL}&data=groups&max=${pagination.max}&page=${pagination.page}&sort=${sort}`\n  );\n\n  const onPageChange = ({ page, pageSize }) => {\n    setPagination({ page: page, max: pageSize });\n    window.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    setUrl(\n      `${core.URL}&data=groups&max=${pagination.max}&page=${pagination.page}&sort=${sort}`\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pagination, sort]);\n\n  if (state.isError) {\n    return <ErrorWarning />;\n  }\n  if (state.isLoading) {\n    return <LoadingCard />;\n  }\n  return (\n    <Card\n      headStyle={{ backgroundColor: '#003e65', color: 'white' }}\n      size=\"small\"\n      title=\"Grupos de Investigación\"\n      extra={\n        <div>\n          <p className=\"white-text\">\n            {state.data.total || state.data.total_results}{' '}\n            {state.data.total > 1 || state.data.total_results > 1\n              ? 'resultados'\n              : 'resultado'}\n          </p>\n          <SortPolicies sort={sort} setSort={setSort} />\n        </div>\n      }\n    >\n      <List\n        itemLayout=\"vertical\"\n        size=\"large\"\n        dataSource={state.data.data}\n        pagination={{\n          size: 'small',\n          position: 'bottom',\n          total: state.data.total,\n          onChange: (page, pageSize) =>\n            onPageChange({\n              page,\n              pageSize,\n            }),\n          hideOnSinglePage: true,\n          current: pagination.page,\n          pageSize: pagination.max,\n        }}\n        renderItem={(item) => (\n          <List.Item\n            actions={[\n              <Space style={{ fontSize: 18 }}>\n                {React.createElement(CalendarOutlined)}\n                Publicaciones: {item.products_count}\n              </Space>,\n              <Space style={{ fontSize: 18 }}>\n                {React.createElement(CitationsIcon)}\n                Citado: {item.citations_count}\n              </Space>,\n            ]}\n          >\n            <List.Item.Meta\n              avatar={\n                <Avatar className=\"avatar\" size=\"large\">\n                  {item.name.charAt(0)}\n                </Avatar>\n              }\n              title={\n                <Link\n                  style={{ fontSize: 18, textDecoration: 'underline' }}\n                  to={`/app/groups?id=${item.id}`}\n                  onClick={() => core.setURL(`/app/groups?id=${item.id}`)}\n                >\n                  {item.name}\n                </Link>\n              }\n              description={\n                item.institution?.name ? (\n                  <div>\n                    <BankOutlined />{' '}\n                    <Link\n                      style={{\n                        fontSize: 12,\n                        textDecoration: 'underline',\n                      }}\n                      to={`/app/institutions?id=${item.institution.id}`}\n                      onClick={() =>\n                        core.setURL(\n                          `/app/institutions?id=${item.institution.id}`\n                        )\n                      }\n                    >\n                      {item.institution.name}\n                    </Link>\n                  </div>\n                ) : (\n                  ''\n                )\n              }\n            />\n          </List.Item>\n        )}\n      />\n    </Card>\n  );\n};\n\nexport default GroupsTab;\n"]},"metadata":{},"sourceType":"module"}