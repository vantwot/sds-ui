{"ast":null,"code":"import _slicedToArray from\"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';/* Charts */import WordCloudChart from'../charts/WordCloudChart';/* Utilities */import{APIRequest}from'../../apis/api';import{Card,Col,Row,Statistic,Tooltip}from'antd';/* Components */import ErrorWarning from'../ErrorWarning';import LoadingCard from'../LoadingCard';import EmptyCard from'../EmptyCard';/* Icons */import{BankOutlined,TeamOutlined,UserOutlined,FileOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TrendsViz=function TrendsViz(_ref){var _state$data,_state$data$word_clou;var selection=_ref.selection,type=_ref.type,core=_ref.core;var _APIRequest=APIRequest(\"/app/trends?data=\".concat(type,\"&\").concat(type,\"=\").concat(selection)),_APIRequest2=_slicedToArray(_APIRequest,2),state=_APIRequest2[0],setState=_APIRequest2[1];useEffect(function(){setState(\"/app/trends?data=\".concat(type,\"&\").concat(type,\"=\").concat(selection));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selection]);if(state.isError){return/*#__PURE__*/_jsx(ErrorWarning,{});}else if(state.isLoading){return/*#__PURE__*/_jsx(LoadingCard,{});}return/*#__PURE__*/_jsxs(Row,{gutter:[10,10],children:[/*#__PURE__*/_jsx(Col,{xs:12,lg:6,children:/*#__PURE__*/_jsx(Tooltip,{color:\"blue\",title:\"Si desea consultar las instituciones correspondientes a esta categor\\xEDa, usar el buscador por producto con el concepto correspondiente entre comillas.\",children:/*#__PURE__*/_jsx(Card,{size:\"small\",children:/*#__PURE__*/_jsx(Statistic,{title:\"Instituciones\",value:state.data.institutions,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(BankOutlined,{})})})})}),/*#__PURE__*/_jsx(Col,{xs:12,lg:6,children:/*#__PURE__*/_jsx(Tooltip,{color:\"blue\",title:\"Si desea consultar los grupos correspondientes a esta categor\\xEDa, usar el buscador por producto con el concepto correspondiente entre comillas.\",children:/*#__PURE__*/_jsx(Card,{size:\"small\",children:/*#__PURE__*/_jsx(Statistic,{title:\"Grupos\",value:state.data.groups,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(TeamOutlined,{})})})})}),/*#__PURE__*/_jsx(Col,{xs:12,lg:6,children:/*#__PURE__*/_jsx(Tooltip,{color:\"blue\",title:\"Si desea consultar los autores correspondientes a esta categor\\xEDa, usar el buscador por producto con el concepto correspondiente entre comillas.\",children:/*#__PURE__*/_jsx(Card,{size:\"small\",children:/*#__PURE__*/_jsx(Statistic,{title:\"Autores\",value:state.data.authors,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(UserOutlined,{})})})})}),/*#__PURE__*/_jsx(Col,{xs:12,lg:6,children:/*#__PURE__*/_jsx(Tooltip,{color:\"blue\",title:\"Si desea consultar los productos correspondientes a esta categor\\xEDa, usar el buscador por producto con el concepto correspondiente entre comillas.\",children:/*#__PURE__*/_jsx(Card,{size:\"small\",children:/*#__PURE__*/_jsx(Statistic,{title:\"Productos\",value:state.data.products,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(FileOutlined,{})})})})}),/*#__PURE__*/_jsx(Col,{span:24,children:(state===null||state===void 0?void 0:(_state$data=state.data)===null||_state$data===void 0?void 0:(_state$data$word_clou=_state$data.word_cloud)===null||_state$data$word_clou===void 0?void 0:_state$data$word_clou.length)===0?/*#__PURE__*/_jsx(EmptyCard,{}):/*#__PURE__*/_jsx(WordCloudChart,{title:\"Temas\",data:state.data.word_cloud,core:core})})]});};export default TrendsViz;","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/charts/TrendsViz.jsx"],"names":["React","useEffect","WordCloudChart","APIRequest","Card","Col","Row","Statistic","Tooltip","ErrorWarning","LoadingCard","EmptyCard","BankOutlined","TeamOutlined","UserOutlined","FileOutlined","TrendsViz","selection","type","core","state","setState","isError","isLoading","data","institutions","color","groups","authors","products","word_cloud","length"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\n/* Charts */\nimport WordCloudChart from '../charts/WordCloudChart';\n\n/* Utilities */\nimport { APIRequest } from '../../apis/api';\nimport { Card, Col, Row, Statistic, Tooltip } from 'antd';\n\n/* Components */\nimport ErrorWarning from '../ErrorWarning';\nimport LoadingCard from '../LoadingCard';\nimport EmptyCard from '../EmptyCard';\n\n/* Icons */\nimport {\n  BankOutlined,\n  TeamOutlined,\n  UserOutlined,\n  FileOutlined,\n} from '@ant-design/icons';\n\nconst TrendsViz = ({ selection, type, core }) => {\n  const [state, setState] = APIRequest(\n    `/app/trends?data=${type}&${type}=${selection}`\n  );\n\n  useEffect(() => {\n    setState(`/app/trends?data=${type}&${type}=${selection}`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selection]);\n\n  if (state.isError) {\n    return <ErrorWarning />;\n  } else if (state.isLoading) {\n    return <LoadingCard />;\n  }\n  return (\n    <Row gutter={[10, 10]}>\n      <Col xs={12} lg={6}>\n        <Tooltip\n          color=\"blue\"\n          title=\"Si desea consultar las instituciones correspondientes a esta categoría, usar el buscador por producto con el concepto correspondiente entre comillas.\"\n        >\n          <Card size=\"small\">\n            <Statistic\n              title=\"Instituciones\"\n              value={state.data.institutions}\n              valueStyle={{\n                color: '#3f8600',\n              }}\n              prefix={<BankOutlined />}\n            />\n          </Card>\n        </Tooltip>\n      </Col>\n      <Col xs={12} lg={6}>\n        <Tooltip\n          color=\"blue\"\n          title=\"Si desea consultar los grupos correspondientes a esta categoría, usar el buscador por producto con el concepto correspondiente entre comillas.\"\n        >\n          <Card size=\"small\">\n            <Statistic\n              title=\"Grupos\"\n              value={state.data.groups}\n              valueStyle={{\n                color: '#3f8600',\n              }}\n              prefix={<TeamOutlined />}\n            />\n          </Card>\n        </Tooltip>\n      </Col>\n      <Col xs={12} lg={6}>\n        <Tooltip\n          color=\"blue\"\n          title=\"Si desea consultar los autores correspondientes a esta categoría, usar el buscador por producto con el concepto correspondiente entre comillas.\"\n        >\n          <Card size=\"small\">\n            <Statistic\n              title=\"Autores\"\n              value={state.data.authors}\n              valueStyle={{\n                color: '#3f8600',\n              }}\n              prefix={<UserOutlined />}\n            />\n          </Card>\n        </Tooltip>\n      </Col>\n      <Col xs={12} lg={6}>\n        <Tooltip\n          color=\"blue\"\n          title=\"Si desea consultar los productos correspondientes a esta categoría, usar el buscador por producto con el concepto correspondiente entre comillas.\"\n        >\n          <Card size=\"small\">\n            <Statistic\n              title=\"Productos\"\n              value={state.data.products}\n              valueStyle={{\n                color: '#3f8600',\n              }}\n              prefix={<FileOutlined />}\n            />\n          </Card>\n        </Tooltip>\n      </Col>\n      <Col span={24}>\n        {state?.data?.word_cloud?.length === 0 ? (\n          <EmptyCard />\n        ) : (\n          <WordCloudChart\n            title=\"Temas\"\n            data={state.data.word_cloud}\n            core={core}\n          />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nexport default TrendsViz;\n"]},"metadata":{},"sourceType":"module"}