{"ast":null,"code":"import _slicedToArray from\"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';/* Components */import AuthorsListOnModal from'./AuthorsListOnModal';/* Utilities */import{APIRequest}from'../apis/api';/* UI Library Components */import{Divider,Descriptions,Spin,Typography}from'antd';/* UI Library Sub-components */import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Text=Typography.Text,Paragraph=Typography.Paragraph,Link=Typography.Link;var DocumentModal=function DocumentModal(_ref){var _state$data$data$sour,_state$data$data$sour2,_state$data$data$sour3,_state$data$data$sour4,_state$data$data$sour5,_state$data$data$sour6,_state$data$data$sour7,_state$data$data$sour8;var documentID=_ref.documentID;var _APIRequest=APIRequest(\"/app/documents?&data=info&id=\".concat(documentID)),_APIRequest2=_slicedToArray(_APIRequest,1),state=_APIRequest2[0];var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,1),ellipsis=_React$useState2[0];var renderedExternalIDs=function renderedExternalIDs(){return state.data.data.external_ids.map(function(item){return/*#__PURE__*/_jsxs(Descriptions.Item,{label:\"\".concat(item.source,\":\"),children:[item.url&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"URL:\",' ',/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noreferrer\",children:\"Abrir en nueva pesta\\xF1a\"}),/*#__PURE__*/_jsx(\"br\",{})]}),\"ID: \",/*#__PURE__*/_jsx(Text,{copyable:true,children:item.id})]},item.source);});};var renderedExternalURLs=function renderedExternalURLs(){return state.data.data.external_urls.map(function(item){return/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Link externo:\",children:/*#__PURE__*/_jsx(Link,{href:item.url,target:\"_blank\",rel:\"noreferrer\",children:item.source})},item.source);});};if(state.isLoading){return/*#__PURE__*/_jsx(Spin,{});}else return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Autores: \"}),/*#__PURE__*/_jsx(AuthorsListOnModal,{authors:state.data.data.authors}),/*#__PURE__*/_jsx(Divider,{style:{margin:'15px 0'}}),/*#__PURE__*/_jsx(Text,{strong:true,children:\"Abstract\"}),/*#__PURE__*/_jsx(Paragraph,{ellipsis:ellipsis?{rows:3,expandable:true,symbol:'Más'}:false,children:state.data.data.abstract}),/*#__PURE__*/_jsx(Divider,{style:{margin:'15px 0'}}),/*#__PURE__*/_jsxs(Descriptions,{bordered:true,column:{lg:3,md:2,sm:2,xs:1},children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Revista:\",children:state.data.data.source.name}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"pISSN:\",children:((_state$data$data$sour=state.data.data.source)===null||_state$data$data$sour===void 0?void 0:(_state$data$data$sour2=_state$data$data$sour.serials)===null||_state$data$data$sour2===void 0?void 0:_state$data$data$sour2.pissn)&&/*#__PURE__*/_jsx(Text,{copyable:true,children:((_state$data$data$sour3=state.data.data.source)===null||_state$data$data$sour3===void 0?void 0:(_state$data$data$sour4=_state$data$data$sour3.serials)===null||_state$data$data$sour4===void 0?void 0:_state$data$data$sour4.pissn)||'No disponible'})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"eISSN:\",children:((_state$data$data$sour5=state.data.data.source)===null||_state$data$data$sour5===void 0?void 0:(_state$data$data$sour6=_state$data$data$sour5.serials)===null||_state$data$data$sour6===void 0?void 0:_state$data$data$sour6.eissn)&&/*#__PURE__*/_jsx(Text,{copyable:true,children:(_state$data$data$sour7=state.data.data.source)===null||_state$data$data$sour7===void 0?void 0:(_state$data$data$sour8=_state$data$data$sour7.serials)===null||_state$data$data$sour8===void 0?void 0:_state$data$data$sour8.eissn})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Publicado:\",children:state.data.data.year_published}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Volumen:\",children:state.data.data.volume}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Issue:\",children:state.data.data.issue}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Idioma:\",children:state.data.data.language}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Citaciones:\",children:state.data.data.citations_count}),renderedExternalIDs(),renderedExternalURLs()]})]});};export default DocumentModal;","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/DocumentModal.jsx"],"names":["React","AuthorsListOnModal","APIRequest","Divider","Descriptions","Spin","Typography","Text","Paragraph","Link","DocumentModal","documentID","state","useState","ellipsis","renderedExternalIDs","data","external_ids","map","item","source","url","id","renderedExternalURLs","external_urls","isLoading","authors","margin","rows","expandable","symbol","abstract","lg","md","sm","xs","name","serials","pissn","eissn","year_published","volume","issue","language","citations_count"],"mappings":"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","sourcesContent":["import React from 'react';\n\n/* Components */\nimport AuthorsListOnModal from './AuthorsListOnModal';\n\n/* Utilities */\nimport { APIRequest } from '../apis/api';\n\n/* UI Library Components */\nimport { Divider, Descriptions, Spin, Typography } from 'antd';\n\n/* UI Library Sub-components */\nconst { Text, Paragraph, Link } = Typography;\n\nconst DocumentModal = ({ documentID }) => {\n  const [state] = APIRequest(`/app/documents?&data=info&id=${documentID}`);\n  const [ellipsis] = React.useState(true);\n\n  const renderedExternalIDs = () => {\n    return state.data.data.external_ids.map((item) => (\n      <Descriptions.Item key={item.source} label={`${item.source}:`}>\n        {item.url && (\n          <>\n            URL:{' '}\n            <a href={item.url} target=\"_blank\" rel=\"noreferrer\">\n              Abrir en nueva pestaña\n            </a>\n            <br />\n          </>\n        )}\n        ID: <Text copyable>{item.id}</Text>\n      </Descriptions.Item>\n    ));\n  };\n\n  const renderedExternalURLs = () => {\n    return state.data.data.external_urls.map((item) => (\n      <Descriptions.Item key={item.source} label=\"Link externo:\">\n        <Link href={item.url} target=\"_blank\" rel=\"noreferrer\">\n          {item.source}\n        </Link>\n      </Descriptions.Item>\n    ));\n  };\n\n  if (state.isLoading) {\n    return <Spin />;\n  } else\n    return (\n      <div>\n        <Text strong>Autores: </Text>\n        <AuthorsListOnModal authors={state.data.data.authors} />\n        <Divider style={{ margin: '15px 0' }} />\n        <Text strong>Abstract</Text>\n        <Paragraph\n          ellipsis={\n            ellipsis ? { rows: 3, expandable: true, symbol: 'Más' } : false\n          }\n        >\n          {state.data.data.abstract}\n        </Paragraph>\n        <Divider style={{ margin: '15px 0' }} />\n        <Descriptions bordered column={{ lg: 3, md: 2, sm: 2, xs: 1 }}>\n          <Descriptions.Item label=\"Revista:\">\n            {state.data.data.source.name}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"pISSN:\">\n            {state.data.data.source?.serials?.pissn && (\n              <Text copyable>\n                {state.data.data.source?.serials?.pissn || 'No disponible'}\n              </Text>\n            )}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"eISSN:\">\n            {state.data.data.source?.serials?.eissn && (\n              <Text copyable>{state.data.data.source?.serials?.eissn}</Text>\n            )}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Publicado:\">\n            {state.data.data.year_published}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Volumen:\">\n            {state.data.data.volume}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Issue:\">\n            {state.data.data.issue}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Idioma:\">\n            {state.data.data.language}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Citaciones:\">\n            {state.data.data.citations_count}\n          </Descriptions.Item>\n          {renderedExternalIDs()}\n          {renderedExternalURLs()}\n        </Descriptions>\n      </div>\n    );\n};\n\nexport default DocumentModal;\n"]},"metadata":{},"sourceType":"module"}