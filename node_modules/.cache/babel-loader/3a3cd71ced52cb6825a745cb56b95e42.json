{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { createCtxMenuConfig, MenuItemType } from '@antv/xflow';\nimport { IconStore, XFlowNodeCommands, XFlowEdgeCommands } from '@antv/xflow';\nimport { DeleteOutlined, EditOutlined, StopOutlined } from '@ant-design/icons';\n/** menuitem 配置 */\n\nexport var NsMenuItemConfig;\n\n(function (NsMenuItemConfig) {\n  var _this = this;\n  /** 注册菜单依赖的icon */\n\n\n  IconStore.set('DeleteOutlined', DeleteOutlined);\n  IconStore.set('EditOutlined', EditOutlined);\n  IconStore.set('StopOutlined', StopOutlined);\n  NsMenuItemConfig.DELETE_EDGE = {\n    id: XFlowEdgeCommands.DEL_EDGE.id,\n    label: '删除边',\n    iconName: 'DeleteOutlined',\n    onClick: function onClick(_a) {\n      var target = _a.target,\n          commandService = _a.commandService;\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n          if (target.data) {\n            commandService.executeCommand(XFlowEdgeCommands.DEL_EDGE.id, {\n              edgeConfig: target.data\n            });\n          }\n\n          return [2\n          /*return*/\n          ];\n        });\n      });\n    }\n  };\n  NsMenuItemConfig.DELETE_NODE = {\n    id: XFlowNodeCommands.DEL_NODE.id,\n    label: '删除节点',\n    iconName: 'DeleteOutlined',\n    onClick: function onClick(_a) {\n      var target = _a.target,\n          commandService = _a.commandService;\n      return __awaiter(_this, void 0, void 0, function () {\n        var _b, _c;\n\n        return __generator(this, function (_d) {\n          if (target.data && ((_b = target === null || target === void 0 ? void 0 : target.data) === null || _b === void 0 ? void 0 : _b.id)) {\n            commandService.executeCommand(XFlowNodeCommands.DEL_NODE.id, {\n              nodeConfig: {\n                id: (_c = target === null || target === void 0 ? void 0 : target.data) === null || _c === void 0 ? void 0 : _c.id\n              }\n            });\n          }\n\n          return [2\n          /*return*/\n          ];\n        });\n      });\n    }\n  };\n  NsMenuItemConfig.EMPTY_MENU = {\n    id: 'EMPTY_MENU_ITEM',\n    label: '暂无可用',\n    isEnabled: false,\n    iconName: 'DeleteOutlined'\n  };\n  NsMenuItemConfig.SEPARATOR = {\n    id: 'separator',\n    type: MenuItemType.Separator\n  };\n})(NsMenuItemConfig || (NsMenuItemConfig = {}));\n\nexport var useMenuConfig = createCtxMenuConfig(function (config) {\n  config.setMenuModelService(function (target, model) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var type;\n      return __generator(this, function (_a) {\n        if (!target) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        type = target.type;\n\n        switch (type) {\n          /** 节点菜单 */\n          case 'node':\n            model.setValue({\n              id: 'root',\n              type: MenuItemType.Root,\n              submenu: [NsMenuItemConfig.DELETE_NODE]\n            });\n            break;\n\n          /** 边菜单 */\n\n          case 'edge':\n            model.setValue({\n              id: 'root',\n              type: MenuItemType.Root,\n              submenu: [NsMenuItemConfig.DELETE_EDGE]\n            });\n            break;\n\n          /** 画布菜单 */\n\n          case 'blank':\n            model.setValue({\n              id: 'root',\n              type: MenuItemType.Root,\n              submenu: [NsMenuItemConfig.EMPTY_MENU]\n            });\n            break;\n\n          /** 默认菜单 */\n\n          default:\n            model.setValue({\n              id: 'root',\n              type: MenuItemType.Root,\n              submenu: [NsMenuItemConfig.EMPTY_MENU]\n            });\n            break;\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  });\n});","map":{"version":3,"sources":["/home/manolo/sds-ui/node_modules/@ant-design/flowchart/es/components/menu/index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","createCtxMenuConfig","MenuItemType","IconStore","XFlowNodeCommands","XFlowEdgeCommands","DeleteOutlined","EditOutlined","StopOutlined","NsMenuItemConfig","_this","set","DELETE_EDGE","id","DEL_EDGE","iconName","onClick","_a","target","commandService","_b","data","executeCommand","edgeConfig","DELETE_NODE","DEL_NODE","_c","_d","nodeConfig","EMPTY_MENU","isEnabled","SEPARATOR","type","Separator","useMenuConfig","config","setMenuModelService","model","setValue","Root","submenu"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { createCtxMenuConfig, MenuItemType } from '@antv/xflow';\nimport { IconStore, XFlowNodeCommands, XFlowEdgeCommands } from '@antv/xflow';\nimport { DeleteOutlined, EditOutlined, StopOutlined } from '@ant-design/icons';\n/** menuitem 配置 */\nexport var NsMenuItemConfig;\n(function (NsMenuItemConfig) {\n    var _this = this;\n    /** 注册菜单依赖的icon */\n    IconStore.set('DeleteOutlined', DeleteOutlined);\n    IconStore.set('EditOutlined', EditOutlined);\n    IconStore.set('StopOutlined', StopOutlined);\n    NsMenuItemConfig.DELETE_EDGE = {\n        id: XFlowEdgeCommands.DEL_EDGE.id,\n        label: '删除边',\n        iconName: 'DeleteOutlined',\n        onClick: function (_a) {\n            var target = _a.target, commandService = _a.commandService;\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_b) {\n                    if (target.data) {\n                        commandService.executeCommand(XFlowEdgeCommands.DEL_EDGE.id, {\n                            edgeConfig: target.data,\n                        });\n                    }\n                    return [2 /*return*/];\n                });\n            });\n        },\n    };\n    NsMenuItemConfig.DELETE_NODE = {\n        id: XFlowNodeCommands.DEL_NODE.id,\n        label: '删除节点',\n        iconName: 'DeleteOutlined',\n        onClick: function (_a) {\n            var target = _a.target, commandService = _a.commandService;\n            return __awaiter(_this, void 0, void 0, function () {\n                var _b, _c;\n                return __generator(this, function (_d) {\n                    if (target.data && ((_b = target === null || target === void 0 ? void 0 : target.data) === null || _b === void 0 ? void 0 : _b.id)) {\n                        commandService.executeCommand(XFlowNodeCommands.DEL_NODE.id, {\n                            nodeConfig: { id: (_c = target === null || target === void 0 ? void 0 : target.data) === null || _c === void 0 ? void 0 : _c.id },\n                        });\n                    }\n                    return [2 /*return*/];\n                });\n            });\n        },\n    };\n    NsMenuItemConfig.EMPTY_MENU = {\n        id: 'EMPTY_MENU_ITEM',\n        label: '暂无可用',\n        isEnabled: false,\n        iconName: 'DeleteOutlined',\n    };\n    NsMenuItemConfig.SEPARATOR = {\n        id: 'separator',\n        type: MenuItemType.Separator,\n    };\n})(NsMenuItemConfig || (NsMenuItemConfig = {}));\nexport var useMenuConfig = createCtxMenuConfig(function (config) {\n    config.setMenuModelService(function (target, model) { return __awaiter(void 0, void 0, void 0, function () {\n        var type;\n        return __generator(this, function (_a) {\n            if (!target) {\n                return [2 /*return*/];\n            }\n            type = target.type;\n            switch (type) {\n                /** 节点菜单 */\n                case 'node':\n                    model.setValue({\n                        id: 'root',\n                        type: MenuItemType.Root,\n                        submenu: [NsMenuItemConfig.DELETE_NODE],\n                    });\n                    break;\n                /** 边菜单 */\n                case 'edge':\n                    model.setValue({\n                        id: 'root',\n                        type: MenuItemType.Root,\n                        submenu: [NsMenuItemConfig.DELETE_EDGE],\n                    });\n                    break;\n                /** 画布菜单 */\n                case 'blank':\n                    model.setValue({\n                        id: 'root',\n                        type: MenuItemType.Root,\n                        submenu: [NsMenuItemConfig.EMPTY_MENU],\n                    });\n                    break;\n                /** 默认菜单 */\n                default:\n                    model.setValue({\n                        id: 'root',\n                        type: MenuItemType.Root,\n                        submenu: [NsMenuItemConfig.EMPTY_MENU],\n                    });\n                    break;\n            }\n            return [2 /*return*/];\n        });\n    }); });\n});\n"]},"metadata":{},"sourceType":"module"}