{"ast":null,"code":"import { ArrayExt } from '../../../util';\nconst OPEN = 1;\nconst CLOSE = 2;\nexport class SortedSet {\n  constructor() {\n    this.items = [];\n    this.hash = {};\n    this.values = {};\n  }\n\n  add(item, value) {\n    if (this.hash[item]) {\n      // item removal\n      this.items.splice(this.items.indexOf(item), 1);\n    } else {\n      this.hash[item] = OPEN;\n    }\n\n    this.values[item] = value;\n    const index = ArrayExt.sortedIndexBy(this.items, item, key => this.values[key]);\n    this.items.splice(index, 0, item);\n  }\n\n  pop() {\n    const item = this.items.shift();\n\n    if (item) {\n      this.hash[item] = CLOSE;\n    }\n\n    return item;\n  }\n\n  isOpen(item) {\n    return this.hash[item] === OPEN;\n  }\n\n  isClose(item) {\n    return this.hash[item] === CLOSE;\n  }\n\n  isEmpty() {\n    return this.items.length === 0;\n  }\n\n}","map":{"version":3,"sources":["../../../../src/registry/router/manhattan/sorted-set.ts"],"names":[],"mappings":"AAAA,SAAS,QAAT,QAAyB,eAAzB;AAEA,MAAM,IAAI,GAAG,CAAb;AACA,MAAM,KAAK,GAAG,CAAd;AAEA,OAAM,MAAO,SAAP,CAAgB;AAKpB,EAAA,WAAA,GAAA;AACE,SAAK,KAAL,GAAa,EAAb;AACA,SAAK,IAAL,GAAY,EAAZ;AACA,SAAK,MAAL,GAAc,EAAd;AACD;;AAED,EAAA,GAAG,CAAC,IAAD,EAAe,KAAf,EAA4B;AAC7B,QAAI,KAAK,IAAL,CAAU,IAAV,CAAJ,EAAqB;AACnB;AACA,WAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,OAAX,CAAmB,IAAnB,CAAlB,EAA4C,CAA5C;AACD,KAHD,MAGO;AACL,WAAK,IAAL,CAAU,IAAV,IAAkB,IAAlB;AACD;;AAED,SAAK,MAAL,CAAY,IAAZ,IAAoB,KAApB;AAEA,UAAM,KAAK,GAAG,QAAQ,CAAC,aAAT,CACZ,KAAK,KADO,EAEZ,IAFY,EAGX,GAAD,IAAS,KAAK,MAAL,CAAY,GAAZ,CAHG,CAAd;AAMA,SAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,EAAyB,CAAzB,EAA4B,IAA5B;AACD;;AAED,EAAA,GAAG,GAAA;AACD,UAAM,IAAI,GAAG,KAAK,KAAL,CAAW,KAAX,EAAb;;AACA,QAAI,IAAJ,EAAU;AACR,WAAK,IAAL,CAAU,IAAV,IAAkB,KAAlB;AACD;;AACD,WAAO,IAAP;AACD;;AAED,EAAA,MAAM,CAAC,IAAD,EAAa;AACjB,WAAO,KAAK,IAAL,CAAU,IAAV,MAAoB,IAA3B;AACD;;AAED,EAAA,OAAO,CAAC,IAAD,EAAa;AAClB,WAAO,KAAK,IAAL,CAAU,IAAV,MAAoB,KAA3B;AACD;;AAED,EAAA,OAAO,GAAA;AACL,WAAO,KAAK,KAAL,CAAW,MAAX,KAAsB,CAA7B;AACD;;AAhDmB","sourceRoot":"","sourcesContent":["import { ArrayExt } from '../../../util';\nconst OPEN = 1;\nconst CLOSE = 2;\nexport class SortedSet {\n    constructor() {\n        this.items = [];\n        this.hash = {};\n        this.values = {};\n    }\n    add(item, value) {\n        if (this.hash[item]) {\n            // item removal\n            this.items.splice(this.items.indexOf(item), 1);\n        }\n        else {\n            this.hash[item] = OPEN;\n        }\n        this.values[item] = value;\n        const index = ArrayExt.sortedIndexBy(this.items, item, (key) => this.values[key]);\n        this.items.splice(index, 0, item);\n    }\n    pop() {\n        const item = this.items.shift();\n        if (item) {\n            this.hash[item] = CLOSE;\n        }\n        return item;\n    }\n    isOpen(item) {\n        return this.hash[item] === OPEN;\n    }\n    isClose(item) {\n        return this.hash[item] === CLOSE;\n    }\n    isEmpty() {\n        return this.items.length === 0;\n    }\n}\n//# sourceMappingURL=sorted-set.js.map"]},"metadata":{},"sourceType":"module"}