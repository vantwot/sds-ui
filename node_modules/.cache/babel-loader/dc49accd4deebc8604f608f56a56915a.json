{"ast":null,"code":"export var requestAnimationFrame = function () {\n  var raf;\n  var win = window;\n\n  if (win != null) {\n    raf = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame;\n\n    if (raf != null) {\n      raf = raf.bind(win);\n    }\n  }\n\n  if (raf == null) {\n    var lastTime = 0;\n\n    raf = function raf(callback) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = setTimeout(function () {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  return raf;\n}();\nexport var cancelAnimationFrame = function () {\n  var caf;\n  var win = window;\n\n  if (win != null) {\n    caf = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.webkitCancelRequestAnimationFrame || win.msCancelAnimationFrame || win.msCancelRequestAnimationFrame || win.oCancelAnimationFrame || win.oCancelRequestAnimationFrame || win.mozCancelAnimationFrame || win.mozCancelRequestAnimationFrame;\n\n    if (caf) {\n      caf = caf.bind(win);\n    }\n  }\n\n  if (caf == null) {\n    caf = clearTimeout;\n  }\n\n  return caf;\n}();","map":{"version":3,"sources":["../../../src/util/dom/af.ts"],"names":[],"mappings":"AAAA,OAAO,IAAM,qBAAqB,GAAI,YAAA;AACpC,MAAI,GAAJ;AAEA,MAAM,GAAG,GAAG,MAAZ;;AACA,MAAI,GAAG,IAAI,IAAX,EAAiB;AACf,IAAA,GAAG,GACD,GAAG,CAAC,qBAAJ,IACA,GAAG,CAAC,2BADJ,IAEA,GAAG,CAAC,wBAFJ,IAGA,GAAG,CAAC,sBAHJ,IAIA,GAAG,CAAC,uBALN;;AAOA,QAAI,GAAG,IAAI,IAAX,EAAiB;AACf,MAAA,GAAG,GAAG,GAAG,CAAC,IAAJ,CAAS,GAAT,CAAN;AACD;AACF;;AAED,MAAI,GAAG,IAAI,IAAX,EAAiB;AACf,QAAI,QAAQ,GAAG,CAAf;;AAEA,IAAA,GAAG,GAAG,aAAC,QAAD,EAAmC;AACvC,UAAM,QAAQ,GAAG,IAAI,IAAJ,GAAW,OAAX,EAAjB;AACA,UAAM,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,MAAM,QAAQ,GAAG,QAAjB,CAAZ,CAAnB;AACA,UAAM,EAAE,GAAG,UAAU,CAAC,YAAK;AACzB,QAAA,QAAQ,CAAC,QAAQ,GAAG,UAAZ,CAAR;AACD,OAFoB,EAElB,UAFkB,CAArB;AAIA,MAAA,QAAQ,GAAG,QAAQ,GAAG,UAAtB;AAEA,aAAO,EAAP;AACD,KAVD;AAWD;;AAED,SAAO,GAAP;AACD,CAlCoC,EAA9B;AAoCP,OAAO,IAAM,oBAAoB,GAAI,YAAA;AACnC,MAAI,GAAJ;AAEA,MAAM,GAAG,GAAG,MAAZ;;AACA,MAAI,GAAG,IAAI,IAAX,EAAiB;AACf,IAAA,GAAG,GACD,GAAG,CAAC,oBAAJ,IACA,GAAG,CAAC,0BADJ,IAEA,GAAG,CAAC,iCAFJ,IAGA,GAAG,CAAC,sBAHJ,IAIA,GAAG,CAAC,6BAJJ,IAKA,GAAG,CAAC,qBALJ,IAMA,GAAG,CAAC,4BANJ,IAOA,GAAG,CAAC,uBAPJ,IAQA,GAAG,CAAC,8BATN;;AAWA,QAAI,GAAJ,EAAS;AACP,MAAA,GAAG,GAAG,GAAG,CAAC,IAAJ,CAAS,GAAT,CAAN;AACD;AACF;;AAED,MAAI,GAAG,IAAI,IAAX,EAAiB;AACf,IAAA,GAAG,GAAG,YAAN;AACD;;AAED,SAAO,GAAP;AACD,CA1BmC,EAA7B","sourceRoot":"","sourcesContent":["export const requestAnimationFrame = (function () {\n    let raf;\n    const win = window;\n    if (win != null) {\n        raf =\n            win.requestAnimationFrame ||\n                win.webkitRequestAnimationFrame ||\n                win.mozRequestAnimationFrame ||\n                win.oRequestAnimationFrame ||\n                win.msRequestAnimationFrame;\n        if (raf != null) {\n            raf = raf.bind(win);\n        }\n    }\n    if (raf == null) {\n        let lastTime = 0;\n        raf = (callback) => {\n            const currTime = new Date().getTime();\n            const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            const id = setTimeout(() => {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n    return raf;\n})();\nexport const cancelAnimationFrame = (function () {\n    let caf;\n    const win = window;\n    if (win != null) {\n        caf =\n            win.cancelAnimationFrame ||\n                win.webkitCancelAnimationFrame ||\n                win.webkitCancelRequestAnimationFrame ||\n                win.msCancelAnimationFrame ||\n                win.msCancelRequestAnimationFrame ||\n                win.oCancelAnimationFrame ||\n                win.oCancelRequestAnimationFrame ||\n                win.mozCancelAnimationFrame ||\n                win.mozCancelRequestAnimationFrame;\n        if (caf) {\n            caf = caf.bind(win);\n        }\n    }\n    if (caf == null) {\n        caf = clearTimeout;\n    }\n    return caf;\n})();\n//# sourceMappingURL=af.js.map"]},"metadata":{},"sourceType":"module"}