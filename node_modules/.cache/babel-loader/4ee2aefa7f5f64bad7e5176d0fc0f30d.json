{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport { useXFlowApp } from '@antv/xflow-core';\nimport { ToolbarConfig } from './config';\nimport { XFlowToolbar } from './render-components';\nexport var CanvasToolbar = function (props) {\n  var app = useXFlowApp();\n  var hasApp = !!app;\n  /** 获取ContextMenu的配置 */\n\n  var contextMenuConfig = React.useMemo(function () {\n    return props.config ? props.config : new ToolbarConfig();\n  }, [props.config]);\n\n  if (!hasApp) {\n    return null;\n  }\n\n  return React.createElement(XFlowToolbar, __assign({}, props, {\n    config: contextMenuConfig\n  }));\n};\nexport var createToolbarConfig = function (addOptions) {\n  return function (value) {\n    /** bridge config and value */\n    var proxy = React.useMemo(function () {\n      return {\n        getValue: function () {\n          return {};\n        }\n      };\n    }, []);\n\n    proxy.getValue = function () {\n      return value;\n    };\n    /** 生成config */\n\n\n    var toolbarConfig = React.useMemo(function () {\n      var config = new ToolbarConfig();\n      addOptions(config, proxy);\n      return config;\n    }, [proxy]);\n    return toolbarConfig;\n  };\n};","map":{"version":3,"sources":["/home/manolo/sds-ui/node_modules/@ant-design/flowchart/es/components/canvas-toolbar/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useXFlowApp","ToolbarConfig","XFlowToolbar","CanvasToolbar","props","app","hasApp","contextMenuConfig","useMemo","config","createElement","createToolbarConfig","addOptions","value","proxy","getValue","toolbarConfig"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACP;;AACD,WAAON,CAAP;AACH,GAPD;;AAQA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CAVD;;AAWA,OAAOO,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,QAA8B,UAA9B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,IAAIC,aAAa,GAAG,UAAUC,KAAV,EAAiB;AACxC,MAAIC,GAAG,GAAGL,WAAW,EAArB;AACA,MAAIM,MAAM,GAAG,CAAC,CAACD,GAAf;AACA;;AACA,MAAIE,iBAAiB,GAAGR,KAAK,CAACS,OAAN,CAAc,YAAY;AAAE,WAAQJ,KAAK,CAACK,MAAN,GAAeL,KAAK,CAACK,MAArB,GAA8B,IAAIR,aAAJ,EAAtC;AAA6D,GAAzF,EAA2F,CAACG,KAAK,CAACK,MAAP,CAA3F,CAAxB;;AACA,MAAI,CAACH,MAAL,EAAa;AACT,WAAO,IAAP;AACH;;AACD,SAAOP,KAAK,CAACW,aAAN,CAAoBR,YAApB,EAAkCjB,QAAQ,CAAC,EAAD,EAAKmB,KAAL,EAAY;AAAEK,IAAAA,MAAM,EAAEF;AAAV,GAAZ,CAA1C,CAAP;AACH,CATM;AAUP,OAAO,IAAII,mBAAmB,GAAG,UAAUC,UAAV,EAAsB;AACnD,SAAO,UAAUC,KAAV,EAAiB;AACpB;AACA,QAAIC,KAAK,GAAGf,KAAK,CAACS,OAAN,CAAc,YAAY;AAAE,aAAQ;AAAEO,QAAAA,QAAQ,EAAE,YAAY;AAAE,iBAAQ,EAAR;AAAc;AAAxC,OAAR;AAAsD,KAAlF,EAAoF,EAApF,CAAZ;;AACAD,IAAAA,KAAK,CAACC,QAAN,GAAiB,YAAY;AAAE,aAAOF,KAAP;AAAe,KAA9C;AACA;;;AACA,QAAIG,aAAa,GAAGjB,KAAK,CAACS,OAAN,CAAc,YAAY;AAC1C,UAAIC,MAAM,GAAG,IAAIR,aAAJ,EAAb;AACAW,MAAAA,UAAU,CAACH,MAAD,EAASK,KAAT,CAAV;AACA,aAAOL,MAAP;AACH,KAJmB,EAIjB,CAACK,KAAD,CAJiB,CAApB;AAKA,WAAOE,aAAP;AACH,GAXD;AAYH,CAbM","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useXFlowApp } from '@antv/xflow-core';\nimport { ToolbarConfig } from './config';\nimport { XFlowToolbar } from './render-components';\nexport var CanvasToolbar = function (props) {\n    var app = useXFlowApp();\n    var hasApp = !!app;\n    /** 获取ContextMenu的配置 */\n    var contextMenuConfig = React.useMemo(function () { return (props.config ? props.config : new ToolbarConfig()); }, [props.config]);\n    if (!hasApp) {\n        return null;\n    }\n    return React.createElement(XFlowToolbar, __assign({}, props, { config: contextMenuConfig }));\n};\nexport var createToolbarConfig = function (addOptions) {\n    return function (value) {\n        /** bridge config and value */\n        var proxy = React.useMemo(function () { return ({ getValue: function () { return ({}); } }); }, []);\n        proxy.getValue = function () { return value; };\n        /** 生成config */\n        var toolbarConfig = React.useMemo(function () {\n            var config = new ToolbarConfig();\n            addOptions(config, proxy);\n            return config;\n        }, [proxy]);\n        return toolbarConfig;\n    };\n};\n"]},"metadata":{},"sourceType":"module"}