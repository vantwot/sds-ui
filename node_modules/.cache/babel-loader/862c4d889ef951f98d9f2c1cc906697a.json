{"ast":null,"code":"import { Dom, Vector } from '../../util';\nimport { Registry } from '../registry';\nimport * as patterns from './main';\nexport class Grid {\n  constructor() {\n    this.patterns = {};\n    this.root = Vector.create(Dom.createSvgDocument(), {\n      width: '100%',\n      height: '100%'\n    }, [Dom.createSvgElement('defs')]).node;\n  }\n\n  add(id, elem) {\n    const firstChild = this.root.childNodes[0];\n\n    if (firstChild) {\n      firstChild.appendChild(elem);\n    }\n\n    this.patterns[id] = elem;\n    Vector.create('rect', {\n      width: '100%',\n      height: '100%',\n      fill: `url(#${id})`\n    }).appendTo(this.root);\n  }\n\n  get(id) {\n    return this.patterns[id];\n  }\n\n  has(id) {\n    return this.patterns[id] != null;\n  }\n\n}\n\n(function (Grid) {\n  Grid.presets = patterns;\n  Grid.registry = Registry.create({\n    type: 'grid'\n  });\n  Grid.registry.register(Grid.presets, true);\n})(Grid || (Grid = {}));","map":{"version":3,"sources":["../../../src/registry/grid/index.ts"],"names":[],"mappings":"AAAA,SAAS,GAAT,EAAc,MAAd,QAA4B,YAA5B;AAEA,SAAS,QAAT,QAAyB,aAAzB;AACA,OAAO,KAAK,QAAZ,MAA0B,QAA1B;AAEA,OAAM,MAAO,IAAP,CAAW;AAIf,EAAA,WAAA,GAAA;AACE,SAAK,QAAL,GAAgB,EAAhB;AACA,SAAK,IAAL,GAAY,MAAM,CAAC,MAAP,CACV,GAAG,CAAC,iBAAJ,EADU,EAEV;AACE,MAAA,KAAK,EAAE,MADT;AAEE,MAAA,MAAM,EAAE;AAFV,KAFU,EAMV,CAAC,GAAG,CAAC,gBAAJ,CAAqB,MAArB,CAAD,CANU,EAOV,IAPF;AAQD;;AAED,EAAA,GAAG,CAAC,EAAD,EAAa,IAAb,EAA0B;AAC3B,UAAM,UAAU,GAAG,KAAK,IAAL,CAAU,UAAV,CAAqB,CAArB,CAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,MAAA,UAAU,CAAC,WAAX,CAAuB,IAAvB;AACD;;AAED,SAAK,QAAL,CAAc,EAAd,IAAoB,IAApB;AAEA,IAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB;AACpB,MAAA,KAAK,EAAE,MADa;AAEpB,MAAA,MAAM,EAAE,MAFY;AAGpB,MAAA,IAAI,EAAE,QAAQ,EAAE;AAHI,KAAtB,EAIG,QAJH,CAIY,KAAK,IAJjB;AAKD;;AAED,EAAA,GAAG,CAAC,EAAD,EAAW;AACZ,WAAO,KAAK,QAAL,CAAc,EAAd,CAAP;AACD;;AAED,EAAA,GAAG,CAAC,EAAD,EAAW;AACZ,WAAO,KAAK,QAAL,CAAc,EAAd,KAAqB,IAA5B;AACD;;AArCc;;AAmEjB,CAAA,UAAiB,IAAjB,EAAqB;AACN,EAAA,IAAA,CAAA,OAAA,GAAU,QAAV;AACA,EAAA,IAAA,CAAA,QAAA,GAAW,QAAQ,CAAC,MAAT,CAA2C;AACjE,IAAA,IAAI,EAAE;AAD2D,GAA3C,CAAX;AAIb,EAAA,IAAA,CAAA,QAAA,CAAS,QAAT,CAAkB,IAAA,CAAA,OAAlB,EAA2B,IAA3B;AACD,CAPD,EAAiB,IAAI,KAAJ,IAAI,GAAA,EAAA,CAArB","sourceRoot":"","sourcesContent":["import { Dom, Vector } from '../../util';\nimport { Registry } from '../registry';\nimport * as patterns from './main';\nexport class Grid {\n    constructor() {\n        this.patterns = {};\n        this.root = Vector.create(Dom.createSvgDocument(), {\n            width: '100%',\n            height: '100%',\n        }, [Dom.createSvgElement('defs')]).node;\n    }\n    add(id, elem) {\n        const firstChild = this.root.childNodes[0];\n        if (firstChild) {\n            firstChild.appendChild(elem);\n        }\n        this.patterns[id] = elem;\n        Vector.create('rect', {\n            width: '100%',\n            height: '100%',\n            fill: `url(#${id})`,\n        }).appendTo(this.root);\n    }\n    get(id) {\n        return this.patterns[id];\n    }\n    has(id) {\n        return this.patterns[id] != null;\n    }\n}\n(function (Grid) {\n    Grid.presets = patterns;\n    Grid.registry = Registry.create({\n        type: 'grid',\n    });\n    Grid.registry.register(Grid.presets, true);\n})(Grid || (Grid = {}));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}