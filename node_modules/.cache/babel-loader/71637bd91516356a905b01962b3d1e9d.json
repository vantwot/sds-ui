{"ast":null,"code":"import 'reflect-metadata';\n/** Application 扩展依赖 */\n\nimport { HookConfig } from './config';\nimport { HookRegistry } from './hook-registry';\nimport { Contribution, Module } from 'mana-syringe';\nimport { RuntimeContribution } from './contributions/default';\nimport { GraphEventContribution } from './contributions/graph';\nimport { IHookContribution } from './interface';\n/** 依赖扩展模块，必须要加载 */\n\nconst createModule = config => {\n  return Module(register => {\n    /** 注册 IGraphHookContribution 成为一个新扩展点 */\n    Contribution.register(register, IHookContribution);\n    /** 扩展 runtime hook */\n\n    register(RuntimeContribution);\n    /** 扩展 graph event hook */\n\n    register(GraphEventContribution);\n    /** 注册 HookRegistry 到 IFrontendApplicationContribution */\n\n    /** 注册 HookRegistry */\n\n    register(HookRegistry);\n    /** 注册 XFlowHookConfig */\n\n    register(HookConfig, {\n      useValue: config\n    });\n  });\n};\n\nexport { HookRegistry, createModule, IHookContribution, HookConfig as XFlowHookConfig };","map":{"version":3,"sources":["../../src/hooks/module.ts"],"names":[],"mappings":"AAAA,OAAO,kBAAP;AACA;;AACA,SAAS,UAAT,QAA2B,UAA3B;AACA,SAAS,YAAT,QAA6B,iBAA7B;AACA,SAAS,YAAT,EAAuB,MAAvB,QAAqC,cAArC;AACA,SAAS,mBAAT,QAAoC,yBAApC;AACA,SAAS,sBAAT,QAAuC,uBAAvC;AACA,SAAS,iBAAT,QAAkC,aAAlC;AAEA;;AACA,MAAM,YAAY,GAAI,MAAD,IAAuB;AAC1C,SAAO,MAAM,CAAC,QAAQ,IAAG;AACvB;AACA,IAAA,YAAY,CAAC,QAAb,CAAsB,QAAtB,EAAgC,iBAAhC;AACA;;AACA,IAAA,QAAQ,CAAC,mBAAD,CAAR;AACA;;AACA,IAAA,QAAQ,CAAC,sBAAD,CAAR;AACA;;AACA;;AACA,IAAA,QAAQ,CAAC,YAAD,CAAR;AACA;;AACA,IAAA,QAAQ,CAAC,UAAD,EAAa;AAAE,MAAA,QAAQ,EAAE;AAAZ,KAAb,CAAR;AACD,GAZY,CAAb;AAaD,CAdD;;AAgBA,SAAS,YAAT,EAAuB,YAAvB,EAAqC,iBAArC,EAAwD,UAAU,IAAI,eAAtE","sourceRoot":"","sourcesContent":["import 'reflect-metadata';\n/** Application 扩展依赖 */\nimport { HookConfig } from './config';\nimport { HookRegistry } from './hook-registry';\nimport { Contribution, Module } from 'mana-syringe';\nimport { RuntimeContribution } from './contributions/default';\nimport { GraphEventContribution } from './contributions/graph';\nimport { IHookContribution } from './interface';\n/** 依赖扩展模块，必须要加载 */\nconst createModule = (config) => {\n    return Module(register => {\n        /** 注册 IGraphHookContribution 成为一个新扩展点 */\n        Contribution.register(register, IHookContribution);\n        /** 扩展 runtime hook */\n        register(RuntimeContribution);\n        /** 扩展 graph event hook */\n        register(GraphEventContribution);\n        /** 注册 HookRegistry 到 IFrontendApplicationContribution */\n        /** 注册 HookRegistry */\n        register(HookRegistry);\n        /** 注册 XFlowHookConfig */\n        register(HookConfig, { useValue: config });\n    });\n};\nexport { HookRegistry, createModule, IHookContribution, HookConfig as XFlowHookConfig };\n//# sourceMappingURL=module.js.map"]},"metadata":{},"sourceType":"module"}