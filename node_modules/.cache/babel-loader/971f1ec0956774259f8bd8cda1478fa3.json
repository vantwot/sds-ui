{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/** existModel的Utils */\n\n\nexport const isModelExistUtil = token => modelService => {\n  const defer = modelService.findDeferredModel(token);\n  return defer && defer.promise ? true : false;\n};\n/** useModel的Utils */\n\nexport const getModelUtil = token => modelService => __awaiter(void 0, void 0, void 0, function* () {\n  return yield modelService.awaitModel(token);\n});\n/** useModel的Utils */\n\nexport const useModelValueUtil = token => modelService => __awaiter(void 0, void 0, void 0, function* () {\n  const model = yield modelService.awaitModel(token);\n  return model.getValidValue();\n});\n/** 画布是否已开启多选 */\n\nexport var GRAPH_ENABLE_MULTI_SELECT;\n\n(function (GRAPH_ENABLE_MULTI_SELECT) {\n  GRAPH_ENABLE_MULTI_SELECT.id = 'GRAPH_ENABLE_MULTI_SELECT';\n  GRAPH_ENABLE_MULTI_SELECT.getModel = getModelUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n  GRAPH_ENABLE_MULTI_SELECT.useValue = useModelValueUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n})(GRAPH_ENABLE_MULTI_SELECT || (GRAPH_ENABLE_MULTI_SELECT = {}));\n/** 画布已选中节点 */\n\n\nexport var IS_NODE_SELECTED;\n\n(function (IS_NODE_SELECTED) {\n  IS_NODE_SELECTED.id = 'IS_NODE_SELECTED';\n  IS_NODE_SELECTED.getModel = getModelUtil(IS_NODE_SELECTED.id);\n  IS_NODE_SELECTED.useValue = useModelValueUtil(IS_NODE_SELECTED.id);\n})(IS_NODE_SELECTED || (IS_NODE_SELECTED = {}));\n/** 画布选中节点是Group */\n\n\nexport var IS_GROUP_SELECTED;\n\n(function (IS_GROUP_SELECTED) {\n  IS_GROUP_SELECTED.id = 'IS_GROUP_SELECTED';\n  IS_GROUP_SELECTED.getModel = getModelUtil(IS_GROUP_SELECTED.id);\n  IS_GROUP_SELECTED.useValue = useModelValueUtil(IS_GROUP_SELECTED.id);\n})(IS_GROUP_SELECTED || (IS_GROUP_SELECTED = {}));\n/** 画布选中节点是Group */\n\n\nexport var IS_NORMAL_NODES_SELECTED;\n\n(function (IS_NORMAL_NODES_SELECTED) {\n  IS_NORMAL_NODES_SELECTED.id = 'IS_NORMAL_NODES_SELECTED';\n  IS_NORMAL_NODES_SELECTED.getModel = getModelUtil(IS_NORMAL_NODES_SELECTED.id);\n  IS_NORMAL_NODES_SELECTED.useValue = useModelValueUtil(IS_NORMAL_NODES_SELECTED.id);\n})(IS_NORMAL_NODES_SELECTED || (IS_NORMAL_NODES_SELECTED = {}));\n/** 画布选中Cell状态，保存最后一个选中的节点 */\n\n\nexport var SELECTED_CELL;\n\n(function (SELECTED_CELL) {\n  SELECTED_CELL.id = 'LAST_SELECTED_CELL';\n  SELECTED_CELL.getModel = getModelUtil(SELECTED_CELL.id);\n  SELECTED_CELL.useValue = useModelValueUtil(SELECTED_CELL.id);\n})(SELECTED_CELL || (SELECTED_CELL = {}));\n/** 画布选中CellS状态 */\n\n\nexport var SELECTED_CELLS;\n\n(function (SELECTED_CELLS) {\n  SELECTED_CELLS.id = 'SELECTED_CELLS';\n  SELECTED_CELLS.getModel = getModelUtil(SELECTED_CELLS.id);\n  SELECTED_CELLS.useValue = useModelValueUtil(SELECTED_CELLS.id);\n})(SELECTED_CELLS || (SELECTED_CELLS = {}));\n/** 画布选中节点状态， 如有多个节点则保存最后一个选中的节点 */\n\n\nexport var SELECTED_NODE;\n\n(function (SELECTED_NODE) {\n  SELECTED_NODE.id = 'LAST_SELECTED_NODE';\n  SELECTED_NODE.getModel = getModelUtil(SELECTED_NODE.id);\n  SELECTED_NODE.useValue = useModelValueUtil(SELECTED_NODE.id);\n})(SELECTED_NODE || (SELECTED_NODE = {}));\n/** 画布选中节点状态 */\n\n\nexport var SELECTED_NODES;\n\n(function (SELECTED_NODES) {\n  SELECTED_NODES.id = 'SELECTED_NODES';\n  SELECTED_NODES.getModel = getModelUtil(SELECTED_NODES.id);\n  SELECTED_NODES.useValue = useModelValueUtil(SELECTED_NODES.id);\n})(SELECTED_NODES || (SELECTED_NODES = {}));\n/** 画布选中边状态 */\n\n\nexport var SELECTED_EDGES;\n\n(function (SELECTED_EDGES) {\n  SELECTED_EDGES.id = 'SELECTED_EDGES';\n  SELECTED_EDGES.getModel = getModelUtil(SELECTED_EDGES.id);\n  SELECTED_EDGES.useValue = useModelValueUtil(SELECTED_EDGES.id);\n})(SELECTED_EDGES || (SELECTED_EDGES = {}));\n/** 画布选中GROUP List */\n\n\nexport var SELECTED_GROUPS;\n\n(function (SELECTED_GROUPS) {\n  SELECTED_GROUPS.id = 'SELECTED_GROUPS';\n  SELECTED_GROUPS.getModel = getModelUtil(SELECTED_GROUPS.id);\n  SELECTED_GROUPS.useValue = useModelValueUtil(SELECTED_GROUPS.id);\n})(SELECTED_GROUPS || (SELECTED_GROUPS = {}));\n/** 画布节点右键菜单状态 */\n\n\nexport var CONTEXTMENU_NODE;\n\n(function (CONTEXTMENU_NODE) {\n  CONTEXTMENU_NODE.id = 'CONTEXTMENU_NODE';\n  CONTEXTMENU_NODE.getModel = getModelUtil(CONTEXTMENU_NODE.id);\n  CONTEXTMENU_NODE.useValue = useModelValueUtil(CONTEXTMENU_NODE.id);\n})(CONTEXTMENU_NODE || (CONTEXTMENU_NODE = {}));\n/** 画布边右键菜单状态 */\n\n\nexport var CONTEXTMENU_EDGE;\n\n(function (CONTEXTMENU_EDGE) {\n  CONTEXTMENU_EDGE.id = 'CONTEXTMENU_EDGE';\n  CONTEXTMENU_EDGE.getModel = getModelUtil(CONTEXTMENU_EDGE.id);\n  CONTEXTMENU_EDGE.useValue = useModelValueUtil(CONTEXTMENU_EDGE.id);\n})(CONTEXTMENU_EDGE || (CONTEXTMENU_EDGE = {}));\n/** 画布右键菜单状态 */\n\n\nexport var CONTEXTMENU_TARGET;\n\n(function (CONTEXTMENU_TARGET) {\n  CONTEXTMENU_TARGET.id = 'CONTEXTMENU_TARGET';\n  CONTEXTMENU_TARGET.getModel = getModelUtil(CONTEXTMENU_TARGET.id);\n  CONTEXTMENU_TARGET.useValue = useModelValueUtil(CONTEXTMENU_TARGET.id);\n})(CONTEXTMENU_TARGET || (CONTEXTMENU_TARGET = {}));\n/** 画布元数据状态 */\n\n\nexport var GRAPH_META;\n\n(function (GRAPH_META) {\n  GRAPH_META.id = 'GRAPH_META';\n  GRAPH_META.getModel = getModelUtil(GRAPH_META.id);\n  GRAPH_META.useValue = useModelValueUtil(GRAPH_META.id);\n})(GRAPH_META || (GRAPH_META = {}));\n/** 画布缩放状态 */\n\n\nexport var GRAPH_SCALE;\n\n(function (GRAPH_SCALE) {\n  GRAPH_SCALE.id = 'GRAPH_SCALE';\n  GRAPH_SCALE.getModel = getModelUtil(GRAPH_SCALE.id);\n  GRAPH_SCALE.useValue = useModelValueUtil(GRAPH_SCALE.id);\n})(GRAPH_SCALE || (GRAPH_SCALE = {}));\n/** COMMAND REDO STACK的状态*/\n\n\nexport var COMMAND_REDOABLE;\n\n(function (COMMAND_REDOABLE) {\n  COMMAND_REDOABLE.id = 'COMMAND_REDOABLE';\n  COMMAND_REDOABLE.getModel = getModelUtil(COMMAND_REDOABLE.id);\n  COMMAND_REDOABLE.useValue = useModelValueUtil(COMMAND_REDOABLE.id);\n})(COMMAND_REDOABLE || (COMMAND_REDOABLE = {}));\n/** COMMAND UNDO STACK的状态*/\n\n\nexport var COMMAND_UNDOABLE;\n\n(function (COMMAND_UNDOABLE) {\n  COMMAND_UNDOABLE.id = 'COMMAND_UNDOABLE';\n  COMMAND_UNDOABLE.getModel = getModelUtil(COMMAND_UNDOABLE.id);\n  COMMAND_UNDOABLE.useValue = useModelValueUtil(COMMAND_UNDOABLE.id);\n})(COMMAND_UNDOABLE || (COMMAND_UNDOABLE = {}));\n/** COMMAND 执行结果的状态*/\n\n\nexport var COMMAND_GLOBALS;\n\n(function (COMMAND_GLOBALS) {\n  COMMAND_GLOBALS.id = 'COMMAND_GLOBALS';\n  COMMAND_GLOBALS.getModel = getModelUtil(COMMAND_GLOBALS.id);\n  COMMAND_GLOBALS.useValue = useModelValueUtil(COMMAND_GLOBALS.id);\n})(COMMAND_GLOBALS || (COMMAND_GLOBALS = {}));\n/** History Undo Redo */\n\n\nexport var HISTORY_UNDOABLE;\n\n(function (HISTORY_UNDOABLE) {\n  HISTORY_UNDOABLE.id = 'HISTORY_UNDOABLE';\n  HISTORY_UNDOABLE.getModel = getModelUtil(HISTORY_UNDOABLE.id);\n  HISTORY_UNDOABLE.useValue = useModelValueUtil(HISTORY_UNDOABLE.id);\n})(HISTORY_UNDOABLE || (HISTORY_UNDOABLE = {}));\n\nexport var HISTORY_REDOABLE;\n\n(function (HISTORY_REDOABLE) {\n  HISTORY_REDOABLE.id = 'HISTORY_REDOABLE';\n  HISTORY_REDOABLE.getModel = getModelUtil(HISTORY_REDOABLE.id);\n  HISTORY_REDOABLE.useValue = useModelValueUtil(HISTORY_REDOABLE.id);\n})(HISTORY_REDOABLE || (HISTORY_REDOABLE = {}));","map":{"version":3,"sources":["../../src/model-service/constant.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** existModel的Utils */\nexport const isModelExistUtil = (token) => (modelService) => {\n    const defer = modelService.findDeferredModel(token);\n    return defer && defer.promise ? true : false;\n};\n/** useModel的Utils */\nexport const getModelUtil = (token) => (modelService) => __awaiter(void 0, void 0, void 0, function* () {\n    return yield modelService.awaitModel(token);\n});\n/** useModel的Utils */\nexport const useModelValueUtil = (token) => (modelService) => __awaiter(void 0, void 0, void 0, function* () {\n    const model = yield modelService.awaitModel(token);\n    return model.getValidValue();\n});\n/** 画布是否已开启多选 */\nexport var GRAPH_ENABLE_MULTI_SELECT;\n(function (GRAPH_ENABLE_MULTI_SELECT) {\n    GRAPH_ENABLE_MULTI_SELECT.id = 'GRAPH_ENABLE_MULTI_SELECT';\n    GRAPH_ENABLE_MULTI_SELECT.getModel = getModelUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n    GRAPH_ENABLE_MULTI_SELECT.useValue = useModelValueUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n})(GRAPH_ENABLE_MULTI_SELECT || (GRAPH_ENABLE_MULTI_SELECT = {}));\n/** 画布已选中节点 */\nexport var IS_NODE_SELECTED;\n(function (IS_NODE_SELECTED) {\n    IS_NODE_SELECTED.id = 'IS_NODE_SELECTED';\n    IS_NODE_SELECTED.getModel = getModelUtil(IS_NODE_SELECTED.id);\n    IS_NODE_SELECTED.useValue = useModelValueUtil(IS_NODE_SELECTED.id);\n})(IS_NODE_SELECTED || (IS_NODE_SELECTED = {}));\n/** 画布选中节点是Group */\nexport var IS_GROUP_SELECTED;\n(function (IS_GROUP_SELECTED) {\n    IS_GROUP_SELECTED.id = 'IS_GROUP_SELECTED';\n    IS_GROUP_SELECTED.getModel = getModelUtil(IS_GROUP_SELECTED.id);\n    IS_GROUP_SELECTED.useValue = useModelValueUtil(IS_GROUP_SELECTED.id);\n})(IS_GROUP_SELECTED || (IS_GROUP_SELECTED = {}));\n/** 画布选中节点是Group */\nexport var IS_NORMAL_NODES_SELECTED;\n(function (IS_NORMAL_NODES_SELECTED) {\n    IS_NORMAL_NODES_SELECTED.id = 'IS_NORMAL_NODES_SELECTED';\n    IS_NORMAL_NODES_SELECTED.getModel = getModelUtil(IS_NORMAL_NODES_SELECTED.id);\n    IS_NORMAL_NODES_SELECTED.useValue = useModelValueUtil(IS_NORMAL_NODES_SELECTED.id);\n})(IS_NORMAL_NODES_SELECTED || (IS_NORMAL_NODES_SELECTED = {}));\n/** 画布选中Cell状态，保存最后一个选中的节点 */\nexport var SELECTED_CELL;\n(function (SELECTED_CELL) {\n    SELECTED_CELL.id = 'LAST_SELECTED_CELL';\n    SELECTED_CELL.getModel = getModelUtil(SELECTED_CELL.id);\n    SELECTED_CELL.useValue = useModelValueUtil(SELECTED_CELL.id);\n})(SELECTED_CELL || (SELECTED_CELL = {}));\n/** 画布选中CellS状态 */\nexport var SELECTED_CELLS;\n(function (SELECTED_CELLS) {\n    SELECTED_CELLS.id = 'SELECTED_CELLS';\n    SELECTED_CELLS.getModel = getModelUtil(SELECTED_CELLS.id);\n    SELECTED_CELLS.useValue = useModelValueUtil(SELECTED_CELLS.id);\n})(SELECTED_CELLS || (SELECTED_CELLS = {}));\n/** 画布选中节点状态， 如有多个节点则保存最后一个选中的节点 */\nexport var SELECTED_NODE;\n(function (SELECTED_NODE) {\n    SELECTED_NODE.id = 'LAST_SELECTED_NODE';\n    SELECTED_NODE.getModel = getModelUtil(SELECTED_NODE.id);\n    SELECTED_NODE.useValue = useModelValueUtil(SELECTED_NODE.id);\n})(SELECTED_NODE || (SELECTED_NODE = {}));\n/** 画布选中节点状态 */\nexport var SELECTED_NODES;\n(function (SELECTED_NODES) {\n    SELECTED_NODES.id = 'SELECTED_NODES';\n    SELECTED_NODES.getModel = getModelUtil(SELECTED_NODES.id);\n    SELECTED_NODES.useValue = useModelValueUtil(SELECTED_NODES.id);\n})(SELECTED_NODES || (SELECTED_NODES = {}));\n/** 画布选中边状态 */\nexport var SELECTED_EDGES;\n(function (SELECTED_EDGES) {\n    SELECTED_EDGES.id = 'SELECTED_EDGES';\n    SELECTED_EDGES.getModel = getModelUtil(SELECTED_EDGES.id);\n    SELECTED_EDGES.useValue = useModelValueUtil(SELECTED_EDGES.id);\n})(SELECTED_EDGES || (SELECTED_EDGES = {}));\n/** 画布选中GROUP List */\nexport var SELECTED_GROUPS;\n(function (SELECTED_GROUPS) {\n    SELECTED_GROUPS.id = 'SELECTED_GROUPS';\n    SELECTED_GROUPS.getModel = getModelUtil(SELECTED_GROUPS.id);\n    SELECTED_GROUPS.useValue = useModelValueUtil(SELECTED_GROUPS.id);\n})(SELECTED_GROUPS || (SELECTED_GROUPS = {}));\n/** 画布节点右键菜单状态 */\nexport var CONTEXTMENU_NODE;\n(function (CONTEXTMENU_NODE) {\n    CONTEXTMENU_NODE.id = 'CONTEXTMENU_NODE';\n    CONTEXTMENU_NODE.getModel = getModelUtil(CONTEXTMENU_NODE.id);\n    CONTEXTMENU_NODE.useValue = useModelValueUtil(CONTEXTMENU_NODE.id);\n})(CONTEXTMENU_NODE || (CONTEXTMENU_NODE = {}));\n/** 画布边右键菜单状态 */\nexport var CONTEXTMENU_EDGE;\n(function (CONTEXTMENU_EDGE) {\n    CONTEXTMENU_EDGE.id = 'CONTEXTMENU_EDGE';\n    CONTEXTMENU_EDGE.getModel = getModelUtil(CONTEXTMENU_EDGE.id);\n    CONTEXTMENU_EDGE.useValue = useModelValueUtil(CONTEXTMENU_EDGE.id);\n})(CONTEXTMENU_EDGE || (CONTEXTMENU_EDGE = {}));\n/** 画布右键菜单状态 */\nexport var CONTEXTMENU_TARGET;\n(function (CONTEXTMENU_TARGET) {\n    CONTEXTMENU_TARGET.id = 'CONTEXTMENU_TARGET';\n    CONTEXTMENU_TARGET.getModel = getModelUtil(CONTEXTMENU_TARGET.id);\n    CONTEXTMENU_TARGET.useValue = useModelValueUtil(CONTEXTMENU_TARGET.id);\n})(CONTEXTMENU_TARGET || (CONTEXTMENU_TARGET = {}));\n/** 画布元数据状态 */\nexport var GRAPH_META;\n(function (GRAPH_META) {\n    GRAPH_META.id = 'GRAPH_META';\n    GRAPH_META.getModel = getModelUtil(GRAPH_META.id);\n    GRAPH_META.useValue = useModelValueUtil(GRAPH_META.id);\n})(GRAPH_META || (GRAPH_META = {}));\n/** 画布缩放状态 */\nexport var GRAPH_SCALE;\n(function (GRAPH_SCALE) {\n    GRAPH_SCALE.id = 'GRAPH_SCALE';\n    GRAPH_SCALE.getModel = getModelUtil(GRAPH_SCALE.id);\n    GRAPH_SCALE.useValue = useModelValueUtil(GRAPH_SCALE.id);\n})(GRAPH_SCALE || (GRAPH_SCALE = {}));\n/** COMMAND REDO STACK的状态*/\nexport var COMMAND_REDOABLE;\n(function (COMMAND_REDOABLE) {\n    COMMAND_REDOABLE.id = 'COMMAND_REDOABLE';\n    COMMAND_REDOABLE.getModel = getModelUtil(COMMAND_REDOABLE.id);\n    COMMAND_REDOABLE.useValue = useModelValueUtil(COMMAND_REDOABLE.id);\n})(COMMAND_REDOABLE || (COMMAND_REDOABLE = {}));\n/** COMMAND UNDO STACK的状态*/\nexport var COMMAND_UNDOABLE;\n(function (COMMAND_UNDOABLE) {\n    COMMAND_UNDOABLE.id = 'COMMAND_UNDOABLE';\n    COMMAND_UNDOABLE.getModel = getModelUtil(COMMAND_UNDOABLE.id);\n    COMMAND_UNDOABLE.useValue = useModelValueUtil(COMMAND_UNDOABLE.id);\n})(COMMAND_UNDOABLE || (COMMAND_UNDOABLE = {}));\n/** COMMAND 执行结果的状态*/\nexport var COMMAND_GLOBALS;\n(function (COMMAND_GLOBALS) {\n    COMMAND_GLOBALS.id = 'COMMAND_GLOBALS';\n    COMMAND_GLOBALS.getModel = getModelUtil(COMMAND_GLOBALS.id);\n    COMMAND_GLOBALS.useValue = useModelValueUtil(COMMAND_GLOBALS.id);\n})(COMMAND_GLOBALS || (COMMAND_GLOBALS = {}));\n/** History Undo Redo */\nexport var HISTORY_UNDOABLE;\n(function (HISTORY_UNDOABLE) {\n    HISTORY_UNDOABLE.id = 'HISTORY_UNDOABLE';\n    HISTORY_UNDOABLE.getModel = getModelUtil(HISTORY_UNDOABLE.id);\n    HISTORY_UNDOABLE.useValue = useModelValueUtil(HISTORY_UNDOABLE.id);\n})(HISTORY_UNDOABLE || (HISTORY_UNDOABLE = {}));\nexport var HISTORY_REDOABLE;\n(function (HISTORY_REDOABLE) {\n    HISTORY_REDOABLE.id = 'HISTORY_REDOABLE';\n    HISTORY_REDOABLE.getModel = getModelUtil(HISTORY_REDOABLE.id);\n    HISTORY_REDOABLE.useValue = useModelValueUtil(HISTORY_REDOABLE.id);\n})(HISTORY_REDOABLE || (HISTORY_REDOABLE = {}));\n//# sourceMappingURL=constant.js.map"]},"metadata":{},"sourceType":"module"}