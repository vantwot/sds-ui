{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AreaLayer = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar l7_layers_1 = require(\"@antv/l7-layers\");\n\nvar plot_layer_1 = require(\"../../core/layer/plot-layer\");\n\nvar adaptor_1 = require(\"./adaptor\");\n\nvar helper_1 = require(\"../dot-layer/helper\");\n\nvar DEFAULT_OPTIONS = {\n  visible: true,\n  state: {\n    active: false,\n    select: false\n  },\n  enabledMultiSelect: false\n};\nvar LAYER_OPTIONS_KEYS = ['color', 'style', 'state', 'enabledMultiSelect'];\n\nvar AreaLayer =\n/** @class */\nfunction (_super) {\n  (0, tslib_1.__extends)(AreaLayer, _super);\n\n  function AreaLayer(options) {\n    var _this = _super.call(this, options) || this;\n    /**\n     * 选中数据\n     */\n\n\n    _this.selectData = [];\n    /**\n     * 图层类型\n     */\n\n    _this.type = plot_layer_1.PlotLayer.LayerType.AreaLayer;\n    /**\n     * 图层是否具有交互属性\n     */\n\n    _this.interaction = true;\n\n    _this.onHighlighHandle = function (event) {\n      var feature = event.feature,\n          featureId = event.featureId;\n\n      _this.setHighlightLayerSource(feature, featureId);\n    };\n\n    _this.onUnhighlighHandle = function () {\n      _this.setHighlightLayerSource();\n    };\n\n    _this.onSelectHandle = function (event) {\n      var enabledMultiSelect = _this.options.enabledMultiSelect;\n      var feature = event.feature,\n          featureId = event.featureId;\n      var selectData = (0, util_1.clone)(_this.selectData);\n      var index = selectData.findIndex(function (item) {\n        return item.featureId === featureId;\n      });\n\n      if (index === -1) {\n        if (enabledMultiSelect) {\n          selectData.push({\n            feature: feature,\n            featureId: featureId\n          });\n        } else {\n          selectData = [{\n            feature: feature,\n            featureId: featureId\n          }];\n        }\n\n        _this.emit('select', feature, (0, util_1.clone)(selectData));\n      } else {\n        var unselectFeature = selectData[index];\n\n        if (enabledMultiSelect) {\n          selectData.splice(index, 1);\n        } else {\n          selectData = [];\n        }\n\n        _this.emit('unselect', unselectFeature, (0, util_1.clone)(selectData));\n      }\n\n      _this.setSelectLayerSource(selectData);\n    };\n\n    var _a = _this.options,\n        name = _a.name,\n        source = _a.source,\n        visible = _a.visible,\n        minZoom = _a.minZoom,\n        maxZoom = _a.maxZoom,\n        _b = _a.zIndex,\n        zIndex = _b === void 0 ? 0 : _b;\n\n    var config = _this.pickLayerConfig(_this.options);\n\n    var defaultState = (0, adaptor_1.getDefaultState)(_this.options.state);\n    _this.name = name ? name : (0, util_1.uniqueId)(_this.type);\n    _this.layer = new l7_layers_1.PolygonLayer((0, tslib_1.__assign)((0, tslib_1.__assign)({}, config), {\n      name: _this.name\n    }));\n    _this.strokeLayer = new l7_layers_1.LineLayer({\n      name: 'strokeLayer',\n      visible: visible,\n      zIndex: zIndex,\n      minZoom: minZoom,\n      maxZoom: maxZoom\n    });\n    _this.highlightLayer = new l7_layers_1.LineLayer({\n      name: 'highlightLayer',\n      visible: visible && Boolean(defaultState.active.stroke),\n      zIndex: zIndex + 0.1,\n      minZoom: minZoom,\n      maxZoom: maxZoom\n    });\n    _this.selectFillLayer = new l7_layers_1.PolygonLayer({\n      name: 'selectFillLayer',\n      visible: visible && Boolean(defaultState.select.fill),\n      zIndex: zIndex + 0.1,\n      minZoom: minZoom,\n      maxZoom: maxZoom\n    });\n    _this.selectStrokeLayer = new l7_layers_1.LineLayer({\n      name: 'selectStrokeLayer',\n      visible: visible && Boolean(defaultState.select.stroke),\n      zIndex: zIndex + 0.1,\n      minZoom: minZoom,\n      maxZoom: maxZoom\n    });\n\n    _this.mappingLayer(_this.options);\n\n    _this.setSource(source);\n\n    _this.initEvent();\n\n    return _this;\n  }\n  /**\n   * 获取默认配置\n   */\n\n\n  AreaLayer.prototype.getDefaultOptions = function () {\n    return DEFAULT_OPTIONS;\n  };\n\n  AreaLayer.prototype.mappingLayer = function (options) {\n    (0, adaptor_1.mappingLayer)(this.layer, this.strokeLayer, this.highlightLayer, this.selectFillLayer, this.selectStrokeLayer, options);\n  };\n\n  AreaLayer.prototype.setSource = function (source) {\n    _super.prototype.setSource.call(this, source);\n\n    this.setStrokeLayerSource();\n    this.setHighlightLayerSource();\n    this.selectFillLayer.source({\n      type: 'FeatureCollection',\n      features: []\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectStrokeLayer.source({\n      type: 'FeatureCollection',\n      features: []\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n  };\n\n  AreaLayer.prototype.setStrokeLayerSource = function () {\n    var layerSource = this.layer.getSource();\n\n    if (layerSource) {\n      this.strokeLayer.setSource(layerSource);\n    } else {\n      var _a = this.layer.sourceOption,\n          data = _a.data,\n          options = _a.options;\n      this.strokeLayer.source(data, options);\n    }\n  };\n\n  AreaLayer.prototype.setHighlightLayerSource = function (feature, featureId) {\n    if (featureId === void 0) {\n      featureId = -999;\n    }\n\n    if (this.highlightLayerData === featureId) {\n      return;\n    }\n\n    var features = feature ? [feature] : [];\n    this.highlightLayer.setData({\n      type: 'FeatureCollection',\n      features: features\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.highlightLayerData = featureId;\n  };\n\n  AreaLayer.prototype.setSelectLayerSource = function (selectData) {\n    if (selectData === void 0) {\n      selectData = [];\n    }\n\n    if (this.selectData.length === selectData.length && (0, util_1.isEqual)(this.selectData.map(function (_a) {\n      var featureId = _a.featureId;\n      return featureId;\n    }), selectData.map(function (_a) {\n      var featureId = _a.featureId;\n      return featureId;\n    }))) {\n      return;\n    }\n\n    var features = selectData.map(function (_a) {\n      var feature = _a.feature;\n      return feature;\n    });\n    this.selectFillLayer.setData({\n      type: 'FeatureCollection',\n      features: features\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectStrokeLayer.setData({\n      type: 'FeatureCollection',\n      features: features\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectData = selectData;\n  };\n\n  AreaLayer.prototype.initEvent = function () {\n    this.layer.off('mousemove', this.onHighlighHandle);\n    this.layer.off('unmousemove', this.onHighlighHandle);\n    this.layer.off('click', this.onSelectHandle);\n    this.selectData = [];\n    this.highlightLayerData = null;\n    if (!this.options.state) return; // active\n\n    if (this.options.state.active) {\n      this.layer.on('mousemove', this.onHighlighHandle);\n      this.layer.on('unmousemove', this.onUnhighlighHandle);\n    } // select\n\n\n    if (this.options.state.select) {\n      this.layer.on('click', this.onSelectHandle);\n    }\n  };\n\n  AreaLayer.prototype.addTo = function (scene) {\n    scene.addLayer(this.layer);\n    scene.addLayer(this.strokeLayer);\n    scene.addLayer(this.highlightLayer);\n    scene.addLayer(this.selectFillLayer);\n    scene.addLayer(this.selectStrokeLayer);\n  };\n\n  AreaLayer.prototype.remove = function (scene) {\n    scene.removeLayer(this.layer);\n    scene.removeLayer(this.strokeLayer);\n    scene.removeLayer(this.highlightLayer);\n    scene.removeLayer(this.selectFillLayer);\n    scene.removeLayer(this.selectStrokeLayer);\n  };\n\n  AreaLayer.prototype.update = function (options) {\n    _super.prototype.update.call(this, options);\n\n    this.mappingLayer(this.options);\n\n    if (this.options.visible) {\n      if (!(0, util_1.isUndefined)(options.state) && !(0, util_1.isEqual)(this.lastOptions.state, this.options.state)) {\n        this.updateHighlightLayer();\n      }\n\n      var defaultState = (0, adaptor_1.getDefaultState)(this.options.state);\n\n      if (defaultState.active.stroke) {\n        this.setHighlightLayerSource();\n      }\n\n      if (defaultState.select.fill || defaultState.select.stroke) {\n        this.setSelectLayerSource();\n      }\n    }\n\n    this.initEvent();\n  };\n\n  AreaLayer.prototype.updateHighlightLayer = function () {\n    var defaultState = (0, adaptor_1.getDefaultState)(this.options.state);\n    var lasetDefaultState = (0, adaptor_1.getDefaultState)(this.lastOptions.state);\n\n    if (lasetDefaultState.active.stroke !== defaultState.active.stroke) {\n      defaultState.active.stroke ? this.highlightLayer.show() : this.highlightLayer.hide();\n    }\n\n    if (lasetDefaultState.select.fill !== defaultState.select.fill) {\n      defaultState.select.fill ? this.selectFillLayer.show() : this.selectFillLayer.hide();\n    }\n\n    if (lasetDefaultState.select.stroke !== defaultState.select.stroke) {\n      defaultState.select.stroke ? this.selectStrokeLayer.show() : this.selectStrokeLayer.hide();\n    }\n  };\n\n  AreaLayer.prototype.setIndex = function (zIndex) {\n    this.layer.setIndex(zIndex);\n    this.strokeLayer.setIndex(zIndex);\n    this.highlightLayer.setIndex(zIndex + 0.1);\n    this.selectFillLayer.setIndex(zIndex + 0.1);\n    this.selectStrokeLayer.setIndex(zIndex + 0.1);\n  };\n\n  AreaLayer.prototype.setMinZoom = function (minZoom) {\n    this.layer.setMinZoom(minZoom);\n    this.strokeLayer.setMinZoom(minZoom);\n    this.highlightLayer.setMinZoom(minZoom);\n    this.selectFillLayer.setMinZoom(minZoom);\n    this.selectStrokeLayer.setMinZoom(minZoom);\n  };\n\n  AreaLayer.prototype.setMaxZoom = function (maxZoom) {\n    this.layer.setMaxZoom(maxZoom);\n    this.strokeLayer.setMaxZoom(maxZoom);\n    this.highlightLayer.setMaxZoom(maxZoom);\n    this.selectFillLayer.setMaxZoom(maxZoom);\n    this.selectStrokeLayer.setMaxZoom(maxZoom);\n  };\n\n  AreaLayer.prototype.show = function () {\n    if (!this.layer.inited) return;\n    this.layer.show();\n    this.strokeLayer.show();\n    this.selectFillLayer.show();\n    this.selectStrokeLayer.show();\n  };\n\n  AreaLayer.prototype.hide = function () {\n    if (!this.layer.inited) return;\n    this.layer.hide();\n    this.strokeLayer.hide();\n    this.selectFillLayer.hide();\n    this.selectStrokeLayer.hide();\n  };\n\n  AreaLayer.prototype.getColorLegendItems = function () {\n    var colorLegendItems = this.layer.getLegendItems('color');\n\n    if (Array.isArray(colorLegendItems) && colorLegendItems.length !== 0) {\n      var items = (0, helper_1.getColorLegendItems)(colorLegendItems);\n      return items;\n    }\n\n    return [];\n  };\n\n  AreaLayer.prototype.setActive = function (id) {// TODO: L7 method pickFeature(id|{x,y})\n  };\n\n  AreaLayer.prototype.setSelect = function (id) {// TODO: L7 method pickFeature(id|{x,y})\n  };\n  /**\n   * 默认配置项\n   */\n\n\n  AreaLayer.DefaultOptions = DEFAULT_OPTIONS;\n  /**\n   * 图层配置项 Keys\n   */\n\n  AreaLayer.LayerOptionsKeys = plot_layer_1.PlotLayer.LayerConfigkeys.concat(LAYER_OPTIONS_KEYS);\n  return AreaLayer;\n}(plot_layer_1.PlotLayer);\n\nexports.AreaLayer = AreaLayer;","map":{"version":3,"sources":["../../../../src/layers/area-layer/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AreaLayer = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar l7_layers_1 = require(\"@antv/l7-layers\");\nvar plot_layer_1 = require(\"../../core/layer/plot-layer\");\nvar adaptor_1 = require(\"./adaptor\");\nvar helper_1 = require(\"../dot-layer/helper\");\nvar DEFAULT_OPTIONS = {\n    visible: true,\n    state: {\n        active: false,\n        select: false,\n    },\n    enabledMultiSelect: false,\n};\nvar LAYER_OPTIONS_KEYS = ['color', 'style', 'state', 'enabledMultiSelect'];\nvar AreaLayer = /** @class */ (function (_super) {\n    (0, tslib_1.__extends)(AreaLayer, _super);\n    function AreaLayer(options) {\n        var _this = _super.call(this, options) || this;\n        /**\n         * 选中数据\n         */\n        _this.selectData = [];\n        /**\n         * 图层类型\n         */\n        _this.type = plot_layer_1.PlotLayer.LayerType.AreaLayer;\n        /**\n         * 图层是否具有交互属性\n         */\n        _this.interaction = true;\n        _this.onHighlighHandle = function (event) {\n            var feature = event.feature, featureId = event.featureId;\n            _this.setHighlightLayerSource(feature, featureId);\n        };\n        _this.onUnhighlighHandle = function () {\n            _this.setHighlightLayerSource();\n        };\n        _this.onSelectHandle = function (event) {\n            var enabledMultiSelect = _this.options.enabledMultiSelect;\n            var feature = event.feature, featureId = event.featureId;\n            var selectData = (0, util_1.clone)(_this.selectData);\n            var index = selectData.findIndex(function (item) { return item.featureId === featureId; });\n            if (index === -1) {\n                if (enabledMultiSelect) {\n                    selectData.push({ feature: feature, featureId: featureId });\n                }\n                else {\n                    selectData = [{ feature: feature, featureId: featureId }];\n                }\n                _this.emit('select', feature, (0, util_1.clone)(selectData));\n            }\n            else {\n                var unselectFeature = selectData[index];\n                if (enabledMultiSelect) {\n                    selectData.splice(index, 1);\n                }\n                else {\n                    selectData = [];\n                }\n                _this.emit('unselect', unselectFeature, (0, util_1.clone)(selectData));\n            }\n            _this.setSelectLayerSource(selectData);\n        };\n        var _a = _this.options, name = _a.name, source = _a.source, visible = _a.visible, minZoom = _a.minZoom, maxZoom = _a.maxZoom, _b = _a.zIndex, zIndex = _b === void 0 ? 0 : _b;\n        var config = _this.pickLayerConfig(_this.options);\n        var defaultState = (0, adaptor_1.getDefaultState)(_this.options.state);\n        _this.name = name ? name : (0, util_1.uniqueId)(_this.type);\n        _this.layer = new l7_layers_1.PolygonLayer((0, tslib_1.__assign)((0, tslib_1.__assign)({}, config), { name: _this.name }));\n        _this.strokeLayer = new l7_layers_1.LineLayer({ name: 'strokeLayer', visible: visible, zIndex: zIndex, minZoom: minZoom, maxZoom: maxZoom });\n        _this.highlightLayer = new l7_layers_1.LineLayer({\n            name: 'highlightLayer',\n            visible: visible && Boolean(defaultState.active.stroke),\n            zIndex: zIndex + 0.1,\n            minZoom: minZoom,\n            maxZoom: maxZoom,\n        });\n        _this.selectFillLayer = new l7_layers_1.PolygonLayer({\n            name: 'selectFillLayer',\n            visible: visible && Boolean(defaultState.select.fill),\n            zIndex: zIndex + 0.1,\n            minZoom: minZoom,\n            maxZoom: maxZoom,\n        });\n        _this.selectStrokeLayer = new l7_layers_1.LineLayer({\n            name: 'selectStrokeLayer',\n            visible: visible && Boolean(defaultState.select.stroke),\n            zIndex: zIndex + 0.1,\n            minZoom: minZoom,\n            maxZoom: maxZoom,\n        });\n        _this.mappingLayer(_this.options);\n        _this.setSource(source);\n        _this.initEvent();\n        return _this;\n    }\n    /**\n     * 获取默认配置\n     */\n    AreaLayer.prototype.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    AreaLayer.prototype.mappingLayer = function (options) {\n        (0, adaptor_1.mappingLayer)(this.layer, this.strokeLayer, this.highlightLayer, this.selectFillLayer, this.selectStrokeLayer, options);\n    };\n    AreaLayer.prototype.setSource = function (source) {\n        _super.prototype.setSource.call(this, source);\n        this.setStrokeLayerSource();\n        this.setHighlightLayerSource();\n        this.selectFillLayer.source({ type: 'FeatureCollection', features: [] }, { parser: { type: 'geojson' } });\n        this.selectStrokeLayer.source({ type: 'FeatureCollection', features: [] }, { parser: { type: 'geojson' } });\n    };\n    AreaLayer.prototype.setStrokeLayerSource = function () {\n        var layerSource = this.layer.getSource();\n        if (layerSource) {\n            this.strokeLayer.setSource(layerSource);\n        }\n        else {\n            var _a = this.layer.sourceOption, data = _a.data, options = _a.options;\n            this.strokeLayer.source(data, options);\n        }\n    };\n    AreaLayer.prototype.setHighlightLayerSource = function (feature, featureId) {\n        if (featureId === void 0) { featureId = -999; }\n        if (this.highlightLayerData === featureId) {\n            return;\n        }\n        var features = feature ? [feature] : [];\n        this.highlightLayer.setData({ type: 'FeatureCollection', features: features }, { parser: { type: 'geojson' } });\n        this.highlightLayerData = featureId;\n    };\n    AreaLayer.prototype.setSelectLayerSource = function (selectData) {\n        if (selectData === void 0) { selectData = []; }\n        if (this.selectData.length === selectData.length &&\n            (0, util_1.isEqual)(this.selectData.map(function (_a) {\n                var featureId = _a.featureId;\n                return featureId;\n            }), selectData.map(function (_a) {\n                var featureId = _a.featureId;\n                return featureId;\n            }))) {\n            return;\n        }\n        var features = selectData.map(function (_a) {\n            var feature = _a.feature;\n            return feature;\n        });\n        this.selectFillLayer.setData({ type: 'FeatureCollection', features: features }, { parser: { type: 'geojson' } });\n        this.selectStrokeLayer.setData({ type: 'FeatureCollection', features: features }, { parser: { type: 'geojson' } });\n        this.selectData = selectData;\n    };\n    AreaLayer.prototype.initEvent = function () {\n        this.layer.off('mousemove', this.onHighlighHandle);\n        this.layer.off('unmousemove', this.onHighlighHandle);\n        this.layer.off('click', this.onSelectHandle);\n        this.selectData = [];\n        this.highlightLayerData = null;\n        if (!this.options.state)\n            return;\n        // active\n        if (this.options.state.active) {\n            this.layer.on('mousemove', this.onHighlighHandle);\n            this.layer.on('unmousemove', this.onUnhighlighHandle);\n        }\n        // select\n        if (this.options.state.select) {\n            this.layer.on('click', this.onSelectHandle);\n        }\n    };\n    AreaLayer.prototype.addTo = function (scene) {\n        scene.addLayer(this.layer);\n        scene.addLayer(this.strokeLayer);\n        scene.addLayer(this.highlightLayer);\n        scene.addLayer(this.selectFillLayer);\n        scene.addLayer(this.selectStrokeLayer);\n    };\n    AreaLayer.prototype.remove = function (scene) {\n        scene.removeLayer(this.layer);\n        scene.removeLayer(this.strokeLayer);\n        scene.removeLayer(this.highlightLayer);\n        scene.removeLayer(this.selectFillLayer);\n        scene.removeLayer(this.selectStrokeLayer);\n    };\n    AreaLayer.prototype.update = function (options) {\n        _super.prototype.update.call(this, options);\n        this.mappingLayer(this.options);\n        if (this.options.visible) {\n            if (!(0, util_1.isUndefined)(options.state) && !(0, util_1.isEqual)(this.lastOptions.state, this.options.state)) {\n                this.updateHighlightLayer();\n            }\n            var defaultState = (0, adaptor_1.getDefaultState)(this.options.state);\n            if (defaultState.active.stroke) {\n                this.setHighlightLayerSource();\n            }\n            if (defaultState.select.fill || defaultState.select.stroke) {\n                this.setSelectLayerSource();\n            }\n        }\n        this.initEvent();\n    };\n    AreaLayer.prototype.updateHighlightLayer = function () {\n        var defaultState = (0, adaptor_1.getDefaultState)(this.options.state);\n        var lasetDefaultState = (0, adaptor_1.getDefaultState)(this.lastOptions.state);\n        if (lasetDefaultState.active.stroke !== defaultState.active.stroke) {\n            defaultState.active.stroke ? this.highlightLayer.show() : this.highlightLayer.hide();\n        }\n        if (lasetDefaultState.select.fill !== defaultState.select.fill) {\n            defaultState.select.fill ? this.selectFillLayer.show() : this.selectFillLayer.hide();\n        }\n        if (lasetDefaultState.select.stroke !== defaultState.select.stroke) {\n            defaultState.select.stroke ? this.selectStrokeLayer.show() : this.selectStrokeLayer.hide();\n        }\n    };\n    AreaLayer.prototype.setIndex = function (zIndex) {\n        this.layer.setIndex(zIndex);\n        this.strokeLayer.setIndex(zIndex);\n        this.highlightLayer.setIndex(zIndex + 0.1);\n        this.selectFillLayer.setIndex(zIndex + 0.1);\n        this.selectStrokeLayer.setIndex(zIndex + 0.1);\n    };\n    AreaLayer.prototype.setMinZoom = function (minZoom) {\n        this.layer.setMinZoom(minZoom);\n        this.strokeLayer.setMinZoom(minZoom);\n        this.highlightLayer.setMinZoom(minZoom);\n        this.selectFillLayer.setMinZoom(minZoom);\n        this.selectStrokeLayer.setMinZoom(minZoom);\n    };\n    AreaLayer.prototype.setMaxZoom = function (maxZoom) {\n        this.layer.setMaxZoom(maxZoom);\n        this.strokeLayer.setMaxZoom(maxZoom);\n        this.highlightLayer.setMaxZoom(maxZoom);\n        this.selectFillLayer.setMaxZoom(maxZoom);\n        this.selectStrokeLayer.setMaxZoom(maxZoom);\n    };\n    AreaLayer.prototype.show = function () {\n        if (!this.layer.inited)\n            return;\n        this.layer.show();\n        this.strokeLayer.show();\n        this.selectFillLayer.show();\n        this.selectStrokeLayer.show();\n    };\n    AreaLayer.prototype.hide = function () {\n        if (!this.layer.inited)\n            return;\n        this.layer.hide();\n        this.strokeLayer.hide();\n        this.selectFillLayer.hide();\n        this.selectStrokeLayer.hide();\n    };\n    AreaLayer.prototype.getColorLegendItems = function () {\n        var colorLegendItems = this.layer.getLegendItems('color');\n        if (Array.isArray(colorLegendItems) && colorLegendItems.length !== 0) {\n            var items = (0, helper_1.getColorLegendItems)(colorLegendItems);\n            return items;\n        }\n        return [];\n    };\n    AreaLayer.prototype.setActive = function (id) {\n        // TODO: L7 method pickFeature(id|{x,y})\n    };\n    AreaLayer.prototype.setSelect = function (id) {\n        // TODO: L7 method pickFeature(id|{x,y})\n    };\n    /**\n     * 默认配置项\n     */\n    AreaLayer.DefaultOptions = DEFAULT_OPTIONS;\n    /**\n     * 图层配置项 Keys\n     */\n    AreaLayer.LayerOptionsKeys = plot_layer_1.PlotLayer.LayerConfigkeys.concat(LAYER_OPTIONS_KEYS);\n    return AreaLayer;\n}(plot_layer_1.PlotLayer));\nexports.AreaLayer = AreaLayer;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}