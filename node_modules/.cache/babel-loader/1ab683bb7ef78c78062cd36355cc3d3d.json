{"ast":null,"code":"import _slicedToArray from\"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';/* Components */import DocumentList from'../DocumentList';import ErrorWarning from'../ErrorWarning';import LoadingCard from'../LoadingCard';import DocumentByType from'../DocumentByType';/* Charts */import PieChart from'../charts/PieChart';import VennChart from'../charts/VennChart';/* Utilities */import{APIRequest}from'../../apis/api';import{useLocation}from'react-router';/* UI Library Components */import{Col,Row,Tabs}from'antd';/* UI Library Sub-components */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TabPane=Tabs.TabPane;var ProductionWrapper=function ProductionWrapper(_ref){var core=_ref.core;var location=useLocation();var _APIRequest=APIRequest(\"\".concat(location.pathname).concat(location.search,\"&data=production\")),_APIRequest2=_slicedToArray(_APIRequest,1),state=_APIRequest2[0];var tabMaker=function tabMaker(tabList){return/*#__PURE__*/_jsx(Tabs,{defaultActiveKey:\"0\",type:\"card\",tabBarGutter:5,children:tabList.map(function(item,i){return/*#__PURE__*/_jsx(TabPane,{tab:item,children:/*#__PURE__*/_jsx(DocumentByType,{type:item,core:core})},i);})});};if(state.isError){return/*#__PURE__*/_jsx(ErrorWarning,{});}if(state.isLoading){return/*#__PURE__*/_jsx(LoadingCard,{});}return/*#__PURE__*/_jsxs(Row,{gutter:[15,15],children:[/*#__PURE__*/_jsx(Col,{xs:24,sm:24,md:12,children:/*#__PURE__*/_jsx(PieChart,{data:state.data.open_access,title:\"Acceso Abierto\",core:core})}),/*#__PURE__*/_jsx(VennChart,{data:state.data.venn_source,core:core}),/*#__PURE__*/_jsx(Col,{span:24,children:state.data.types?tabMaker(state.data.types):/*#__PURE__*/_jsx(DocumentList,{data:state.data,core:core})})]});};export default ProductionWrapper;","map":{"version":3,"sources":["/home/manolo/sds-ui/src/components/wrappers/ProductionWrapper.jsx"],"names":["React","DocumentList","ErrorWarning","LoadingCard","DocumentByType","PieChart","VennChart","APIRequest","useLocation","Col","Row","Tabs","TabPane","ProductionWrapper","core","location","pathname","search","state","tabMaker","tabList","map","item","i","isError","isLoading","data","open_access","venn_source","types"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,gBACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CAEA,YACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CAEA,eACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,WAAT,KAA4B,cAA5B,CAEA,2BACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,KAA+B,MAA/B,CAEA,+B,wFACA,GAAQC,CAAAA,OAAR,CAAoBD,IAApB,CAAQC,OAAR,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CACtC,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,gBAAgBD,UAAU,WACrBQ,QAAQ,CAACC,QADY,SACDD,QAAQ,CAACE,MADR,qBAA1B,4CAAOC,KAAP,iBAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,OAAD,CAAa,CAC5B,mBACE,KAAC,IAAD,EAAM,gBAAgB,CAAC,GAAvB,CAA2B,IAAI,CAAC,MAAhC,CAAuC,YAAY,CAAE,CAArD,UACGA,OAAO,CAACC,GAAR,CAAY,SAACC,IAAD,CAAOC,CAAP,qBACX,KAAC,OAAD,EAAS,GAAG,CAAED,IAAd,uBACE,KAAC,cAAD,EAAgB,IAAI,CAAEA,IAAtB,CAA4B,IAAI,CAAER,IAAlC,EADF,EAAyBS,CAAzB,CADW,EAAZ,CADH,EADF,CASD,CAVD,CAYA,GAAIL,KAAK,CAACM,OAAV,CAAmB,CACjB,mBAAO,KAAC,YAAD,IAAP,CACD,CACD,GAAIN,KAAK,CAACO,SAAV,CAAqB,CACnB,mBAAO,KAAC,WAAD,IAAP,CACD,CACD,mBACE,MAAC,GAAD,EAAK,MAAM,CAAE,CAAC,EAAD,CAAK,EAAL,CAAb,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,CAAqB,EAAE,CAAE,EAAzB,uBACE,KAAC,QAAD,EACE,IAAI,CAAEP,KAAK,CAACQ,IAAN,CAAWC,WADnB,CAEE,KAAK,CAAC,gBAFR,CAGE,IAAI,CAAEb,IAHR,EADF,EADF,cAQE,KAAC,SAAD,EAAW,IAAI,CAAEI,KAAK,CAACQ,IAAN,CAAWE,WAA5B,CAAyC,IAAI,CAAEd,IAA/C,EARF,cASE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,UACGI,KAAK,CAACQ,IAAN,CAAWG,KAAX,CACCV,QAAQ,CAACD,KAAK,CAACQ,IAAN,CAAWG,KAAZ,CADT,cAGC,KAAC,YAAD,EAAc,IAAI,CAAEX,KAAK,CAACQ,IAA1B,CAAgC,IAAI,CAAEZ,IAAtC,EAJJ,EATF,GADF,CAmBD,CA3CD,CA6CA,cAAeD,CAAAA,iBAAf","sourcesContent":["import React from 'react';\n\n/* Components */\nimport DocumentList from '../DocumentList';\nimport ErrorWarning from '../ErrorWarning';\nimport LoadingCard from '../LoadingCard';\nimport DocumentByType from '../DocumentByType';\n\n/* Charts */\nimport PieChart from '../charts/PieChart';\nimport VennChart from '../charts/VennChart';\n\n/* Utilities */\nimport { APIRequest } from '../../apis/api';\nimport { useLocation } from 'react-router';\n\n/* UI Library Components */\nimport { Col, Row, Tabs } from 'antd';\n\n/* UI Library Sub-components */\nconst { TabPane } = Tabs;\n\nconst ProductionWrapper = ({ core }) => {\n  const location = useLocation();\n  const [state] = APIRequest(\n    `${location.pathname}${location.search}&data=production`\n  );\n\n  const tabMaker = (tabList) => {\n    return (\n      <Tabs defaultActiveKey=\"0\" type=\"card\" tabBarGutter={5}>\n        {tabList.map((item, i) => (\n          <TabPane tab={item} key={i}>\n            <DocumentByType type={item} core={core} />\n          </TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  if (state.isError) {\n    return <ErrorWarning />;\n  }\n  if (state.isLoading) {\n    return <LoadingCard />;\n  }\n  return (\n    <Row gutter={[15, 15]}>\n      <Col xs={24} sm={24} md={12}>\n        <PieChart\n          data={state.data.open_access}\n          title=\"Acceso Abierto\"\n          core={core}\n        />\n      </Col>\n      <VennChart data={state.data.venn_source} core={core} />\n      <Col span={24}>\n        {state.data.types ? (\n          tabMaker(state.data.types)\n        ) : (\n          <DocumentList data={state.data} core={core} />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nexport default ProductionWrapper;\n"]},"metadata":{},"sourceType":"module"}