{"ast":null,"code":"import _defineProperty from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/manolo/sds-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/* eslint-disable jsx-a11y/click-events-have-key-events  */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { Popover } from 'antd';\nimport 'antd/es/popover/style/index.css';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport { SketchPicker } from 'react-color';\nexport var ColorPicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(ColorPicker, _React$Component);\n\n  var _super = _createSuper(ColorPicker);\n\n  function ColorPicker(props) {\n    var _this;\n\n    _classCallCheck(this, ColorPicker);\n\n    _this = _super.call(this, props);\n\n    _this.onDocumentClick = function (e) {\n      var target = e.target;\n\n      if (target === _this.container || _this.container.contains(target)) {\n        return;\n      }\n\n      _this.setState({\n        active: false\n      });\n\n      _this.unbindDocEvent();\n    };\n\n    _this.handleChange = function (value, event) {\n      if (_this.props.onChange) {\n        _this.props.onChange(value, event);\n      }\n\n      _this.setState({\n        active: false,\n        color: value.rgb\n      });\n\n      _this.unbindDocEvent();\n    };\n\n    _this.handleClick = function (e) {\n      e.stopPropagation();\n\n      if (_this.state.active) {\n        _this.setState({\n          active: false\n        });\n\n        _this.unbindDocEvent();\n      } else {\n        _this.setState({\n          active: true\n        });\n\n        if (!_this.removeDocClickEvent) {\n          _this.removeDocClickEvent = addEventListener(document.documentElement, 'click', _this.onDocumentClick).remove;\n        }\n      }\n    };\n\n    _this.refContainer = function (container) {\n      _this.container = container;\n    };\n\n    _this.state = {\n      active: false,\n      color: props.color\n    };\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unbindDocEvent();\n    }\n  }, {\n    key: \"unbindDocEvent\",\n    value: function unbindDocEvent() {\n      if (this.removeDocClickEvent) {\n        this.removeDocClickEvent();\n        this.removeDocClickEvent = null;\n      }\n    }\n  }, {\n    key: \"renderPicker\",\n    value: function renderPicker() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          disabled = _a.disabled,\n          style = _a.style,\n          props = __rest(_a, [\"prefixCls\", \"disabled\", \"style\"]);\n\n      return React.createElement(SketchPicker, Object.assign({\n        width: \"240px\"\n      }, props, {\n        onChange: this.handleChange\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var color = this.state.color;\n      var _this$props = this.props,\n          disabled = _this$props.disabled,\n          overlayProps = _this$props.overlayProps,\n          style = _this$props.style;\n      var baseCls = \"\".concat(this.props.prefixCls, \"-color-picker\");\n      var popoverProps = {};\n\n      if (disabled) {\n        popoverProps.visible = false;\n      } else {\n        popoverProps.visible = this.state.active;\n      }\n\n      var colorStr = typeof color === 'string' ? color : \"rgba(\".concat(color.r, \",\").concat(color.g, \",\").concat(color.b, \",\").concat(color.a, \")\");\n      return React.createElement(Popover, Object.assign({\n        placement: \"topLeft\"\n      }, overlayProps, popoverProps, {\n        content: this.renderPicker(),\n        overlayClassName: \"\".concat(baseCls, \"-overlay\")\n      }), React.createElement(\"div\", {\n        style: style,\n        ref: this.refContainer,\n        onClick: this.handleClick,\n        className: classNames(baseCls, _defineProperty({}, \"\".concat(baseCls, \"-disabled\"), disabled))\n      }, React.createElement(\"div\", {\n        className: \"\".concat(baseCls, \"-block\"),\n        style: {\n          backgroundColor: disabled ? '#c4c4c4' : colorStr\n        }\n      })));\n    }\n  }]);\n\n  return ColorPicker;\n}(React.Component);\n\n(function (ColorPicker) {\n  ColorPicker.defaultProps = {\n    prefixCls: 'x6',\n    color: '#1890FF'\n  };\n})(ColorPicker || (ColorPicker = {}));","map":{"version":3,"sources":["../../src/color-picker/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events  */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport classNames from 'classnames';\nimport { Popover } from 'antd';\nimport 'antd/es/popover/style/index.css';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport { SketchPicker, } from 'react-color';\nexport class ColorPicker extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onDocumentClick = (e) => {\n            const target = e.target;\n            if (target === this.container || this.container.contains(target)) {\n                return;\n            }\n            this.setState({ active: false });\n            this.unbindDocEvent();\n        };\n        this.handleChange = (value, event) => {\n            if (this.props.onChange) {\n                this.props.onChange(value, event);\n            }\n            this.setState({\n                active: false,\n                color: value.rgb,\n            });\n            this.unbindDocEvent();\n        };\n        this.handleClick = (e) => {\n            e.stopPropagation();\n            if (this.state.active) {\n                this.setState({ active: false });\n                this.unbindDocEvent();\n            }\n            else {\n                this.setState({ active: true });\n                if (!this.removeDocClickEvent) {\n                    this.removeDocClickEvent = addEventListener(document.documentElement, 'click', this.onDocumentClick).remove;\n                }\n            }\n        };\n        this.refContainer = (container) => {\n            this.container = container;\n        };\n        this.state = {\n            active: false,\n            color: props.color,\n        };\n    }\n    componentWillUnmount() {\n        this.unbindDocEvent();\n    }\n    unbindDocEvent() {\n        if (this.removeDocClickEvent) {\n            this.removeDocClickEvent();\n            this.removeDocClickEvent = null;\n        }\n    }\n    renderPicker() {\n        const _a = this.props, { prefixCls, disabled, style } = _a, props = __rest(_a, [\"prefixCls\", \"disabled\", \"style\"]);\n        return (React.createElement(SketchPicker, Object.assign({ width: \"240px\" }, props, { onChange: this.handleChange })));\n    }\n    render() {\n        const { color } = this.state;\n        const { disabled, overlayProps, style } = this.props;\n        const baseCls = `${this.props.prefixCls}-color-picker`;\n        const popoverProps = {};\n        if (disabled) {\n            popoverProps.visible = false;\n        }\n        else {\n            popoverProps.visible = this.state.active;\n        }\n        const colorStr = typeof color === 'string'\n            ? color\n            : `rgba(${color.r},${color.g},${color.b},${color.a})`;\n        return (React.createElement(Popover, Object.assign({ placement: \"topLeft\" }, overlayProps, popoverProps, { content: this.renderPicker(), overlayClassName: `${baseCls}-overlay` }),\n            React.createElement(\"div\", { style: style, ref: this.refContainer, onClick: this.handleClick, className: classNames(baseCls, {\n                    [`${baseCls}-disabled`]: disabled,\n                }) },\n                React.createElement(\"div\", { className: `${baseCls}-block`, style: { backgroundColor: disabled ? '#c4c4c4' : colorStr } }))));\n    }\n}\n(function (ColorPicker) {\n    ColorPicker.defaultProps = {\n        prefixCls: 'x6',\n        color: '#1890FF',\n    };\n})(ColorPicker || (ColorPicker = {}));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}