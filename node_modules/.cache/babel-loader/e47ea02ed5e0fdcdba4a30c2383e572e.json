{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mappingLayer = void 0;\n\nvar layer_1 = require(\"../../adaptor/layer\");\n\nfunction getRampColors(style) {\n  var colorsRamp = style.colorsRamp;\n  var rampColors = {\n    colors: [],\n    positions: []\n  };\n  colorsRamp.forEach(function (_a) {\n    var color = _a.color,\n        position = _a.position;\n    rampColors.colors.push(color);\n    rampColors.positions.push(position);\n  });\n  return rampColors;\n}\n\nfunction mappingLayer(layer, options) {\n  var shape = options.shape,\n      size = options.size,\n      style = options.style,\n      state = options.state; // mapping shape\n\n  shape && layer_1.MappingLayer.shape(layer, shape); // mapping size\n\n  size && layer_1.MappingLayer.size(layer, size); // mapping style\n\n  if (style) {\n    if ('colorsRamp' in style) {\n      style.rampColors = getRampColors(style);\n    }\n\n    layer_1.MappingLayer.style(layer, style);\n  } // mapping state\n\n\n  state && layer_1.MappingLayer.state(layer, state);\n}\n\nexports.mappingLayer = mappingLayer;","map":{"version":3,"sources":["../../../../src/layers/heatmap-layer/adaptor.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAKA,SAAS,aAAT,CAAuB,KAAvB,EAAsD;AAC5C,MAAA,UAAU,GAAK,KAAK,CAAV,UAAV;AACR,MAAM,UAAU,GAAe;AAAE,IAAA,MAAM,EAAE,EAAV;AAAc,IAAA,SAAS,EAAE;AAAzB,GAA/B;AACA,EAAA,UAAU,CAAC,OAAX,CAAmB,UAAC,EAAD,EAAoB;QAAjB,KAAK,GAAA,EAAA,CAAA,K;QAAE,QAAQ,GAAA,EAAA,CAAA,Q;AACnC,IAAA,UAAU,CAAC,MAAX,CAAkB,IAAlB,CAAuB,KAAvB;AACA,IAAA,UAAU,CAAC,SAAX,CAAqB,IAArB,CAA0B,QAA1B;AACD,GAHD;AAIA,SAAO,UAAP;AACD;;AAED,SAAgB,YAAhB,CAA6B,KAA7B,EAA4C,OAA5C,EAAwE;AAC9D,MAAA,KAAK,GAAyB,OAAO,CAAhC,KAAL;AAAA,MAAO,IAAI,GAAmB,OAAO,CAA1B,IAAX;AAAA,MAAa,KAAK,GAAY,OAAO,CAAnB,KAAlB;AAAA,MAAoB,KAAK,GAAK,OAAO,CAAZ,KAAzB,CAD8D,CAEtE;;AACA,EAAA,KAAK,IAAI,OAAA,CAAA,YAAA,CAAa,KAAb,CAAmB,KAAnB,EAA0B,KAA1B,CAAT,CAHsE,CAKtE;;AACA,EAAA,IAAI,IAAI,OAAA,CAAA,YAAA,CAAa,IAAb,CAAkB,KAAlB,EAAyB,IAAzB,CAAR,CANsE,CAQtE;;AACA,MAAI,KAAJ,EAAW;AACT,QAAI,gBAAgB,KAApB,EAA2B;AACzB,MAAA,KAAK,CAAC,UAAN,GAAmB,aAAa,CAAC,KAAD,CAAhC;AACD;;AACD,IAAA,OAAA,CAAA,YAAA,CAAa,KAAb,CAAmB,KAAnB,EAA0B,KAA1B;AACD,GAdqE,CAgBtE;;;AACA,EAAA,KAAK,IAAI,OAAA,CAAA,YAAA,CAAa,KAAb,CAAmB,KAAnB,EAA0B,KAA1B,CAAT;AACD;;AAlBD,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mappingLayer = void 0;\nvar layer_1 = require(\"../../adaptor/layer\");\nfunction getRampColors(style) {\n    var colorsRamp = style.colorsRamp;\n    var rampColors = { colors: [], positions: [] };\n    colorsRamp.forEach(function (_a) {\n        var color = _a.color, position = _a.position;\n        rampColors.colors.push(color);\n        rampColors.positions.push(position);\n    });\n    return rampColors;\n}\nfunction mappingLayer(layer, options) {\n    var shape = options.shape, size = options.size, style = options.style, state = options.state;\n    // mapping shape\n    shape && layer_1.MappingLayer.shape(layer, shape);\n    // mapping size\n    size && layer_1.MappingLayer.size(layer, size);\n    // mapping style\n    if (style) {\n        if ('colorsRamp' in style) {\n            style.rampColors = getRampColors(style);\n        }\n        layer_1.MappingLayer.style(layer, style);\n    }\n    // mapping state\n    state && layer_1.MappingLayer.state(layer, state);\n}\nexports.mappingLayer = mappingLayer;\n//# sourceMappingURL=adaptor.js.map"]},"metadata":{},"sourceType":"script"}